(self.webpackChunkedge_lable=self.webpackChunkedge_lable||[]).push([[179],{8903:(ie,Ne,K)=>{"use strict";function Z(e){return"function"==typeof e}function ae(e){const n=e(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const he=ae(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,s)=>`${s+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function pe(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Ee{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const l of n)l.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(Z(i))try{i()}catch(l){t=l instanceof he?l.errors:[l]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const l of s)try{ve(l)}catch(h){t=t??[],h instanceof he?t=[...t,...h.errors]:t.push(h)}}if(t)throw new he(t)}}add(t){var n;if(t&&t!==this)if(this.closed)ve(t);else{if(t instanceof Ee){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&pe(n,t)}remove(t){const{_finalizers:n}=this;n&&pe(n,t),t instanceof Ee&&t._removeParent(this)}}Ee.EMPTY=(()=>{const e=new Ee;return e.closed=!0,e})();const ge=Ee.EMPTY;function Me(e){return e instanceof Ee||e&&"closed"in e&&Z(e.remove)&&Z(e.add)&&Z(e.unsubscribe)}function ve(e){Z(e)?e():e.unsubscribe()}const Ae={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Pe={setTimeout(e,t,...n){const{delegate:i}=Pe;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Pe;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ge(e){Pe.setTimeout(()=>{const{onUnhandledError:t}=Ae;if(!t)throw e;t(e)})}function qe(){}const $t=tn("C",void 0,void 0);function tn(e,t,n){return{kind:e,value:t,error:n}}let Tt=null;function Te(e){if(Ae.useDeprecatedSynchronousErrorHandling){const t=!Tt;if(t&&(Tt={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:i}=Tt;if(Tt=null,n)throw i}}else e()}class He extends Ee{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Me(t)&&t.add(this)):this.destination=kr}static create(t,n,i){return new ze(t,n,i)}next(t){this.isStopped?jr(function gt(e){return tn("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?jr(function _t(e){return tn("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?jr($t,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function Oe(e,t){return Xe.call(e,t)}class We{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){zt(i)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){zt(i)}else zt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){zt(n)}}}class ze extends He{constructor(t,n,i){let s;if(super(),Z(t)||!t)s={next:t??void 0,error:n??void 0,complete:i??void 0};else{let l;this&&Ae.useDeprecatedNextContext?(l=Object.create(t),l.unsubscribe=()=>this.unsubscribe(),s={next:t.next&&Oe(t.next,l),error:t.error&&Oe(t.error,l),complete:t.complete&&Oe(t.complete,l)}):s=t}this.destination=new We(s)}}function zt(e){Ae.useDeprecatedSynchronousErrorHandling?function $e(e){Ae.useDeprecatedSynchronousErrorHandling&&Tt&&(Tt.errorThrown=!0,Tt.error=e)}(e):Ge(e)}function jr(e,t){const{onStoppedNotification:n}=Ae;n&&Pe.setTimeout(()=>n(e,t))}const kr={closed:!0,next:qe,error:function an(e){throw e},complete:qe},yn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Le(e){return e}function Kt(e){return 0===e.length?Le:1===e.length?e[0]:function(n){return e.reduce((i,s)=>s(i),n)}}let at=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,s){const l=function qp(e){return e&&e instanceof He||function Ve(e){return e&&Z(e.next)&&Z(e.error)&&Z(e.complete)}(e)&&Me(e)}(n)?n:new ze(n,i,s);return Te(()=>{const{operator:h,source:y}=this;l.add(h?h.call(l,y):y?this._subscribe(l):this._trySubscribe(l))}),l}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=kd(i))((s,l)=>{const h=new ze({next:y=>{try{n(y)}catch(b){l(b),h.unsubscribe()}},error:l,complete:s});this.subscribe(h)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[yn](){return this}pipe(...n){return Kt(n)(this)}toPromise(n){return new(n=kd(n))((i,s)=>{let l;this.subscribe(h=>l=h,h=>s(h),()=>i(l))})}}return e.create=t=>new e(t),e})();function kd(e){var t;return null!==(t=e??Ae.Promise)&&void 0!==t?t:Promise}const Zs=ae(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Dn=(()=>{class e extends at{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new fo(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new Zs}next(n){Te(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(n)}})}error(n){Te(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Te(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:s,observers:l}=this;return i||s?ge:(this.currentObservers=null,l.push(n),new Ee(()=>{this.currentObservers=null,pe(l,n)}))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:s,isStopped:l}=this;i?n.error(s):l&&n.complete()}asObservable(){const n=new at;return n.source=this,n}}return e.create=(t,n)=>new fo(t,n),e})();class fo extends Dn{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,t)}error(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==i?i:ge}}function Al(e){return Z(e?.lift)}function Tn(e){return t=>{if(Al(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function _n(e,t,n,i,s){return new Wp(e,t,n,i,s)}class Wp extends He{constructor(t,n,i,s,l,h){super(t),this.onFinalize=l,this.shouldUnsubscribe=h,this._next=n?function(y){try{n(y)}catch(b){t.error(b)}}:super._next,this._error=s?function(y){try{s(y)}catch(b){t.error(b)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(y){t.error(y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function At(e,t){return Tn((n,i)=>{let s=0;n.subscribe(_n(i,l=>{i.next(e.call(t,l,s++))}))})}function aa(e){return this instanceof aa?(this.v=e,this):new aa(e)}function Ld(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Ll(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=e[l]&&function(h){return new Promise(function(y,b){!function s(l,h,y,b){Promise.resolve(b).then(function(S){l({value:S,done:y})},h)}(y,b,(h=e[l](h)).done,h.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Vl=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function po(e){return Z(e?.then)}function vo(e){return Z(e[yn])}function zd(e){return Symbol.asyncIterator&&Z(e?.[Symbol.asyncIterator])}function Ni(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Hd=function Js(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function oa(e){return Z(e?.[Hd])}function $l(e){return function Od(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=n.apply(e,t||[]),l=[];return s={},h("next"),h("throw"),h("return"),s[Symbol.asyncIterator]=function(){return this},s;function h(z){i[z]&&(s[z]=function(q){return new Promise(function(J,fe){l.push([z,q,J,fe])>1||y(z,q)})})}function y(z,q){try{!function b(z){z.value instanceof aa?Promise.resolve(z.value.v).then(S,I):P(l[0][2],z)}(i[z](q))}catch(J){P(l[0][3],J)}}function S(z){y("next",z)}function I(z){y("throw",z)}function P(z,q){z(q),l.shift(),l.length&&y(l[0][0],l[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:i,done:s}=yield aa(n.read());if(s)return yield aa(void 0);yield yield aa(i)}}finally{n.releaseLock()}})}function Ud(e){return Z(e?.getReader)}function Gr(e){if(e instanceof at)return e;if(null!=e){if(vo(e))return function ov(e){return new at(t=>{const n=e[yn]();if(Z(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Vl(e))return function sv(e){return new at(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(po(e))return function zl(e){return new at(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Ge)})}(e);if(zd(e))return Jo(e);if(oa(e))return function jd(e){return new at(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Ud(e))return function Gd(e){return Jo($l(e))}(e)}throw Ni(e)}function Jo(e){return new at(t=>{(function Hl(e,t){var n,i,s,l;return function Nd(e,t,n,i){return new(n||(n=Promise))(function(l,h){function y(I){try{S(i.next(I))}catch(P){h(P)}}function b(I){try{S(i.throw(I))}catch(P){h(P)}}function S(I){I.done?l(I.value):function s(l){return l instanceof n?l:new n(function(h){h(l)})}(I.value).then(y,b)}S((i=i.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Ld(e);!(i=yield n.next()).done;)if(t.next(i.value),t.closed)return}catch(h){s={error:h}}finally{try{i&&!i.done&&(l=n.return)&&(yield l.call(n))}finally{if(s)throw s.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function nn(e,t,n,i=0,s=!1){const l=t.schedule(function(){n(),s?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(l),!s)return l}function Dt(e,t,n=1/0){return Z(t)?Dt((i,s)=>At((l,h)=>t(i,l,s,h))(Gr(e(i,s))),n):("number"==typeof t&&(n=t),Tn((i,s)=>function qd(e,t,n,i,s,l,h,y){const b=[];let S=0,I=0,P=!1;const z=()=>{P&&!b.length&&!S&&t.complete()},q=fe=>S<i?J(fe):b.push(fe),J=fe=>{l&&t.next(fe),S++;let xe=!1;Gr(n(fe,I++)).subscribe(_n(t,Re=>{s?.(Re),l?q(Re):t.next(Re)},()=>{xe=!0},void 0,()=>{if(xe)try{for(S--;b.length&&S<i;){const Re=b.shift();h?nn(t,h,()=>J(Re)):J(Re)}z()}catch(Re){t.error(Re)}}))};return e.subscribe(_n(t,q,()=>{P=!0,z()})),()=>{y?.()}}(i,s,e,n)))}function go(e=1/0){return Dt(Le,e)}const An=new at(e=>e.complete());function eu(e){return e[e.length-1]}function qr(e){return function uv(e){return e&&Z(e.schedule)}(eu(e))?e.pop():void 0}function Kd(e,t=0){return Tn((n,i)=>{n.subscribe(_n(i,s=>nn(i,e,()=>i.next(s),t),()=>nn(i,e,()=>i.complete(),t),s=>nn(i,e,()=>i.error(s),t)))})}function Wr(e,t=0){return Tn((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function Yd(e,t){if(!e)throw new Error("Iterable cannot be null");return new at(n=>{nn(n,t,()=>{const i=e[Symbol.asyncIterator]();nn(n,t,()=>{i.next().then(s=>{s.done?n.complete():n.next(s.value)})},0,!0)})})}function In(e,t){return t?function tu(e,t){if(null!=e){if(vo(e))return function sa(e,t){return Gr(e).pipe(Wr(t),Kd(t))}(e,t);if(Vl(e))return function pi(e,t){return new at(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}(e,t);if(po(e))return function lv(e,t){return Gr(e).pipe(Wr(t),Kd(t))}(e,t);if(zd(e))return Yd(e,t);if(oa(e))return function cv(e,t){return new at(n=>{let i;return nn(n,t,()=>{i=e[Hd](),nn(n,t,()=>{let s,l;try{({value:s,done:l}=i.next())}catch(h){return void n.error(h)}l?n.complete():n.next(s)},0,!0)}),()=>Z(i?.return)&&i.return()})}(e,t);if(Ud(e))return function mo(e,t){return Yd($l(e),t)}(e,t)}throw Ni(e)}(e,t):Gr(e)}function jl(e,t,...n){if(!0===t)return void e();if(!1===t)return;const i=new ze({next:()=>{i.unsubscribe(),e()}});return Gr(t(...n)).subscribe(i)}function un(e){for(let t in e)if(e[t]===un)return t;throw Error("Could not find renamed property on target object.")}function dn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(dn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ql(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const fv=un({__forward_ref__:un});function Wl(e){return e.__forward_ref__=Wl,e.toString=function(){return dn(this())},e}function ct(e){return Kl(e)?e():e}function Kl(e){return"function"==typeof e&&e.hasOwnProperty(fv)&&e.__forward_ref__===Wl}function Yl(e){return e&&!!e.\u0275providers}class Ue extends Error{constructor(t,n){super(Ra(t,n)),this.code=t}}function Ra(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function Ht(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function St(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function nu(e,t){throw new Ue(-201,!1)}function Kr(e,t){null==e&&function rn(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function ut(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function vi(e){return{providers:e.providers||[],imports:e.imports||[]}}function Oi(e){return Jl(e,iu)||Jl(e,ef)}function Jl(e,t){return e.hasOwnProperty(t)?e[t]:null}function Jd(e){return e&&(e.hasOwnProperty(ec)||e.hasOwnProperty(bv))?e[ec]:null}const iu=un({\u0275prov:un}),ec=un({\u0275inj:un}),ef=un({ngInjectableDef:un}),bv=un({ngInjectorDef:un});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let rr;function Yr(e){const t=rr;return rr=e,t}function ns(e,t,n){const i=Oi(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&dt.Optional?null:void 0!==t?t:void nu(dn(e))}const hn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Zr={},ka="__NG_DI_FLAG__",ou="ngTempTokenPath",su="ngTokenPath",hr=/\n/gm,nf="\u0275",uu="__source";let Fi;function ua(e){const t=Fi;return Fi=e,t}function rf(e,t=dt.Default){if(void 0===Fi)throw new Ue(-203,!1);return null===Fi?ns(e,void 0,t):Fi.get(e,t&dt.Optional?null:void 0,t)}function ft(e,t=dt.Default){return(function Li(){return rr}()||rf)(ct(e),t)}function Ut(e,t=dt.Default){return ft(e,cu(t))}function cu(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function du(e){const t=[];for(let n=0;n<e.length;n++){const i=ct(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Ue(900,!1);let s,l=dt.Default;for(let h=0;h<i.length;h++){const y=i[h],b=af(y);"number"==typeof b?-1===b?s=y.token:l|=b:s=y}t.push(ft(s,l))}else t.push(ft(i))}return t}function gi(e,t){return e[ka]=t,e.prototype[ka]=t,e}function af(e){return e[ka]}function ti(e){return{toString:e}.toString()}var mi=(()=>((mi=mi||{})[mi.OnPush=0]="OnPush",mi[mi.Default=1]="Default",mi))(),yi=(()=>{return(e=yi||(yi={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",yi;var e})();const Bi={},Xt=[],rs=un({\u0275cmp:un}),nc=un({\u0275dir:un}),rc=un({\u0275pipe:un}),sf=un({\u0275mod:un}),Vi=un({\u0275fac:un}),is=un({__NG_ELEMENT_ID__:un});let Ev=0;function ic(e){return ti(()=>{const t=as(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===mi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||yi.Emulated,id:"c"+Ev++,styles:e.styles||Xt,_:null,schemas:e.schemas||null,tView:null};fu(n);const i=e.dependencies;return n.directiveDefs=os(i,!1),n.pipeDefs=os(i,!0),n})}function Cv(e){return Yt(e)||En(e)}function Sv(e){return null!==e}function la(e){return ti(()=>({type:e.type,bootstrap:e.bootstrap||Xt,declarations:e.declarations||Xt,imports:e.imports||Xt,exports:e.exports||Xt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ac(e,t){if(null==e)return Bi;const n={};for(const i in e)if(e.hasOwnProperty(i)){let s=e[i],l=s;Array.isArray(s)&&(l=s[1],s=s[0]),n[s]=i,t&&(t[s]=l)}return n}function pr(e){return ti(()=>{const t=as(e);return fu(t),t})}function Yt(e){return e[rs]||null}function En(e){return e[nc]||null}function Kn(e){return e[rc]||null}function vr(e,t){const n=e[sf]||null;if(!n&&!0===t)throw new Error(`Type ${dn(e)} does not have '\u0275mod' property.`);return n}function as(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||Xt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ac(e.inputs,t),outputs:ac(e.outputs)}}function fu(e){e.features?.forEach(t=>t(e))}function os(e,t){if(!e)return null;const n=t?Kn:Cv;return()=>("function"==typeof e?e():e).map(i=>n(i)).filter(Sv)}const wi=0,Ze=1,Rt=2,wn=3,Qr=4,ca=5,ir=6,Eo=7,Cn=8,hu=9,pu=10,kt=11,oc=12,ss=13,cf=14,Co=15,Yn=16,da=17,So=18,bi=19,xo=20,df=21,pn=22,sc=1,ff=2,vu=7,us=8,To=9,ar=10;function Or(e){return Array.isArray(e)&&"object"==typeof e[sc]}function ni(e){return Array.isArray(e)&&!0===e[sc]}function Io(e){return 0!=(4&e.flags)}function ls(e){return e.componentOffset>-1}function ri(e){return!!e.template}function hf(e){return 0!=(256&e[Rt])}function je(e,t){return e.hasOwnProperty(Vi)?e[Vi]:null}class lc{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Oa(){return yf}function yf(e){return e.type.prototype.ngOnChanges&&(e.setInput=_o),Av}function Av(){const e=gu(this),t=e?.current;if(t){const n=e.previous;if(n===Bi)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function _o(e,t,n,i){const s=this.declaredInputs[n],l=gu(e)||function Pv(e,t){return e[$i]=t}(e,{previous:Bi,current:null}),h=l.current||(l.current={}),y=l.previous,b=y[s];h[s]=new lc(b&&b.currentValue,t,y===Bi),e[i]=t}Oa.ngInherit=!0;const $i="__ngSimpleChanges__";function gu(e){return e[$i]||null}const Xr=function(e,t,n){};function Zn(e){for(;Array.isArray(e);)e=e[wi];return e}function Lr(e,t){return Zn(t[e.index])}function Mr(e,t){const n=t[e];return Or(n)?n:n[wi]}function ii(e){return 64==(64&e[Rt])}function gr(e,t){return null==t?null:e[t]}function Fr(e){e[So]=0}function pa(e,t){e[ca]+=t;let n=e,i=e[wn];for(;null!==i&&(1===t&&1===n[ca]||-1===t&&0===n[ca]);)i[ca]+=t,n=i,i=i[wn]}const Et={lFrame:Pf(null),bindingsEnabled:!0};function Df(){return Et.bindingsEnabled}function Ce(){return Et.lFrame.lView}function It(){return Et.lFrame.tView}function Bn(){let e=Sf();for(;null!==e&&64===e.type;)e=e.parent;return e}function Sf(){return Et.lFrame.currentTNode}function Qn(e,t){const n=Et.lFrame;n.currentTNode=e,n.isParent=t}function _r(){return Et.lFrame.isParent}function If(e,t){const n=Et.lFrame;n.bindingIndex=n.bindingRootIndex=e,pc(t)}function pc(e){Et.lFrame.currentDirectiveIndex=e}function ko(){return Et.lFrame.currentQueryIndex}function wu(e){Et.lFrame.currentQueryIndex=e}function Fv(e){const t=e[Ze];return 2===t.type?t.declTNode:1===t.type?e[ir]:null}function _f(e,t,n){if(n&dt.SkipSelf){let s=t,l=e;for(;!(s=s.parent,null!==s||n&dt.Host||(s=Fv(l),null===s||(l=l[Co],10&s.type))););if(null===s)return!1;t=s,e=l}const i=Et.lFrame=Af();return i.currentTNode=t,i.lView=e,!0}function vc(e){const t=Af(),n=e[Ze];Et.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Af(){const e=Et.lFrame,t=null===e?null:e.child;return null===t?Pf(e):t}function Pf(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Rf(){const e=Et.lFrame;return Et.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const kf=Rf;function gc(){const e=Rf();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Va(e){Et.lFrame.selectedIndex=e}function ps(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const l=e.data[n].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:y,ngAfterViewInit:b,ngAfterViewChecked:S,ngOnDestroy:I}=l;h&&(e.contentHooks??(e.contentHooks=[])).push(-n,h),y&&((e.contentHooks??(e.contentHooks=[])).push(n,y),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(n,y)),b&&(e.viewHooks??(e.viewHooks=[])).push(-n,b),S&&((e.viewHooks??(e.viewHooks=[])).push(n,S),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(n,S)),null!=I&&(e.destroyHooks??(e.destroyHooks=[])).push(n,I)}}function Du(e,t,n){mc(e,t,3,n)}function $a(e,t,n,i){(3&e[Rt])===n&&mc(e,t,n,i)}function Ci(e,t){let n=e[Rt];(3&n)===t&&(n&=2047,n+=1,e[Rt]=n)}function mc(e,t,n,i){const l=i??-1,h=t.length-1;let y=0;for(let b=void 0!==i?65535&e[So]:0;b<h;b++)if("number"==typeof t[b+1]){if(y=t[b],null!=i&&y>=i)break}else t[b]<0&&(e[So]+=65536),(y<l||-1==l)&&(Bf(e,n,t,b),e[So]=(4294901760&e[So])+b+2),b++}function Bf(e,t,n,i){const s=n[i]<0,l=n[i+1],y=e[s?-n[i]:n[i]];if(s){if(e[Rt]>>11<e[So]>>16&&(3&e[Rt])===t){e[Rt]+=2048,Xr(4,y,l);try{l.call(y)}finally{Xr(5,y,l)}}}else{Xr(4,y,l);try{l.call(y)}finally{Xr(5,y,l)}}}const No=-1;class vs{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function wc(e,t,n){let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const l=n[i++],h=n[i++],y=n[i++];e.setAttribute(t,h,y,l)}else{const l=s,h=n[++i];bc(l)?e.setProperty(t,l,h):e.setAttribute(t,l,h),i++}}return i}function gs(e){return 3===e||4===e||6===e}function bc(e){return 64===e.charCodeAt(0)}function va(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?n=s:0===n||ms(e,n,s,null,-1===n||2===n?t[++i]:null)}}return e}function ms(e,t,n,i,s){let l=0,h=e.length;if(-1===t)h=-1;else for(;l<e.length;){const y=e[l++];if("number"==typeof y){if(y===t){h=-1;break}if(y>t){h=l-1;break}}}for(;l<e.length;){const y=e[l];if("number"==typeof y)break;if(y===n){if(null===i)return void(null!==s&&(e[l+1]=s));if(i===e[l+1])return void(e[l+2]=s)}l++,null!==i&&l++,null!==s&&l++}-1!==h&&(e.splice(h,0,t),l=h+1),e.splice(l++,0,n),null!==i&&e.splice(l++,0,i),null!==s&&e.splice(l++,0,s)}function Vn(e){return e!==No}function Oo(e){return 32767&e}function Hi(e,t){let n=function Dc(e){return e>>16}(e),i=t;for(;n>0;)i=i[Co],n--;return i}let Ec=!0;function Su(e){const t=Ec;return Ec=e,t}const $f=255,Ui=5;let zf=0;const yr={};function ys(e,t){const n=Cc(e,t);if(-1!==n)return n;const i=t[Ze];i.firstCreatePass&&(e.injectorIndex=t.length,xu(i.data,e),xu(t,null),xu(i.blueprint,null));const s=Tu(e,t),l=e.injectorIndex;if(Vn(s)){const h=Oo(s),y=Hi(s,t),b=y[Ze].data;for(let S=0;S<8;S++)t[l+S]=y[h+S]|b[h+S]}return t[l+8]=s,l}function xu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Cc(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Tu(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,s=t;for(;null!==s;){if(i=Wf(s),null===i)return No;if(n++,s=s[Co],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return No}function Iu(e,t,n){!function or(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(is)&&(i=n[is]),null==i&&(i=n[is]=zf++);const s=i&$f;t.data[e+(s>>Ui)]|=1<<s}(e,t,n)}function $n(e,t,n){if(n&dt.Optional||void 0!==e)return e;nu()}function cn(e,t,n,i){if(n&dt.Optional&&void 0===i&&(i=null),!(n&(dt.Self|dt.Host))){const s=e[hu],l=Yr(void 0);try{return s?s.get(t,i,n&dt.Optional):ns(t,i,n&dt.Optional)}finally{Yr(l)}}return $n(i,0,n)}function Uf(e,t,n,i=dt.Default,s){if(null!==e){if(1024&t[Rt]){const h=function Uv(e,t,n,i,s){let l=e,h=t;for(;null!==l&&null!==h&&1024&h[Rt]&&!(256&h[Rt]);){const y=jf(l,h,n,i|dt.Self,yr);if(y!==yr)return y;let b=l.parent;if(!b){const S=h[df];if(S){const I=S.get(n,yr,i);if(I!==yr)return I}b=Wf(h),h=h[Co]}l=b}return s}(e,t,n,i,yr);if(h!==yr)return h}const l=jf(e,t,n,i,yr);if(l!==yr)return l}return cn(t,n,i,s)}function jf(e,t,n,i,s){const l=function Gf(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(is)?e[is]:void 0;return"number"==typeof t?t>=0?t&$f:ws:t}(n);if("function"==typeof l){if(!_f(t,e,i))return i&dt.Host?$n(s,0,i):cn(t,n,i,s);try{const h=l(i);if(null!=h||i&dt.Optional)return h;nu()}finally{kf()}}else if("number"==typeof l){let h=null,y=Cc(e,t),b=No,S=i&dt.Host?t[Yn][ir]:null;for((-1===y||i&dt.SkipSelf)&&(b=-1===y?Tu(e,t):t[y+8],b!==No&&za(i,!1)?(h=t[Ze],y=Oo(b),t=Hi(b,t)):y=-1);-1!==y;){const I=t[Ze];if(Sc(l,y,I.data)){const P=Hv(y,t,n,h,i,S);if(P!==yr)return P}b=t[y+8],b!==No&&za(i,t[Ze].data[y+8]===S)&&Sc(l,y,t)?(h=I,y=Oo(b),t=Hi(b,t)):y=-1}}return s}function Hv(e,t,n,i,s,l){const h=t[Ze],y=h.data[e+8],I=on(y,h,n,null==i?ls(y)&&Ec:i!=h&&0!=(3&y.type),s&dt.Host&&l===y);return null!==I?Si(t,h,I,y):yr}function on(e,t,n,i,s){const l=e.providerIndexes,h=t.data,y=1048575&l,b=e.directiveStart,I=l>>20,z=s?y+I:e.directiveEnd;for(let q=i?y:y+I;q<z;q++){const J=h[q];if(q<b&&n===J||q>=b&&J.type===n)return q}if(s){const q=h[b];if(q&&ri(q)&&q.type===n)return b}return null}function Si(e,t,n,i){let s=e[n];const l=t.data;if(function Eu(e){return e instanceof vs}(s)){const h=s;h.resolving&&function hv(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ue(-200,`Circular dependency in DI detected for ${e}${n}`)}(Ht(l[n]));const y=Su(h.canSeeViewProviders);h.resolving=!0;const b=h.injectImpl?Yr(h.injectImpl):null;_f(e,i,dt.Default);try{s=e[n]=h.factory(void 0,l,e,i),t.firstCreatePass&&n>=i.directiveStart&&function Ff(e,t,n){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:l}=t.type.prototype;if(i){const h=yf(t);(n.preOrderHooks??(n.preOrderHooks=[])).push(e,h),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,h)}s&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-e,s),l&&((n.preOrderHooks??(n.preOrderHooks=[])).push(e,l),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,l))}(n,l[n],t)}finally{null!==b&&Yr(b),Su(y),h.resolving=!1,kf()}}return s}function Sc(e,t,n){return!!(n[t+(e>>Ui)]&1<<e)}function za(e,t){return!(e&dt.Self||e&dt.Host&&t)}class Lo{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Uf(this._tNode,this._lView,t,cu(i),n)}}function ws(){return new Lo(Bn(),Ce())}function Mu(e){return Kl(e)?()=>{const t=Mu(ct(e));return t&&t()}:je(e)}function Wf(e){const t=e[Ze],n=t.type;return 2===n?t.declTNode:1===n?e[ir]:null}const ga="__parameters__";function ma(e,t,n){return ti(()=>{const i=function xc(e){return function(...n){if(e){const i=e(...n);for(const s in i)this[s]=i[s]}}}(t);function s(...l){if(this instanceof s)return i.apply(this,l),this;const h=new s(...l);return y.annotation=h,y;function y(b,S,I){const P=b.hasOwnProperty(ga)?b[ga]:Object.defineProperty(b,ga,{value:[]})[ga];for(;P.length<=I;)P.push(null);return(P[I]=P[I]||[]).push(h),b}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}class ot{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ut({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xi(e,t){e.forEach(n=>Array.isArray(n)?xi(n,t):t(n))}function Qf(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Au(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Fo=gi(ma("Optional"),8),Es=gi(ma("SkipSelf"),4);var zn=(()=>((zn=zn||{})[zn.Important=1]="Important",zn[zn.DashCase=2]="DashCase",zn))();const As=new Map;let lh=0;const Oc="__ngContext__";function cr(e,t){Or(t)?(e[Oc]=t[xo],function ch(e){As.set(e[xo],e)}(t)):e[Oc]=t}let Wa;function Sn(e,t){return Wa(e,t)}function Wi(e){const t=e[wn];return ni(t)?t[wn]:t}function Lc(e){return mh(e[ss])}function Fc(e){return mh(e[Qr])}function mh(e){for(;null!==e&&!ni(e);)e=e[Qr];return e}function $o(e,t,n,i,s){if(null!=i){let l,h=!1;ni(i)?l=i:Or(i)&&(h=!0,i=i[wi]);const y=Zn(i);0===e&&null!==n?null==s?Sh(t,n,y):Ka(t,n,y,s||null,!0):1===e&&null!==n?Ka(t,n,y,s||null,!0):2===e?function Gu(e,t,n){const i=zo(e,t);i&&function Dg(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,y,h):3===e&&t.destroyNode(y),null!=l&&function Ho(e,t,n,i,s){const l=n[vu];l!==Zn(n)&&$o(t,e,i,l,s);for(let y=ar;y<n.length;y++){const b=n[y];Za(b[Ze],b,e,t,i,l)}}(t,e,l,n,s)}}function Hu(e,t,n){return e.createElement(t,n)}function Vc(e,t){const n=e[To],i=n.indexOf(t),s=t[wn];512&t[Rt]&&(t[Rt]&=-513,pa(s,-1)),n.splice(i,1)}function Uu(e,t){if(e.length<=ar)return;const n=ar+t,i=e[n];if(i){const s=i[da];null!==s&&s!==e&&Vc(s,i),t>0&&(e[n-1][Qr]=i[Qr]);const l=Au(e,ar+t);!function mg(e,t){Za(e,t,t[kt],2,null,null),t[wi]=null,t[ir]=null}(i[Ze],i);const h=l[bi];null!==h&&h.detachView(l[Ze]),i[wn]=null,i[Qr]=null,i[Rt]&=-65}return i}function Dh(e,t){if(!(128&t[Rt])){const n=t[kt];n.destroyNode&&Za(e,t,n,3,null,null),function Jn(e){let t=e[ss];if(!t)return $c(e[Ze],e);for(;t;){let n=null;if(Or(t))n=t[ss];else{const i=t[ar];i&&(n=i)}if(!n){for(;t&&!t[Qr]&&t!==e;)Or(t)&&$c(t[Ze],t),t=t[wn];null===t&&(t=e),Or(t)&&$c(t[Ze],t),n=t&&t[Qr]}t=n}}(t)}}function $c(e,t){if(!(128&t[Rt])){t[Rt]&=-65,t[Rt]|=128,function bg(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const s=t[n[i]];if(!(s instanceof vs)){const l=n[i+1];if(Array.isArray(l))for(let h=0;h<l.length;h+=2){const y=s[l[h]],b=l[h+1];Xr(4,y,b);try{b.call(y)}finally{Xr(5,y,b)}}else{Xr(4,s,l);try{l.call(s)}finally{Xr(5,s,l)}}}}}(e,t),function Eh(e,t){const n=e.cleanup,i=t[Eo];let s=-1;if(null!==n)for(let l=0;l<n.length-1;l+=2)if("string"==typeof n[l]){const h=n[l+3];h>=0?i[s=h]():i[s=-h].unsubscribe(),l+=2}else{const h=i[s=n[l+1]];n[l].call(h)}if(null!==i){for(let l=s+1;l<i.length;l++)(0,i[l])();t[Eo]=null}}(e,t),1===t[Ze].type&&t[kt].destroy();const n=t[da];if(null!==n&&ni(t[wn])){n!==t[wn]&&Vc(n,t);const i=t[bi];null!==i&&i.detachView(e)}!function $u(e){As.delete(e[xo])}(t)}}function Ch(e,t,n){return function oi(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[wi];{const{componentOffset:s}=i;if(s>-1){const{encapsulation:l}=e.data[i.directiveStart+s];if(l===yi.None||l===yi.Emulated)return null}return Lr(i,n)}}(e,t.parent,n)}function Ka(e,t,n,i,s){e.insertBefore(t,n,i,s)}function Sh(e,t,n){e.appendChild(t,n)}function xh(e,t,n,i,s){null!==i?Ka(e,t,n,i,s):Sh(e,t,n)}function zo(e,t){return e.parentNode(t)}let ks,Wu,ba=function ju(e,t,n){return 40&e.type?Lr(e,n):null};function Ns(e,t,n,i){const s=Ch(e,i,t),l=t[kt],y=function zc(e,t,n){return ba(e,t,n)}(i.parent||t[ir],i,t);if(null!=s)if(Array.isArray(n))for(let b=0;b<n.length;b++)xh(l,s,n[b],y,!1);else xh(l,s,n,y,!1);void 0!==ks&&ks(l,i,t,n,s)}function dr(e,t){if(null!==t){const n=t.type;if(3&n)return Lr(t,e);if(4&n)return Mi(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return dr(e,i);{const s=e[t.index];return ni(s)?Mi(-1,s):Zn(s)}}if(32&n)return Sn(t,e)()||Zn(e[t.index]);{const i=Th(e,t);return null!==i?Array.isArray(i)?i[0]:dr(Wi(e[Yn]),i):dr(e,t.next)}}return null}function Th(e,t){return null!==t?e[Yn][ir].projection[t.projection]:null}function Mi(e,t){const n=ar+e+1;if(n<t.length){const i=t[n],s=i[Ze].firstChild;if(null!==s)return dr(i,s)}return t[vu]}function qu(e,t,n,i,s,l,h){for(;null!=n;){const y=i[n.index],b=n.type;if(h&&0===t&&(y&&cr(Zn(y),i),n.flags|=2),32!=(32&n.flags))if(8&b)qu(e,t,n.child,i,s,l,!1),$o(t,e,s,y,l);else if(32&b){const S=Sn(n,i);let I;for(;I=S();)$o(t,e,s,I,l);$o(t,e,s,y,l)}else 16&b?Uc(e,t,i,n,s,l):$o(t,e,s,y,l);n=h?n.projectionNext:n.next}}function Za(e,t,n,i,s,l){qu(n,i,e.firstChild,t,s,l,!1)}function Uc(e,t,n,i,s,l){const h=n[Yn],b=h[ir].projection[i.projection];if(Array.isArray(b))for(let S=0;S<b.length;S++)$o(t,e,s,b[S],l);else qu(e,t,b,h[wn],s,l,!0)}function jc(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Gc(e,t,n){const{mergedAttrs:i,classes:s,styles:l}=n;null!==i&&wc(e,t,i),null!==s&&jc(e,t,s),null!==l&&function Eg(e,t,n){e.setAttribute(t,"style",n)}(e,t,l)}const tt=new ot("ENVIRONMENT_INITIALIZER"),nt=new ot("INJECTOR",-1),Qe=new ot("INJECTOR_DEF_TYPES");class rt{get(t,n=Zr){if(n===Zr){const i=new Error(`NullInjectorError: No provider for ${dn(t)}!`);throw i.name="NullInjectorError",i}return n}}function Lt(...e){return{\u0275providers:yt(0,e),\u0275fromNgModule:!0}}function yt(e,...t){const n=[],i=new Set;let s;return xi(t,l=>{const h=l;re(h,n,[],i)&&(s||(s=[]),s.push(h))}),void 0!==s&&Nt(s,n),n}function Nt(e,t){for(let n=0;n<e.length;n++){const{providers:s}=e[n];ee(s,l=>{t.push(l)})}}function re(e,t,n,i){if(!(e=ct(e)))return!1;let s=null,l=Jd(e);const h=!l&&Yt(e);if(l||h){if(h&&!h.standalone)return!1;s=e}else{const b=e.ngModule;if(l=Jd(b),!l)return!1;s=b}const y=i.has(s);if(h){if(y)return!1;if(i.add(s),h.dependencies){const b="function"==typeof h.dependencies?h.dependencies():h.dependencies;for(const S of b)re(S,t,n,i)}}else{if(!l)return!1;{if(null!=l.imports&&!y){let S;i.add(s);try{xi(l.imports,I=>{re(I,t,n,i)&&(S||(S=[]),S.push(I))})}finally{}void 0!==S&&Nt(S,t)}if(!y){const S=je(s)||(()=>new s);t.push({provide:s,useFactory:S,deps:Xt},{provide:Qe,useValue:s,multi:!0},{provide:tt,useValue:()=>ft(s),multi:!0})}const b=l.providers;null==b||y||ee(b,I=>{t.push(I)})}}return s!==e&&void 0!==e.providers}function ee(e,t){for(let n of e)Yl(n)&&(n=n.\u0275providers),Array.isArray(n)?ee(n,t):t(n)}const we=un({provide:String,useValue:un});function se(e){return null!==e&&"object"==typeof e&&we in e}function ce(e){return"function"==typeof e}const Mt=new ot("Set Injector scope."),Gt={},xt={};let qt;function mt(){return void 0===qt&&(qt=new rt),qt}class ht{}class mn extends ht{get destroyed(){return this._destroyed}constructor(t,n,i,s){super(),this.parent=n,this.source=i,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ca(t,h=>this.processProvider(h)),this.records.set(nt,er(void 0,this)),s.has("environment")&&this.records.set(ht,er(void 0,this));const l=this.records.get(Mt);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(Qe.multi,Xt,dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=ua(this),i=Yr(void 0);try{return t()}finally{ua(n),Yr(i)}}get(t,n=Zr,i=dt.Default){this.assertNotDestroyed(),i=cu(i);const s=ua(this),l=Yr(void 0);try{if(!(i&dt.SkipSelf)){let y=this.records.get(t);if(void 0===y){const b=function Ea(e){return"function"==typeof e||"object"==typeof e&&e instanceof ot}(t)&&Oi(t);y=b&&this.injectableDefInScope(b)?er(Rn(t),Gt):null,this.records.set(t,y)}if(null!=y)return this.hydrate(t,y)}return(i&dt.Self?mt():this.parent).get(t,n=i&dt.Optional&&n===Zr?null:n)}catch(h){if("NullInjectorError"===h.name){if((h[ou]=h[ou]||[]).unshift(dn(t)),s)throw h;return function bo(e,t,n,i){const s=e[ou];throw t[uu]&&s.unshift(t[uu]),e.message=function Dv(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==nf?e.slice(2):e;let s=dn(t);if(Array.isArray(t))s=t.map(dn).join(" -> ");else if("object"==typeof t){let l=[];for(let h in t)if(t.hasOwnProperty(h)){let y=t[h];l.push(h+":"+("string"==typeof y?JSON.stringify(y):dn(y)))}s=`{${l.join(", ")}}`}return`${n}${i?"("+i+")":""}[${s}]: ${e.replace(hr,"\n  ")}`}("\n"+e.message,s,n,i),e[su]=s,e[ou]=null,e}(h,t,"R3InjectorError",this.source)}throw h}finally{Yr(l),ua(s)}}resolveInjectorInitializers(){const t=ua(this),n=Yr(void 0);try{const i=this.get(tt.multi,Xt,dt.Self);for(const s of i)s()}finally{ua(t),Yr(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(dn(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ue(205,!1)}processProvider(t){let n=ce(t=ct(t))?t:ct(t&&t.provide);const i=function ui(e){return se(e)?er(void 0,e.useValue):er(function Hn(e,t,n){let i;if(ce(e)){const s=ct(e);return je(s)||Rn(s)}if(se(e))i=()=>ct(e.useValue);else if(function it(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...du(e.deps||[]));else if(function le(e){return!(!e||!e.useExisting)}(e))i=()=>ft(ct(e.useExisting));else{const s=ct(e&&(e.useClass||e.provide));if(!function Er(e){return!!e.deps}(e))return je(s)||Rn(s);i=()=>new s(...du(e.deps))}return i}(e),Gt)}(t);if(ce(t)||!0!==t.multi)this.records.get(n);else{let s=this.records.get(n);s||(s=er(void 0,Gt,!0),s.factory=()=>du(s.multi),this.records.set(n,s)),n=t,s.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===Gt&&(n.value=xt,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Yi(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=ct(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Rn(e){const t=Oi(e),n=null!==t?t.factory:je(e);if(null!==n)return n;if(e instanceof ot)throw new Ue(204,!1);if(e instanceof Function)return function si(e){const t=e.length;if(t>0)throw function Ti(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}(t,"?"),new Ue(204,!1);const n=function Xd(e){return e&&(e[iu]||e[ef])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Ue(204,!1)}function er(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ca(e,t){for(const n of e)Array.isArray(n)?Ca(n,t):n&&Yl(n)?Ca(n.\u0275providers,t):t(n)}class Xa{}class Ja{}class fr{resolveComponentFactory(t){throw function Yu(e){const t=Error(`No component factory found for ${dn(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Un=(()=>{class e{}return e.NULL=new fr,e})();function Zu(){return Cr(Bn(),Ce())}function Cr(e,t){return new Zi(Lr(e,t))}let Zi=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=Zu,e})();function Tg(e){return e instanceof Zi?e.nativeElement:e}class Ah{}let Mg=(()=>{class e{}return e.\u0275prov=ut({token:e,providedIn:"root",factory:()=>null}),e})();class Xu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const _g=new Xu("15.2.10"),eo={},Bs="ngOriginalError";function el(e){return e[Bs]}class to{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&el(t);for(;n&&el(n);)n=el(n);return n||null}}function no(e){return e instanceof Function?e():e}function y0(e,t,n){let i=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const l=t.length;if(s+l===i||e.charCodeAt(s+l)<=32)return s}n=s+1}}const w0="ng-template";function lS(e,t,n){let i=0,s=!0;for(;i<e.length;){let l=e[i++];if("string"==typeof l&&s){const h=e[i++];if(n&&"class"===l&&-1!==y0(h.toLowerCase(),t,0))return!0}else{if(1===l){for(;i<e.length&&"string"==typeof(l=e[i++]);)if(l.toLowerCase()===t)return!0;return!1}"number"==typeof l&&(s=!1)}}return!1}function b0(e){return 4===e.type&&e.value!==w0}function cS(e,t,n){return t===(4!==e.type||n?e.value:w0)}function dS(e,t,n){let i=4;const s=e.attrs||[],l=function pS(e){for(let t=0;t<e.length;t++)if(gs(e[t]))return t;return e.length}(s);let h=!1;for(let y=0;y<t.length;y++){const b=t[y];if("number"!=typeof b){if(!h)if(4&i){if(i=2|1&i,""!==b&&!cS(e,b,n)||""===b&&1===t.length){if(Qi(i))return!1;h=!0}}else{const S=8&i?b:t[++y];if(8&i&&null!==e.attrs){if(!lS(e.attrs,S,n)){if(Qi(i))return!1;h=!0}continue}const P=fS(8&i?"class":b,s,b0(e),n);if(-1===P){if(Qi(i))return!1;h=!0;continue}if(""!==S){let z;z=P>l?"":s[P+1].toLowerCase();const q=8&i?z:null;if(q&&-1!==y0(q,S,0)||2&i&&S!==z){if(Qi(i))return!1;h=!0}}}}else{if(!h&&!Qi(i)&&!Qi(b))return!1;if(h&&Qi(b))continue;h=!1,i=b|1&i}}return Qi(i)||h}function Qi(e){return 0==(1&e)}function fS(e,t,n,i){if(null===t)return-1;let s=0;if(i||!n){let l=!1;for(;s<t.length;){const h=t[s];if(h===e)return s;if(3===h||6===h)l=!0;else{if(1===h||2===h){let y=t[++s];for(;"string"==typeof y;)y=t[++s];continue}if(4===h)break;if(0===h){s+=4;continue}}s+=l?1:2}return-1}return function vS(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function D0(e,t,n=!1){for(let i=0;i<t.length;i++)if(dS(e,t[i],n))return!0;return!1}function E0(e,t){return e?":not("+t.trim()+")":t}function mS(e){let t=e[0],n=1,i=2,s="",l=!1;for(;n<e.length;){let h=e[n];if("string"==typeof h)if(2&i){const y=e[++n];s+="["+h+(y.length>0?'="'+y+'"':"")+"]"}else 8&i?s+="."+h:4&i&&(s+=" "+h);else""!==s&&!Qi(h)&&(t+=E0(l,s),s=""),i=h,l=l||!Qi(i);n++}return""!==s&&(t+=E0(l,s)),t}const Pt={};function I0(e,t=null,n=null,i){const s=M0(e,t,n,i);return s.resolveInjectorInitializers(),s}function M0(e,t=null,n=null,i,s=new Set){const l=[n||Xt,Lt(e)];return i=i||("object"==typeof e?void 0:dn(e)),new mn(l,t||mt(),i||null,s)}let ro=(()=>{class e{static create(n,i){if(Array.isArray(n))return I0({name:""},i,n,"");{const s=n.name??"";return I0({name:s},n.parent,n.providers,s)}}}return e.THROW_IF_NOT_FOUND=Zr,e.NULL=new rt,e.\u0275prov=ut({token:e,providedIn:"any",factory:()=>ft(nt)}),e.__NG_ELEMENT_ID__=-1,e})();function wt(e,t=dt.Default){const n=Ce();return null===n?ft(e,t):Uf(Bn(),n,ct(e),t)}function L0(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const l=n[i+1];if(-1!==l){const h=e.data[l];wu(n[i]),h.contentQueries(2,t[l],l)}}}function kh(e,t,n,i,s,l,h,y,b,S,I){const P=t.blueprint.slice();return P[wi]=s,P[Rt]=76|i,(null!==I||e&&1024&e[Rt])&&(P[Rt]|=1024),Fr(P),P[wn]=P[Co]=e,P[Cn]=n,P[pu]=h||e&&e[pu],P[kt]=y||e&&e[kt],P[oc]=b||e&&e[oc]||null,P[hu]=S||e&&e[hu]||null,P[ir]=l,P[xo]=function lg(){return lh++}(),P[df]=I,P[Yn]=2==t.type?e[Yn]:P,P}function rl(e,t,n,i,s){let l=e.data[t];if(null===l)l=function Lg(e,t,n,i,s){const l=Sf(),h=_r(),b=e.data[t]=function jS(e,t,n,i,s,l){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,h?l:l&&l.parent,n,t,i,s);return null===e.firstChild&&(e.firstChild=b),null!==l&&(h?null==l.child&&null!==b.parent&&(l.child=b):null===l.next&&(l.next=b,b.prev=l)),b}(e,t,n,i,s),function Tf(){return Et.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=n,l.value=i,l.attrs=s;const h=function Di(){const e=Et.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();l.injectorIndex=null===h?-1:h.injectorIndex}return Qn(l,!0),l}function Qc(e,t,n,i){if(0===n)return-1;const s=t.length;for(let l=0;l<n;l++)t.push(i),e.blueprint.push(i),e.data.push(null);return s}function Fg(e,t,n){vc(t);try{const i=e.viewQuery;null!==i&&qg(1,i,n);const s=e.template;null!==s&&F0(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&L0(e,t),e.staticViewQueries&&qg(2,e.viewQuery,n);const l=e.components;null!==l&&function zS(e,t){for(let n=0;n<t.length;n++)c1(e,t[n])}(t,l)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[Rt]&=-5,gc()}}function Nh(e,t,n,i){const s=t[Rt];if(128!=(128&s)){vc(t);try{Fr(t),function xf(e){return Et.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&F0(e,t,n,2,i);const h=3==(3&s);if(h){const S=e.preOrderCheckHooks;null!==S&&Du(t,S,null)}else{const S=e.preOrderHooks;null!==S&&$a(t,S,0,null),Ci(t,0)}if(function u1(e){for(let t=Lc(e);null!==t;t=Fc(t)){if(!t[ff])continue;const n=t[To];for(let i=0;i<n.length;i++){const s=n[i];512&s[Rt]||pa(s[wn],1),s[Rt]|=512}}}(t),function s1(e){for(let t=Lc(e);null!==t;t=Fc(t))for(let n=ar;n<t.length;n++){const i=t[n],s=i[Ze];ii(i)&&Nh(s,i,s.template,i[Cn])}}(t),null!==e.contentQueries&&L0(e,t),h){const S=e.contentCheckHooks;null!==S&&Du(t,S)}else{const S=e.contentHooks;null!==S&&$a(t,S,1),Ci(t,1)}!function VS(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Va(~s);else{const l=s,h=n[++i],y=n[++i];If(h,l),y(2,t[l])}}}finally{Va(-1)}}(e,t);const y=e.components;null!==y&&function $S(e,t){for(let n=0;n<t.length;n++)l1(e,t[n])}(t,y);const b=e.viewQuery;if(null!==b&&qg(2,b,i),h){const S=e.viewCheckHooks;null!==S&&Du(t,S)}else{const S=e.viewHooks;null!==S&&$a(t,S,2),Ci(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Rt]&=-41,512&t[Rt]&&(t[Rt]&=-513,pa(t[wn],-1))}finally{gc()}}}function F0(e,t,n,i,s){const l=function mr(){return Et.lFrame.selectedIndex}(),h=2&i;try{Va(-1),h&&t.length>pn&&function C0(e,t,n,i){if(!i)if(3==(3&t[Rt])){const l=e.preOrderCheckHooks;null!==l&&Du(t,l,n)}else{const l=e.preOrderHooks;null!==l&&$a(t,l,0,n)}Va(n)}(e,t,pn,!1),Xr(h?2:0,s),n(i,s)}finally{Va(l),Xr(h?3:1,s)}}function Bg(e,t,n){if(Io(t)){const s=t.directiveEnd;for(let l=t.directiveStart;l<s;l++){const h=e.data[l];h.contentQueries&&h.contentQueries(1,n[l],l)}}}function B0(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=zg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function zg(e,t,n,i,s,l,h,y,b,S){const I=pn+i,P=I+s,z=function HS(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:Pt);return n}(I,P),q="function"==typeof S?S():S;return z[Ze]={type:e,blueprint:z,template:n,queries:null,viewQuery:y,declTNode:t,data:z.slice().fill(null,I),bindingStartIndex:I,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof h?h():h,firstChild:null,schemas:b,consts:q,incompleteFirstPass:!1}}function V0(e,t,n,i){const s=function G0(e){return e[Eo]||(e[Eo]=[])}(t);null===n?s.push(i):(s.push(n),e.firstCreatePass&&function q0(e){return e.cleanup||(e.cleanup=[])}(e).push(i,s.length-1))}function $0(e,t,n,i){for(let s in e)if(e.hasOwnProperty(s)){n=null===n?{}:n;const l=e[s];null===i?z0(n,t,s,l):i.hasOwnProperty(s)&&z0(n,t,i[s],l)}return n}function z0(e,t,n,i){e.hasOwnProperty(n)?e[n].push(t,i):e[n]=[t,i]}function H0(e,t,n,i,s,l){for(let S=0;S<i.length;S++)Iu(ys(n,t),e,i[S].type);!function n1(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,i.length);for(let S=0;S<i.length;S++){const I=i[S];I.providersResolver&&I.providersResolver(I)}let h=!1,y=!1,b=Qc(e,t,i.length,null);for(let S=0;S<i.length;S++){const I=i[S];n.mergedAttrs=va(n.mergedAttrs,I.hostAttrs),r1(e,n,t,b,I),t1(b,I,s),null!==I.contentQueries&&(n.flags|=4),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(n.flags|=64);const P=I.type.prototype;!h&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(n.index),h=!0),!y&&(P.ngOnChanges||P.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n.index),y=!0),b++}!function GS(e,t,n){const s=t.directiveEnd,l=e.data,h=t.attrs,y=[];let b=null,S=null;for(let I=t.directiveStart;I<s;I++){const P=l[I],z=n?n.get(P):null,J=z?z.outputs:null;b=$0(P.inputs,I,b,z?z.inputs:null),S=$0(P.outputs,I,S,J);const fe=null===b||null===h||b0(t)?null:o1(b,I,h);y.push(fe)}null!==b&&(b.hasOwnProperty("class")&&(t.flags|=8),b.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=y,t.inputs=b,t.outputs=S}(e,n,l)}function U0(e,t,n){const i=n.directiveStart,s=n.directiveEnd,l=n.index,h=function Mf(){return Et.lFrame.currentDirectiveIndex}();try{Va(l);for(let y=i;y<s;y++){const b=e.data[y],S=t[y];pc(y),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&XS(b,S)}}finally{Va(-1),pc(h)}}function XS(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ug(e,t,n){t.componentOffset=n,(e.components??(e.components=[])).push(t.index)}function t1(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;ri(t)&&(n[""]=e)}}function r1(e,t,n,i,s){e.data[i]=s;const l=s.factory||(s.factory=je(s.type)),h=new vs(l,ri(s),wt);e.blueprint[i]=h,n[i]=h,function YS(e,t,n,i,s){const l=s.hostBindings;if(l){let h=e.hostBindingOpCodes;null===h&&(h=e.hostBindingOpCodes=[]);const y=~t.index;(function ZS(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(h)!=y&&h.push(y),h.push(n,i,l)}}(e,t,i,Qc(e,n,s.hostVars,Pt),s)}function a1(e,t,n,i,s,l){const h=l[t];if(null!==h){const y=i.setInput;for(let b=0;b<h.length;){const S=h[b++],I=h[b++],P=h[b++];null!==y?i.setInput(n,P,S,I):n[I]=P}}}function o1(e,t,n){let i=null,s=0;for(;s<n.length;){const l=n[s];if(0!==l)if(5!==l){if("number"==typeof l)break;if(e.hasOwnProperty(l)){null===i&&(i=[]);const h=e[l];for(let y=0;y<h.length;y+=2)if(h[y]===t){i.push(l,h[y+1],n[s+1]);break}}s+=2}else s+=2;else s+=4}return i}function l1(e,t){const n=Mr(t,e);if(ii(n)){const i=n[Ze];48&n[Rt]?Nh(i,n,i.template,n[Cn]):n[ca]>0&&Gg(n)}}function Gg(e){for(let i=Lc(e);null!==i;i=Fc(i))for(let s=ar;s<i.length;s++){const l=i[s];if(ii(l))if(512&l[Rt]){const h=l[Ze];Nh(h,l,h.template,l[Cn])}else l[ca]>0&&Gg(l)}const n=e[Ze].components;if(null!==n)for(let i=0;i<n.length;i++){const s=Mr(n[i],e);ii(s)&&s[ca]>0&&Gg(s)}}function c1(e,t){const n=Mr(t,e),i=n[Ze];(function d1(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),Fg(i,n,n[Cn])}function Oh(e,t){return e[ss]?e[cf][Qr]=t:e[ss]=t,e[cf]=t,t}function Lh(e){for(;e;){e[Rt]|=32;const t=Wi(e);if(hf(e)&&!t)return e;e=t}return null}function Fh(e,t,n,i=!0){const s=t[pu];s.begin&&s.begin();try{Nh(e,t,e.template,n)}catch(h){throw i&&function K0(e,t){const n=e[hu],i=n?n.get(to,null):null;i&&i.handleError(t)}(t,h),h}finally{s.end&&s.end()}}function qg(e,t,n){wu(0),t(e,n)}function Wg(e,t,n,i,s){for(let l=0;l<n.length;){const h=n[l++],y=n[l++],b=t[h],S=e.data[h];null!==S.setInput?S.setInput(b,s,i,y):b[y]=s}}function Bh(e,t,n){let i=n?e.styles:null,s=n?e.classes:null,l=0;if(null!==t)for(let h=0;h<t.length;h++){const y=t[h];"number"==typeof y?l=y:1==l?s=ql(s,y):2==l&&(i=ql(i,y+": "+t[++h]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=s:e.classesWithoutHost=s}function Vh(e,t,n,i,s=!1){for(;null!==n;){const l=t[n.index];if(null!==l&&i.push(Zn(l)),ni(l))for(let y=ar;y<l.length;y++){const b=l[y],S=b[Ze].firstChild;null!==S&&Vh(b[Ze],b,S,i)}const h=n.type;if(8&h)Vh(e,t,n.child,i);else if(32&h){const y=Sn(n,t);let b;for(;b=y();)i.push(b)}else if(16&h){const y=Th(t,n);if(Array.isArray(y))i.push(...y);else{const b=Wi(t[Yn]);Vh(b[Ze],b,y,i,!0)}}n=s?n.projectionNext:n.next}return i}class Xc{get rootNodes(){const t=this._lView,n=t[Ze];return Vh(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Cn]}set context(t){this._lView[Cn]=t}get destroyed(){return 128==(128&this._lView[Rt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[wn];if(ni(t)){const n=t[us],i=n?n.indexOf(this):-1;i>-1&&(Uu(t,i),Au(n,i))}this._attachedToViewContainer=!1}Dh(this._lView[Ze],this._lView)}onDestroy(t){V0(this._lView[Ze],this._lView,null,t)}markForCheck(){Lh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Rt]&=-65}reattach(){this._lView[Rt]|=64}detectChanges(){Fh(this._lView[Ze],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wh(e,t){Za(e,t,t[kt],2,null,null)}(this._lView[Ze],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ue(902,!1);this._appRef=t}}class f1 extends Xc{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Fh(t[Ze],t,t[Cn],!1)}checkNoChanges(){}get context(){return null}}class Y0 extends Un{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Yt(t);return new Jc(n,this.ngModule)}}function Z0(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class p1{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=cu(i);const s=this.injector.get(t,eo,i);return s!==eo||n===eo?s:this.parentInjector.get(t,n,i)}}class Jc extends Ja{get inputs(){return Z0(this.componentDef.inputs)}get outputs(){return Z0(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function yS(e){return e.map(mS).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,s){let l=(s=s||this.ngModule)instanceof ht?s:s?.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const h=l?new p1(t,l):t,y=h.get(Ah,null);if(null===y)throw new Ue(407,!1);const b=h.get(Mg,null),S=y.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",P=i?function US(e,t,n){return e.selectRootElement(t,n===yi.ShadowDom)}(S,i,this.componentDef.encapsulation):Hu(S,I,function h1(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(I)),z=this.componentDef.onPush?288:272,q=zg(0,null,null,1,0,null,null,null,null,null),J=kh(null,q,null,z,null,null,y,S,b,h,null);let fe,xe;vc(J);try{const Re=this.componentDef;let Ye,Se=null;Re.findHostDirectiveDefs?(Ye=[],Se=new Map,Re.findHostDirectiveDefs(Re,Ye,Se),Ye.push(Re)):Ye=[Re];const lt=function g1(e,t){const n=e[Ze],i=pn;return e[i]=t,rl(n,i,2,"#host",null)}(J,P),sn=function m1(e,t,n,i,s,l,h,y){const b=s[Ze];!function y1(e,t,n,i){for(const s of e)t.mergedAttrs=va(t.mergedAttrs,s.hostAttrs);null!==t.mergedAttrs&&(Bh(t,t.mergedAttrs,!0),null!==n&&Gc(i,n,t))}(i,e,t,h);const S=l.createRenderer(t,n),I=kh(s,B0(n),null,n.onPush?32:16,s[e.index],e,l,S,y||null,null,null);return b.firstCreatePass&&Ug(b,e,i.length-1),Oh(s,I),s[e.index]=I}(lt,P,Re,Ye,J,y,S);xe=function fn(e,t){return e.data[t]}(q,pn),P&&function b1(e,t,n,i){if(i)wc(e,n,["ng-version",_g.full]);else{const{attrs:s,classes:l}=function wS(e){const t=[],n=[];let i=1,s=2;for(;i<e.length;){let l=e[i];if("string"==typeof l)2===s?""!==l&&t.push(l,e[++i]):8===s&&n.push(l);else{if(!Qi(s))break;s=l}i++}return{attrs:t,classes:n}}(t.selectors[0]);s&&wc(e,n,s),l&&l.length>0&&jc(e,n,l.join(" "))}}(S,Re,P,i),void 0!==n&&function D1(e,t,n){const i=e.projection=[];for(let s=0;s<t.length;s++){const l=n[s];i.push(null!=l?Array.from(l):null)}}(xe,this.ngContentSelectors,n),fe=function w1(e,t,n,i,s,l){const h=Bn(),y=s[Ze],b=Lr(h,s);H0(y,s,h,n,null,i);for(let I=0;I<n.length;I++)cr(Si(s,y,h.directiveStart+I,h),s);U0(y,s,h),b&&cr(b,s);const S=Si(s,y,h.directiveStart+h.componentOffset,h);if(e[Cn]=s[Cn]=S,null!==l)for(const I of l)I(S,t);return Bg(y,h,e),S}(sn,Re,Ye,Se,J,[E1]),Fg(q,J,null)}finally{gc()}return new v1(this.componentType,fe,Cr(xe,J),J,xe)}}class v1 extends Xa{constructor(t,n,i,s,l){super(),this.location=i,this._rootLView=s,this._tNode=l,this.instance=n,this.hostView=this.changeDetectorRef=new f1(s),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let s;if(null!==i&&(s=i[t])){const l=this._rootLView;Wg(l[Ze],l,s,t,n),Lh(Mr(this._tNode.index,l))}}get injector(){return new Lo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function E1(){const e=Bn();ps(Ce()[Ze],e)}function Qg(e,t,n,i,s){const h=s?"class":"style";Wg(e,n,t.inputs[h],h,i)}function Hh(e,t,n,i){const s=Ce(),l=It(),h=pn+e,y=s[kt],b=l.firstCreatePass?function $1(e,t,n,i,s,l){const h=t.consts,b=rl(t,e,2,i,gr(h,s));return function Hg(e,t,n,i){if(Df()){const s=null===i?null:{"":-1},l=function JS(e,t){const n=e.directiveRegistry;let i=null,s=null;if(n)for(let l=0;l<n.length;l++){const h=n[l];if(D0(t,h.selectors,!1))if(i||(i=[]),ri(h))if(null!==h.findHostDirectiveDefs){const y=[];s=s||new Map,h.findHostDirectiveDefs(h,y,s),i.unshift(...y,h),Ug(e,t,y.length)}else i.unshift(h),Ug(e,t,0);else s=s||new Map,h.findHostDirectiveDefs?.(h,i,s),i.push(h)}return null===i?null:[i,s]}(e,n);let h,y;null===l?h=y=null:[h,y]=l,null!==h&&H0(e,t,n,h,s,y),s&&function e1(e,t,n){if(t){const i=e.localNames=[];for(let s=0;s<t.length;s+=2){const l=n[t[s+1]];if(null==l)throw new Ue(-301,!1);i.push(t[s],l)}}}(n,i,s)}n.mergedAttrs=va(n.mergedAttrs,n.attrs)}(t,n,b,gr(h,l)),null!==b.attrs&&Bh(b,b.attrs,!1),null!==b.mergedAttrs&&Bh(b,b.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,b),b}(h,l,s,t,n,i):l.data[h],S=s[h]=Hu(y,t,function Vv(){return Et.lFrame.currentNamespace}()),I=function Na(e){return 1==(1&e.flags)}(b);return Qn(b,!0),Gc(y,S,b),32!=(32&b.flags)&&Ns(l,s,S,b),0===function Lv(){return Et.lFrame.elementDepthCount}()&&cr(S,s),function ds(){Et.lFrame.elementDepthCount++}(),I&&(function Vg(e,t,n){Df()&&(function QS(e,t,n,i){const s=n.directiveStart,l=n.directiveEnd;ls(n)&&function i1(e,t,n){const i=Lr(t,e),s=B0(n),l=e[pu],h=Oh(e,kh(e,s,null,n.onPush?32:16,i,t,l,l.createRenderer(i,n),null,null,null));e[t.index]=h}(t,n,e.data[s+n.componentOffset]),e.firstCreatePass||ys(n,t),cr(i,t);const h=n.initialInputs;for(let y=s;y<l;y++){const b=e.data[y],S=Si(t,e,y,n);cr(S,t),null!==h&&a1(0,y-s,S,b,0,h),ri(b)&&(Mr(n.index,t)[Cn]=Si(t,e,y,n))}}(e,t,n,Lr(n,t)),64==(64&n.flags)&&U0(e,t,n))}(l,s,b),Bg(l,b,s)),null!==i&&function $g(e,t,n=Lr){const i=t.localNames;if(null!==i){let s=t.index+1;for(let l=0;l<i.length;l+=2){const h=i[l+1],y=-1===h?n(t,e):e[h];e[s++]=y}}}(s,b),Hh}function Uh(){let e=Bn();_r()?function Br(){Et.lFrame.isParent=!1}():(e=e.parent,Qn(e,!1));const t=e;!function bf(){Et.lFrame.elementDepthCount--}();const n=It();return n.firstCreatePass&&(ps(n,e),Io(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function zv(e){return 0!=(8&e.flags)}(t)&&Qg(n,t,Ce(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Vf(e){return 0!=(16&e.flags)}(t)&&Qg(n,t,Ce(),t.stylesWithoutHost,!1),Uh}function jh(e,t,n,i){return Hh(e,t,n,i),Uh(),jh}function Gh(e){return!!e&&"function"==typeof e.then}const pw=function hw(e){return!!e&&"function"==typeof e.subscribe},vl="en-US";let db=vl;class gl{}class Fb{}class Bb extends gl{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Y0(this);const i=vr(t);this._bootstrapComponents=no(i.bootstrap),this._r3Injector=M0(t,n,[{provide:gl,useValue:this},{provide:Un,useValue:this.componentFactoryResolver}],dn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class hm extends Fb{constructor(t){super(),this.moduleType=t}create(t){return new Bb(this.moduleType,t)}}class FT extends gl{constructor(t,n,i){super(),this.componentFactoryResolver=new Y0(this),this.instance=null;const s=new mn([...t,{provide:gl,useValue:this},{provide:Un,useValue:this.componentFactoryResolver}],n||mt(),i,new Set(["environment"]));this.injector=s,s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Xh(e,t,n=null){return new FT(e,t,n).injector}let BT=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const i=yt(0,n.type),s=i.length>0?Xh([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,s)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=ut({token:e,providedIn:"environment",factory:()=>new e(ft(ht))}),e})();function Vb(e){e.getStandaloneInjector=t=>t.get(BT).getOrCreateStandaloneInjector(e)}function vm(e){return t=>{setTimeout(e,void 0,t)}}const Hr=class cI extends Dn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){let s=t,l=n||(()=>null),h=i;if(t&&"object"==typeof t){const b=t;s=b.next?.bind(b),l=b.error?.bind(b),h=b.complete?.bind(b)}this.__isAsync&&(l=vm(l),s&&(s=vm(s)),h&&(h=vm(h)));const y=super.subscribe({next:s,error:l,complete:h});return t instanceof Ee&&t.add(y),y}};function dI(){return this._results[Symbol.iterator]()}class gm{get changes(){return this._changes||(this._changes=new Hr)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=gm.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=dI)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const s=function lr(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function bs(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let s=e[i],l=t[i];if(n&&(s=n(s),l=n(l)),l!==s)return!1}return!0}(i._results,s,n))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ao=(()=>{class e{}return e.__NG_ELEMENT_ID__=pI,e})();const fI=ao,hI=class extends fI{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(t,n){const i=this._declarationTContainer.tView,s=kh(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,n||null);s[da]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[bi];return null!==h&&(s[bi]=h.createEmbeddedView(i)),Fg(i,s,t),new Xc(s)}};function pI(){return Jh(Bn(),Ce())}function Jh(e,t){return 4&e.type?new hI(t,e,Cr(e,t)):null}let ea=(()=>{class e{}return e.__NG_ELEMENT_ID__=vI,e})();function vI(){return Jb(Bn(),Ce())}const gI=ea,Qb=class extends gI{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Cr(this._hostTNode,this._hostLView)}get injector(){return new Lo(this._hostTNode,this._hostLView)}get parentInjector(){const t=Tu(this._hostTNode,this._hostLView);if(Vn(t)){const n=Hi(t,this._hostLView),i=Oo(t);return new Lo(n[Ze].data[i+8],n)}return new Lo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Xb(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-ar}createEmbeddedView(t,n,i){let s,l;"number"==typeof i?s=i:null!=i&&(s=i.index,l=i.injector);const h=t.createEmbeddedView(n||{},l);return this.insert(h,s),h}createComponent(t,n,i,s,l){const h=t&&!function ai(e){return"function"==typeof e}(t);let y;if(h)y=n;else{const P=n||{};y=P.index,i=P.injector,s=P.projectableNodes,l=P.environmentInjector||P.ngModuleRef}const b=h?t:new Jc(Yt(t)),S=i||this.parentInjector;if(!l&&null==b.ngModule){const z=(h?S:this.parentInjector).get(ht,null);z&&(l=z)}const I=b.create(S,s,void 0,l);return this.insert(I.hostView,y),I}insert(t,n){const i=t._lView,s=i[Ze];if(function ha(e){return ni(e[wn])}(i)){const I=this.indexOf(t);if(-1!==I)this.detach(I);else{const P=i[wn],z=new Qb(P,P[ir],P[wn]);z.detach(z.indexOf(t))}}const l=this._adjustIndex(n),h=this._lContainer;!function bh(e,t,n,i){const s=ar+i,l=n.length;i>0&&(n[s-1][Qr]=t),i<l-ar?(t[Qr]=n[s],Qf(n,ar+i,t)):(n.push(t),t[Qr]=null),t[wn]=n;const h=t[da];null!==h&&n!==h&&function wg(e,t){const n=e[To];t[Yn]!==t[wn][wn][Yn]&&(e[ff]=!0),null===n?e[To]=[t]:n.push(t)}(h,t);const y=t[bi];null!==y&&y.insertView(e),t[Rt]|=64}(s,i,h,l);const y=Mi(l,h),b=i[kt],S=zo(b,h[vu]);return null!==S&&function yg(e,t,n,i,s,l){i[wi]=s,i[ir]=t,Za(e,i,n,1,s,l)}(s,h[ir],b,i,S,y),t.attachToViewContainerRef(),Qf(mm(h),l,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Xb(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=Uu(this._lContainer,n);i&&(Au(mm(this._lContainer),n),Dh(i[Ze],i))}detach(t){const n=this._adjustIndex(t,-1),i=Uu(this._lContainer,n);return i&&null!=Au(mm(this._lContainer),n)?new Xc(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function Xb(e){return e[us]}function mm(e){return e[us]||(e[us]=[])}function Jb(e,t){let n;const i=t[e.index];if(ni(i))n=i;else{let s;if(8&e.type)s=Zn(i);else{const l=t[kt];s=l.createComment("");const h=Lr(e,t);Ka(l,zo(l,h),s,function Ki(e,t){return e.nextSibling(t)}(l,h),!1)}t[e.index]=n=function j0(e,t,n,i){return[e,!0,!1,t,null,0,i,n,null,null]}(i,t,s,e),Oh(t,n)}return new Qb(n,e,t)}class ym{constructor(t){this.queryList=t,this.matches=null}clone(){return new ym(this.queryList)}setDirty(){this.queryList.setDirty()}}class wm{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,s=[];for(let l=0;l<i;l++){const h=n.getByIndex(l);s.push(this.queries[h.indexInDeclarationView].clone())}return new wm(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==oD(t,n).matches&&this.queries[n].setDirty()}}class eD{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class bm{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const s=null!==n?n.length:0,l=this.getByIndex(i).embeddedTView(t,s);l&&(l.indexInDeclarationView=i,null!==n?n.push(l):n=[l])}return null!==n?new bm(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Dm{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Dm(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const l=i[s];this.matchTNodeWithReadOption(t,n,mI(n,l)),this.matchTNodeWithReadOption(t,n,on(n,t,l,!1,!1))}else i===ao?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,on(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===Zi||s===ea||s===ao&&4&n.type)this.addMatch(n.index,-2);else{const l=on(n,t,s,!1,!1);null!==l&&this.addMatch(n.index,l)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function mI(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function wI(e,t,n,i){return-1===n?function yI(e,t){return 11&e.type?Cr(e,t):4&e.type?Jh(e,t):null}(t,e):-2===n?function bI(e,t,n){return n===Zi?Cr(t,e):n===ao?Jh(t,e):n===ea?Jb(t,e):void 0}(e,t,i):Si(e,e[Ze],n,t)}function tD(e,t,n,i){const s=t[bi].queries[i];if(null===s.matches){const l=e.data,h=n.matches,y=[];for(let b=0;b<h.length;b+=2){const S=h[b];y.push(S<0?null:wI(t,l[S],h[b+1],n.metadata.read))}s.matches=y}return s.matches}function Em(e,t,n,i){const s=e.queries.getByIndex(n),l=s.matches;if(null!==l){const h=tD(e,t,s,n);for(let y=0;y<l.length;y+=2){const b=l[y];if(b>0)i.push(h[y/2]);else{const S=l[y+1],I=t[-b];for(let P=ar;P<I.length;P++){const z=I[P];z[da]===z[wn]&&Em(z[Ze],z,S,i)}if(null!==I[To]){const P=I[To];for(let z=0;z<P.length;z++){const q=P[z];Em(q[Ze],q,S,i)}}}}}return i}function Cm(e){const t=Ce(),n=It(),i=ko();wu(i+1);const s=oD(n,i);if(e.dirty&&function Nv(e){return 4==(4&e[Rt])}(t)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const l=s.crossesNgTemplate?Em(n,t,i,[]):tD(n,t,s,i);e.reset(l,Tg),e.notifyOnChanges()}return!0}return!1}function nD(e,t,n){const i=It();i.firstCreatePass&&(function aD(e,t,n){null===e.queries&&(e.queries=new bm),e.queries.track(new Dm(t,n))}(i,new eD(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),function iD(e,t,n){const i=new gm(4==(4&n));V0(e,t,i,i.destroy),null===t[bi]&&(t[bi]=new wm),t[bi].queries.push(new ym(i))}(i,Ce(),t)}function oD(e,t){return e.queries.getByIndex(t)}function tp(...e){}const np=new ot("Application Initializer");let rp=(()=>{class e{constructor(n){this.appInits=n,this.resolve=tp,this.reject=tp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const l=this.appInits[s]();if(Gh(l))n.push(l);else if(pw(l)){const h=new Promise((y,b)=>{l.subscribe({complete:y,error:b})});n.push(h)}}Promise.all(n).then(()=>{i()}).catch(s=>{this.reject(s)}),0===n.length&&i(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(ft(np,8))},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const cd=new ot("AppId",{providedIn:"root",factory:function SD(){return`${Am()}${Am()}${Am()}`}});function Am(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xD=new ot("Platform Initializer"),TD=new ot("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let UI=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const oo=new ot("LocaleId",{providedIn:"root",factory:()=>Ut(oo,dt.Optional|dt.SkipSelf)||function jI(){return typeof $localize<"u"&&$localize.locale||vl}()});class qI{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let ID=(()=>{class e{compileModuleSync(n){return new hm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),l=no(vr(n).declarations).reduce((h,y)=>{const b=Yt(y);return b&&h.push(new Jc(b)),h},[]);return new qI(i,l)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const YI=(()=>Promise.resolve(0))();function Pm(e){typeof Zone>"u"?YI.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class kn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hr(!1),this.onMicrotaskEmpty=new Hr(!1),this.onStable=new Hr(!1),this.onError=new Hr(!1),typeof Zone>"u")throw new Ue(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&n,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function ZI(){let e=hn.requestAnimationFrame,t=hn.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function JI(e){const t=()=>{!function XI(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(hn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,km(e),e.isCheckStableRunning=!0,Rm(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),km(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,s,l,h,y)=>{try{return AD(e),n.invokeTask(s,l,h,y)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||e.shouldCoalesceRunChangeDetection)&&t(),PD(e)}},onInvoke:(n,i,s,l,h,y,b)=>{try{return AD(e),n.invoke(s,l,h,y,b)}finally{e.shouldCoalesceRunChangeDetection&&t(),PD(e)}},onHasTask:(n,i,s,l)=>{n.hasTask(s,l),i===s&&("microTask"==l.change?(e._hasPendingMicrotasks=l.microTask,km(e),Rm(e)):"macroTask"==l.change&&(e.hasPendingMacrotasks=l.macroTask))},onHandleError:(n,i,s,l)=>(n.handleError(s,l),e.runOutsideAngular(()=>e.onError.emit(l)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!kn.isInAngularZone())throw new Ue(909,!1)}static assertNotInAngularZone(){if(kn.isInAngularZone())throw new Ue(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,s){const l=this._inner,h=l.scheduleEventTask("NgZoneEvent: "+s,t,QI,tp,tp);try{return l.runTask(h,n,i)}finally{l.cancelTask(h)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const QI={};function Rm(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function km(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function AD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function PD(e){e._nesting--,Rm(e)}class eM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hr,this.onMicrotaskEmpty=new Hr,this.onStable=new Hr,this.onError=new Hr}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,s){return t.apply(n,i)}}const RD=new ot(""),ip=new ot("");let Lm,Nm=(()=>{class e{constructor(n,i,s){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Lm||(function tM(e){Lm=e}(s),s.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{kn.assertNotInAngularZone(),Pm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,s){let l=-1;i&&i>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==l),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:l,updateCb:s})}whenStable(n,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,s){return[]}}return e.\u0275fac=function(n){return new(n||e)(ft(kn),ft(Om),ft(ip))},e.\u0275prov=ut({token:e,factory:e.\u0275fac}),e})(),Om=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Lm?.findTestabilityInTree(this,n,i)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const so=!1;let jo=null;const kD=new ot("AllowMultipleToken"),Fm=new ot("PlatformDestroyListeners"),ND=new ot("appBootstrapListener");class OD{constructor(t,n){this.name=t,this.token=n}}function FD(e,t,n=[]){const i=`Platform: ${t}`,s=new ot(i);return(l=[])=>{let h=Bm();if(!h||h.injector.get(kD,!1)){const y=[...n,...l,{provide:s,useValue:!0}];e?e(y):function iM(e){if(jo&&!jo.get(kD,!1))throw new Ue(400,!1);jo=e;const t=e.get(VD);(function LD(e){const t=e.get(xD,null);t&&t.forEach(n=>n())})(e)}(function BD(e=[],t){return ro.create({name:t,providers:[{provide:Mt,useValue:"platform"},{provide:Fm,useValue:new Set([()=>jo=null])},...e]})}(y,i))}return function oM(e){const t=Bm();if(!t)throw new Ue(401,!1);return t}()}}function Bm(){return jo?.get(VD)??null}let VD=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const s=function zD(e,t){let n;return n="noop"===e?new eM:("zone.js"===e?void 0:e)||new kn(t),n}(i?.ngZone,function $D(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(i)),l=[{provide:kn,useValue:s}];return s.run(()=>{const h=ro.create({providers:l,parent:this.injector,name:n.moduleType.name}),y=n.create(h),b=y.injector.get(to,null);if(!b)throw new Ue(402,!1);return s.runOutsideAngular(()=>{const S=s.onError.subscribe({next:I=>{b.handleError(I)}});y.onDestroy(()=>{op(this._modules,y),S.unsubscribe()})}),function HD(e,t,n){try{const i=n();return Gh(i)?i.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(b,s,()=>{const S=y.injector.get(rp);return S.runInitializers(),S.donePromise.then(()=>(function fb(e){Kr(e,"Expected localeId to be defined"),"string"==typeof e&&(db=e.toLowerCase().replace(/_/g,"-"))}(y.injector.get(oo,vl)||vl),this._moduleDoBootstrap(y),y))})})}bootstrapModule(n,i=[]){const s=UD({},i);return function nM(e,t,n){const i=new hm(n);return Promise.resolve(i)}(0,0,n).then(l=>this.bootstrapModuleFactory(l,s))}_moduleDoBootstrap(n){const i=n.injector.get(ap);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!n.instance.ngDoBootstrap)throw new Ue(-403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ue(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(Fm,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(ft(ro))},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function UD(e,t){return Array.isArray(t)?t.reduce(UD,e):{...e,...t}}let ap=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,i,s){this._zone=n,this._injector=i,this._exceptionHandler=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new at(y=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{y.next(this._stable),y.complete()})}),h=new at(y=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{kn.assertNotInAngularZone(),Pm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,y.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{kn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{y.next(!1)}))});return()=>{b.unsubscribe(),S.unsubscribe()}});this.isStable=function es(...e){const t=qr(e),n=function Ul(e,t){return"number"==typeof eu(e)?e.pop():t}(e,1/0),i=e;return i.length?1===i.length?Gr(i[0]):go(n)(In(i,t)):An}(l,h.pipe(function dv(e={}){const{connector:t=(()=>new Dn),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:s=!0}=e;return l=>{let h,y,b,S=0,I=!1,P=!1;const z=()=>{y?.unsubscribe(),y=void 0},q=()=>{z(),h=b=void 0,I=P=!1},J=()=>{const fe=h;q(),fe?.unsubscribe()};return Tn((fe,xe)=>{S++,!P&&!I&&z();const Re=b=b??t();xe.add(()=>{S--,0===S&&!P&&!I&&(y=jl(J,s))}),Re.subscribe(xe),!h&&S>0&&(h=new ze({next:Ye=>Re.next(Ye),error:Ye=>{P=!0,z(),y=jl(q,n,Ye),Re.error(Ye)},complete:()=>{I=!0,z(),y=jl(q,i),Re.complete()}}),Gr(fe).subscribe(h))})(l)}}()))}bootstrap(n,i){const s=n instanceof Ja;if(!this._injector.get(rp).done){!s&&function Do(e){const t=Yt(e)||En(e)||Kn(e);return null!==t&&t.standalone}(n);throw new Ue(405,so)}let h;h=s?n:this._injector.get(Un).resolveComponentFactory(n),this.componentTypes.push(h.componentType);const y=function rM(e){return e.isBoundToModule}(h)?void 0:this._injector.get(gl),S=h.create(ro.NULL,[],i||h.selector,y),I=S.location.nativeElement,P=S.injector.get(RD,null);return P?.registerApplication(I),S.onDestroy(()=>{this.detachView(S.hostView),op(this.components,S),P?.unregisterApplication(I)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Ue(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;op(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(ND,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>op(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ue(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(ft(kn),ft(ht),ft(to))},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function op(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Vm=(()=>{class e{}return e.__NG_ELEMENT_ID__=uM,e})();function uM(e){return function lM(e,t,n){if(ls(e)&&!n){const i=Mr(e.index,t);return new Xc(i,i)}return 47&e.type?new Xc(t[Yn],t):null}(Bn(),Ce(),16==(16&e))}const EM=FD(null,"core",[]);let CM=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(ft(ap))},e.\u0275mod=la({type:e}),e.\u0275inj=vi({}),e})(),Gm=null;function js(){return Gm}class TM{}const Jr=new ot("DocumentToken");let qm=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ut({token:e,factory:function(){return function IM(){return ft(eE)}()},providedIn:"platform"}),e})();const MM=new ot("Location Initialized");let eE=(()=>{class e extends qm{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return js().getBaseHref(this._doc)}onPopState(n){const i=js().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=js().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,s){tE()?this._history.pushState(n,i,s):this._location.hash=s}replaceState(n,i,s){tE()?this._history.replaceState(n,i,s):this._location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(ft(Jr))},e.\u0275prov=ut({token:e,factory:function(){return function _M(){return new eE(ft(Jr))}()},providedIn:"platform"}),e})();function tE(){return!!window.history.pushState}function Wm(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function nE(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function uo(e){return e&&"?"!==e[0]?"?"+e:e}let Gs=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ut({token:e,factory:function(){return Ut(iE)},providedIn:"root"}),e})();const rE=new ot("appBaseHref");let iE=(()=>{class e extends Gs{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ut(Jr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Wm(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+uo(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${i}${s}`:i}pushState(n,i,s,l){const h=this.prepareExternalUrl(s+uo(l));this._platformLocation.pushState(n,i,h)}replaceState(n,i,s,l){const h=this.prepareExternalUrl(s+uo(l));this._platformLocation.replaceState(n,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(ft(qm),ft(rE,8))},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),AM=(()=>{class e extends Gs{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=Wm(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,s,l){let h=this.prepareExternalUrl(s+uo(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(n,i,h)}replaceState(n,i,s,l){let h=this.prepareExternalUrl(s+uo(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(ft(qm),ft(rE,8))},e.\u0275prov=ut({token:e,factory:e.\u0275fac}),e})(),Km=(()=>{class e{constructor(n){this._subject=new Hr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._basePath=function kM(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(nE(aE(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+uo(i))}normalize(n){return e.stripTrailingSlash(function RM(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,aE(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",s=null){this._locationStrategy.pushState(s,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+uo(i)),s)}replaceState(n,i="",s=null){this._locationStrategy.replaceState(s,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+uo(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(s=>s(n,i))}subscribe(n,i,s){return this._subject.subscribe({next:n,error:i,complete:s})}}return e.normalizeQueryParams=uo,e.joinWithSlash=Wm,e.stripTrailingSlash=nE,e.\u0275fac=function(n){return new(n||e)(ft(Gs))},e.\u0275prov=ut({token:e,factory:function(){return function PM(){return new Km(ft(Gs))}()},providedIn:"root"}),e})();function aE(e){return e.replace(/\/index.html$/,"")}let K_=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=la({type:e}),e.\u0275inj=vi({}),e})();let X_=(()=>{class e{}return e.\u0275prov=ut({token:e,providedIn:"root",factory:()=>new J_(ft(Jr),window)}),e})();class J_{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function eA(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const l=s.shadowRoot;if(l){const h=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(h)return h}s=i.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,s=n.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],s-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=EE(this.window.history)||EE(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function EE(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class MA extends TM{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class dy extends MA{static makeCurrent(){!function xM(e){Gm||(Gm=e)}(new dy)}onAndCancel(t,n,i){return t.addEventListener(n,i,!1),()=>{t.removeEventListener(n,i,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function _A(){return vd=vd||document.querySelector("base"),vd?vd.getAttribute("href"):null}();return null==n?null:function AA(e){Dp=Dp||document.createElement("a"),Dp.setAttribute("href",e);const t=Dp.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){vd=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function g_(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const i=n.indexOf("="),[s,l]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(s.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,t)}}let Dp,vd=null;const IE=new ot("TRANSITION_ID"),RA=[{provide:np,useFactory:function PA(e,t,n){return()=>{n.get(rp).donePromise.then(()=>{const i=js(),s=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let l=0;l<s.length;l++)i.remove(s[l])})}},deps:[IE,Jr,ro],multi:!0}];let NA=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac}),e})();const Ep=new ot("EventManagerPlugins");let Cp=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,s){return this._findPluginFor(i).addEventListener(n,i,s)}addGlobalEventListener(n,i,s){return this._findPluginFor(i).addGlobalEventListener(n,i,s)}getZone(){return this._zone}_findPluginFor(n){const i=this._eventNameToPlugin.get(n);if(i)return i;const s=this._plugins;for(let l=0;l<s.length;l++){const h=s[l];if(h.supports(n))return this._eventNameToPlugin.set(n,h),h}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(ft(Ep),ft(kn))},e.\u0275prov=ut({token:e,factory:e.\u0275fac}),e})();class ME{constructor(t){this._doc=t}addGlobalEventListener(t,n,i){const s=js().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${n}`);return this.addEventListener(s,n,i)}}let _E=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(n){for(const i of n)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,i){const s=this.usageCount;let l=s.get(n)??0;return l+=i,l>0?s.set(n,l):s.delete(n),l}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac}),e})(),gd=(()=>{class e extends _E{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.forEach(l=>l.remove()),i.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,i){const s=this.doc.createElement("style");s.textContent=i,n.appendChild(s);const l=this.styleRef.get(i);l?l.push(s):this.styleRef.set(i,[s])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return e.\u0275fac=function(n){return new(n||e)(ft(Jr))},e.\u0275prov=ut({token:e,factory:e.\u0275fac}),e})();const fy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hy=/%COMP%/g,RE=new ot("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function kE(e,t){return t.flat(100).map(n=>n.replace(hy,e))}function NE(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let py=(()=>{class e{constructor(n,i,s,l){this.eventManager=n,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestory=l,this.rendererByCompId=new Map,this.defaultRenderer=new vy(n)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;const s=this.getOrCreateRenderer(n,i);return s instanceof FE?s.applyToHost(n):s instanceof gy&&s.applyStyles(),s}getOrCreateRenderer(n,i){const s=this.rendererByCompId;let l=s.get(i.id);if(!l){const h=this.eventManager,y=this.sharedStylesHost,b=this.removeStylesOnCompDestory;switch(i.encapsulation){case yi.Emulated:l=new FE(h,y,i,this.appId,b);break;case yi.ShadowDom:return new zA(h,y,n,i);default:l=new gy(h,y,i,b)}l.onDestroy=()=>s.delete(i.id),s.set(i.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(ft(Cp),ft(gd),ft(cd),ft(RE))},e.\u0275prov=ut({token:e,factory:e.\u0275fac}),e})();class vy{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(fy[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(LE(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(LE(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,s){if(s){n=s+":"+n;const l=fy[s];l?t.setAttributeNS(l,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){const s=fy[i];s?t.removeAttributeNS(s,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,s){s&(zn.DashCase|zn.Important)?t.style.setProperty(n,i,s&zn.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&zn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t[n]=i}setValue(t,n){t.nodeValue=n}listen(t,n,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,NE(i)):this.eventManager.addEventListener(t,n,NE(i))}}function LE(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class zA extends vy{constructor(t,n,i,s){super(t),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=kE(s.id,s.styles);for(const h of l){const y=document.createElement("style");y.textContent=h,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class gy extends vy{constructor(t,n,i,s,l=i.id){super(t),this.sharedStylesHost=n,this.removeStylesOnCompDestory=s,this.rendererUsageCount=0,this.styles=kE(l,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class FE extends gy{constructor(t,n,i,s,l){const h=s+"-"+i.id;super(t,n,i,l,h),this.contentAttr=function BA(e){return"_ngcontent-%COMP%".replace(hy,e)}(h),this.hostAttr=function VA(e){return"_nghost-%COMP%".replace(hy,e)}(h)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}}let HA=(()=>{class e extends ME{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,s){return n.addEventListener(i,s,!1),()=>this.removeEventListener(n,i,s)}removeEventListener(n,i,s){return n.removeEventListener(i,s)}}return e.\u0275fac=function(n){return new(n||e)(ft(Jr))},e.\u0275prov=ut({token:e,factory:e.\u0275fac}),e})();const BE=["alt","control","meta","shift"],UA={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jA={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let GA=(()=>{class e extends ME{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,s){const l=e.parseEventName(i),h=e.eventCallback(l.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>js().onAndCancel(n,l.domEventName,h))}static parseEventName(n){const i=n.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const l=e._normalizeKey(i.pop());let h="",y=i.indexOf("code");if(y>-1&&(i.splice(y,1),h="code."),BE.forEach(S=>{const I=i.indexOf(S);I>-1&&(i.splice(I,1),h+=S+".")}),h+=l,0!=i.length||0===l.length)return null;const b={};return b.domEventName=s,b.fullKey=h,b}static matchEventFullKeyCode(n,i){let s=UA[n.key]||n.key,l="";return i.indexOf("code.")>-1&&(s=n.code,l="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),BE.forEach(h=>{h!==s&&(0,jA[h])(n)&&(l+=h+".")}),l+=s,l===i)}static eventCallback(n,i,s){return l=>{e.matchEventFullKeyCode(l,n)&&s.runGuarded(()=>i(l))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(ft(Jr))},e.\u0275prov=ut({token:e,factory:e.\u0275fac}),e})();const YA=FD(EM,"browser",[{provide:TD,useValue:"browser"},{provide:xD,useValue:function qA(){dy.makeCurrent()},multi:!0},{provide:Jr,useFactory:function KA(){return function Mh(e){Wu=e}(document),document},deps:[]}]),zE=new ot(""),HE=[{provide:ip,useClass:class kA{addToWindow(t){hn.getAngularTestability=(i,s=!0)=>{const l=t.findTestabilityInTree(i,s);if(null==l)throw new Error("Could not find testability for element.");return l},hn.getAllAngularTestabilities=()=>t.getAllTestabilities(),hn.getAllAngularRootElements=()=>t.getAllRootElements(),hn.frameworkStabilizers||(hn.frameworkStabilizers=[]),hn.frameworkStabilizers.push(i=>{const s=hn.getAllAngularTestabilities();let l=s.length,h=!1;const y=function(b){h=h||b,l--,0==l&&i(h)};s.forEach(function(b){b.whenStable(y)})})}findTestabilityInTree(t,n,i){return null==n?null:t.getTestability(n)??(i?js().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:RD,useClass:Nm,deps:[kn,Om,ip]},{provide:Nm,useClass:Nm,deps:[kn,Om,ip]}],UE=[{provide:Mt,useValue:"root"},{provide:to,useFactory:function WA(){return new to},deps:[]},{provide:Ep,useClass:HA,multi:!0,deps:[Jr,kn,TD]},{provide:Ep,useClass:GA,multi:!0,deps:[Jr]},{provide:py,useClass:py,deps:[Cp,gd,cd,RE]},{provide:Ah,useExisting:py},{provide:_E,useExisting:gd},{provide:gd,useClass:gd,deps:[Jr]},{provide:Cp,useClass:Cp,deps:[Ep,kn]},{provide:class tA{},useClass:NA,deps:[]},[]];let ZA=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:cd,useValue:n.appId},{provide:IE,useExisting:cd},RA]}}}return e.\u0275fac=function(n){return new(n||e)(ft(zE,12))},e.\u0275mod=la({type:e}),e.\u0275inj=vi({providers:[...UE,...HE],imports:[K_,CM]}),e})(),jE=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(ft(Jr))},e.\u0275prov=ut({token:e,factory:function(n){let i=null;return i=n?new n:function XA(){return new jE(ft(Jr))}(),i},providedIn:"root"}),e})();function vt(...e){return In(e,qr(e))}typeof window<"u"&&window;class ia extends Dn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const Sp=ae(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:iP}=Array,{getPrototypeOf:aP,prototype:oP,keys:sP}=Object;const{isArray:cP}=Array;function WE(...e){const t=qr(e),n=function qn(e){return Z(eu(e))?e.pop():void 0}(e),{args:i,keys:s}=function uP(e){if(1===e.length){const t=e[0];if(iP(t))return{args:t,keys:null};if(function lP(e){return e&&"object"==typeof e&&aP(e)===oP}(t)){const n=sP(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}(e);if(0===i.length)return In([],t);const l=new at(function pP(e,t,n=Le){return i=>{KE(t,()=>{const{length:s}=e,l=new Array(s);let h=s,y=s;for(let b=0;b<s;b++)KE(t,()=>{const S=In(e[b],t);let I=!1;S.subscribe(_n(i,P=>{l[b]=P,I||(I=!0,y--),y||i.next(n(l.slice()))},()=>{--h||i.complete()}))},i)},i)}}(i,t,s?h=>function hP(e,t){return e.reduce((n,i,s)=>(n[i]=t[s],n),{})}(s,h):Le));return n?l.pipe(function fP(e){return At(t=>function dP(e,t){return cP(t)?e(...t):e(t)}(e,t))}(n)):l}function KE(e,t,n){e?nn(n,e,t):t()}function wy(...e){return function vP(){return go(1)}()(In(e,qr(e)))}function YE(e){return new at(t=>{Gr(e()).subscribe(t)})}function md(e,t){const n=Z(e)?e:()=>e,i=s=>s.error(n());return new at(t?s=>t.schedule(i,0,s):i)}function by(){return Tn((e,t)=>{let n=null;e._refCount++;const i=_n(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const s=e._connection,l=n;n=null,s&&(!l||s===l)&&s.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}class ZE extends at{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Al(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ee;const n=this.getSubject();t.add(this.source.subscribe(_n(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ee.EMPTY)}return t}refCount(){return by()(this)}}function _a(e,t){return Tn((n,i)=>{let s=null,l=0,h=!1;const y=()=>h&&!s&&i.complete();n.subscribe(_n(i,b=>{s?.unsubscribe();let S=0;const I=l++;Gr(e(b,I)).subscribe(s=_n(i,P=>i.next(t?t(b,P,I,S++):P),()=>{s=null,y()}))},()=>{h=!0,y()}))})}function wl(e){return e<=0?()=>An:Tn((t,n)=>{let i=0;t.subscribe(_n(n,s=>{++i<=e&&(n.next(s),e<=i&&n.complete())}))})}function qo(e,t){return Tn((n,i)=>{let s=0;n.subscribe(_n(i,l=>e.call(t,l,s++)&&i.next(l)))})}function xp(e){return Tn((t,n)=>{let i=!1;t.subscribe(_n(n,s=>{i=!0,n.next(s)},()=>{i||n.next(e),n.complete()}))})}function QE(e=mP){return Tn((t,n)=>{let i=!1;t.subscribe(_n(n,s=>{i=!0,n.next(s)},()=>i?n.complete():n.error(e())))})}function mP(){return new Sp}function Wo(e,t){const n=arguments.length>=2;return i=>i.pipe(e?qo((s,l)=>e(s,l,i)):Le,wl(1),n?xp(t):QE(()=>new Sp))}function qs(e,t){return Z(t)?Dt(e,t,1):Dt(e,1)}function Rr(e,t,n){const i=Z(e)||t||n?{next:e,error:t,complete:n}:e;return i?Tn((s,l)=>{var h;null===(h=i.subscribe)||void 0===h||h.call(i);let y=!0;s.subscribe(_n(l,b=>{var S;null===(S=i.next)||void 0===S||S.call(i,b),l.next(b)},()=>{var b;y=!1,null===(b=i.complete)||void 0===b||b.call(i),l.complete()},b=>{var S;y=!1,null===(S=i.error)||void 0===S||S.call(i,b),l.error(b)},()=>{var b,S;y&&(null===(b=i.unsubscribe)||void 0===b||b.call(i)),null===(S=i.finalize)||void 0===S||S.call(i)}))}):Le}function Ko(e){return Tn((t,n)=>{let l,i=null,s=!1;i=t.subscribe(_n(n,void 0,void 0,h=>{l=Gr(e(h,Ko(e)(t))),i?(i.unsubscribe(),i=null,l.subscribe(n)):s=!0})),s&&(i.unsubscribe(),i=null,l.subscribe(n))})}function XE(e,t){return Tn(function yP(e,t,n,i,s){return(l,h)=>{let y=n,b=t,S=0;l.subscribe(_n(h,I=>{const P=S++;b=y?e(b,I,P):(y=!0,I),i&&h.next(b)},s&&(()=>{y&&h.next(b),h.complete()})))}}(e,t,arguments.length>=2,!0))}function Dy(e){return e<=0?()=>An:Tn((t,n)=>{let i=[];t.subscribe(_n(n,s=>{i.push(s),e<i.length&&i.shift()},()=>{for(const s of i)n.next(s);n.complete()},void 0,()=>{i=null}))})}function JE(e,t){const n=arguments.length>=2;return i=>i.pipe(e?qo((s,l)=>e(s,l,i)):Le,Dy(1),n?xp(t):QE(()=>new Sp))}function Ey(e){return Tn((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Ot="primary",yd=Symbol("RouteTitle");class DP{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function bl(e){return new DP(e)}function EP(e,t,n){const i=n.path.split("/");if(i.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const s={};for(let l=0;l<i.length;l++){const h=i[l],y=e[l];if(h.startsWith(":"))s[h.substring(1)]=y;else if(h!==y.path)return null}return{consumed:e.slice(0,i.length),posParams:s}}function Aa(e,t){const n=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!n||!i||n.length!=i.length)return!1;let s;for(let l=0;l<n.length;l++)if(s=n[l],!eC(e[s],t[s]))return!1;return!0}function eC(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((s,l)=>i[l]===s)}return e===t}function tC(e){return Array.prototype.concat.apply([],e)}function nC(e){return e.length>0?e[e.length-1]:null}function Sr(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Yo(e){return pw(e)?e:Gh(e)?In(Promise.resolve(e)):vt(e)}const Tp=!1,SP={exact:function aC(e,t,n){if(!Ws(e.segments,t.segments)||!Ip(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!e.children[i]||!aC(e.children[i],t.children[i],n))return!1;return!0},subset:oC},rC={exact:function xP(e,t){return Aa(e,t)},subset:function TP(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>eC(e[n],t[n]))},ignored:()=>!0};function iC(e,t,n){return SP[n.paths](e.root,t.root,n.matrixParams)&&rC[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function oC(e,t,n){return sC(e,t,t.segments,n)}function sC(e,t,n,i){if(e.segments.length>n.length){const s=e.segments.slice(0,n.length);return!(!Ws(s,n)||t.hasChildren()||!Ip(s,n,i))}if(e.segments.length===n.length){if(!Ws(e.segments,n)||!Ip(e.segments,n,i))return!1;for(const s in t.children)if(!e.children[s]||!oC(e.children[s],t.children[s],i))return!1;return!0}{const s=n.slice(0,e.segments.length),l=n.slice(e.segments.length);return!!(Ws(e.segments,s)&&Ip(e.segments,s,i)&&e.children[Ot])&&sC(e.children[Ot],t,l,i)}}function Ip(e,t,n){return t.every((i,s)=>rC[n](e[s].parameters,i.parameters))}class Zo{constructor(t=new Vt([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bl(this.queryParams)),this._queryParamMap}toString(){return _P.serialize(this)}}class Vt{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Sr(n,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mp(this)}}class wd{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=bl(this.parameters)),this._parameterMap}toString(){return cC(this)}}function Ws(e,t){return e.length===t.length&&e.every((n,i)=>n.path===t[i].path)}let bd=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ut({token:e,factory:function(){return new Cy},providedIn:"root"}),e})();class Cy{parse(t){const n=new BP(t);return new Zo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Dd(t.root,!0)}`,i=function RP(e){const t=Object.keys(e).map(n=>{const i=e[n];return Array.isArray(i)?i.map(s=>`${_p(n)}=${_p(s)}`).join("&"):`${_p(n)}=${_p(i)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${i}${"string"==typeof t.fragment?`#${function AP(e){return encodeURI(e)}(t.fragment)}`:""}`}}const _P=new Cy;function Mp(e){return e.segments.map(t=>cC(t)).join("/")}function Dd(e,t){if(!e.hasChildren())return Mp(e);if(t){const n=e.children[Ot]?Dd(e.children[Ot],!1):"",i=[];return Sr(e.children,(s,l)=>{l!==Ot&&i.push(`${l}:${Dd(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function MP(e,t){let n=[];return Sr(e.children,(i,s)=>{s===Ot&&(n=n.concat(t(i,s)))}),Sr(e.children,(i,s)=>{s!==Ot&&(n=n.concat(t(i,s)))}),n}(e,(i,s)=>s===Ot?[Dd(e.children[Ot],!1)]:[`${s}:${Dd(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Ot]?`${Mp(e)}/${n[0]}`:`${Mp(e)}/(${n.join("//")})`}}function uC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _p(e){return uC(e).replace(/%3B/gi,";")}function Sy(e){return uC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ap(e){return decodeURIComponent(e)}function lC(e){return Ap(e.replace(/\+/g,"%20"))}function cC(e){return`${Sy(e.path)}${function PP(e){return Object.keys(e).map(t=>`;${Sy(t)}=${Sy(e[t])}`).join("")}(e.parameters)}`}const kP=/^[^\/()?;=#]+/;function Pp(e){const t=e.match(kP);return t?t[0]:""}const NP=/^[^=?&#]+/,LP=/^[^&#]+/;class BP{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[Ot]=new Vt(t,n)),i}parseSegment(){const t=Pp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Ue(4009,Tp);return this.capture(t),new wd(Ap(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=Pp(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const s=Pp(this.remaining);s&&(i=s,this.capture(i))}t[Ap(n)]=Ap(i)}parseQueryParam(t){const n=function OP(e){const t=e.match(NP);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const h=function FP(e){const t=e.match(LP);return t?t[0]:""}(this.remaining);h&&(i=h,this.capture(i))}const s=lC(n),l=lC(i);if(t.hasOwnProperty(s)){let h=t[s];Array.isArray(h)||(h=[h],t[s]=h),h.push(l)}else t[s]=l}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Pp(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new Ue(4010,Tp);let l;i.indexOf(":")>-1?(l=i.slice(0,i.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=Ot);const h=this.parseChildren();n[l]=1===Object.keys(h).length?h[Ot]:new Vt([],h),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Ue(4011,Tp)}}function xy(e){return e.segments.length>0?new Vt([],{[Ot]:e}):e}function Rp(e){const t={};for(const i of Object.keys(e.children)){const l=Rp(e.children[i]);(l.segments.length>0||l.hasChildren())&&(t[i]=l)}return function VP(e){if(1===e.numberOfChildren&&e.children[Ot]){const t=e.children[Ot];return new Vt(e.segments.concat(t.segments),t.children)}return e}(new Vt(e.segments,t))}function Ks(e){return e instanceof Zo}const Ty=!1;function $P(e,t,n,i,s){if(0===n.length)return Dl(t.root,t.root,t.root,i,s);const l=function vC(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new pC(!0,0,e);let t=0,n=!1;const i=e.reduce((s,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const y={};return Sr(l.outlets,(b,S)=>{y[S]="string"==typeof b?b.split("/"):b}),[...s,{outlets:y}]}if(l.segmentPath)return[...s,l.segmentPath]}return"string"!=typeof l?[...s,l]:0===h?(l.split("/").forEach((y,b)=>{0==b&&"."===y||(0==b&&""===y?n=!0:".."===y?t++:""!=y&&s.push(y))}),s):[...s,l]},[]);return new pC(n,t,i)}(n);return l.toRoot()?Dl(t.root,t.root,new Vt([],{}),i,s):function h(b){const S=function HP(e,t,n,i){if(e.isAbsolute)return new El(t.root,!0,0);if(-1===i)return new El(n,n===t.root,0);return function gC(e,t,n){let i=e,s=t,l=n;for(;l>s;){if(l-=s,i=i.parent,!i)throw new Ue(4005,Ty&&"Invalid number of '../'");s=i.segments.length}return new El(i,!1,s-l)}(n,i+(Ed(e.commands[0])?0:1),e.numberOfDoubleDots)}(l,t,e.snapshot?._urlSegment,b),I=S.processChildren?Cl(S.segmentGroup,S.index,l.commands):Iy(S.segmentGroup,S.index,l.commands);return Dl(t.root,S.segmentGroup,I,i,s)}(e.snapshot?._lastPathIndex)}function Ed(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Cd(e){return"object"==typeof e&&null!=e&&e.outlets}function Dl(e,t,n,i,s){let h,l={};i&&Sr(i,(b,S)=>{l[S]=Array.isArray(b)?b.map(I=>`${I}`):`${b}`}),h=e===t?n:hC(e,t,n);const y=xy(Rp(h));return new Zo(y,l,s)}function hC(e,t,n){const i={};return Sr(e.children,(s,l)=>{i[l]=s===t?n:hC(s,t,n)}),new Vt(e.segments,i)}class pC{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&Ed(i[0]))throw new Ue(4003,Ty&&"Root segment cannot have matrix parameters");const s=i.find(Cd);if(s&&s!==nC(i))throw new Ue(4004,Ty&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class El{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}}function Iy(e,t,n){if(e||(e=new Vt([],{})),0===e.segments.length&&e.hasChildren())return Cl(e,t,n);const i=function jP(e,t,n){let i=0,s=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(i>=n.length)return l;const h=e.segments[s],y=n[i];if(Cd(y))break;const b=`${y}`,S=i<n.length-1?n[i+1]:null;if(s>0&&void 0===b)break;if(b&&S&&"object"==typeof S&&void 0===S.outlets){if(!yC(b,S,h))return l;i+=2}else{if(!yC(b,{},h))return l;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(e,t,n),s=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const l=new Vt(e.segments.slice(0,i.pathIndex),{});return l.children[Ot]=new Vt(e.segments.slice(i.pathIndex),e.children),Cl(l,0,s)}return i.match&&0===s.length?new Vt(e.segments,{}):i.match&&!e.hasChildren()?My(e,t,n):i.match?Cl(e,0,s):My(e,t,n)}function Cl(e,t,n){if(0===n.length)return new Vt(e.segments,{});{const i=function UP(e){return Cd(e[0])?e[0].outlets:{[Ot]:e}}(n),s={};if(!i[Ot]&&e.children[Ot]&&1===e.numberOfChildren&&0===e.children[Ot].segments.length){const l=Cl(e.children[Ot],t,n);return new Vt(e.segments,l.children)}return Sr(i,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(s[h]=Iy(e.children[h],t,l))}),Sr(e.children,(l,h)=>{void 0===i[h]&&(s[h]=l)}),new Vt(e.segments,s)}}function My(e,t,n){const i=e.segments.slice(0,t);let s=0;for(;s<n.length;){const l=n[s];if(Cd(l)){const b=GP(l.outlets);return new Vt(i,b)}if(0===s&&Ed(n[0])){i.push(new wd(e.segments[t].path,mC(n[0]))),s++;continue}const h=Cd(l)?l.outlets[Ot]:`${l}`,y=s<n.length-1?n[s+1]:null;h&&y&&Ed(y)?(i.push(new wd(h,mC(y))),s+=2):(i.push(new wd(h,{})),s++)}return new Vt(i,{})}function GP(e){const t={};return Sr(e,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[i]=My(new Vt([],{}),0,n))}),t}function mC(e){const t={};return Sr(e,(n,i)=>t[i]=`${n}`),t}function yC(e,t,n){return e==n.path&&Aa(t,n.parameters)}const Sd="imperative";class Pa{constructor(t,n){this.id=t,this.url=n}}class _y extends Pa{constructor(t,n,i="imperative",s=null){super(t,n),this.type=0,this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ys extends Pa{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class kp extends Pa{constructor(t,n,i,s){super(t,n),this.reason=i,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Np extends Pa{constructor(t,n,i,s){super(t,n),this.reason=i,this.code=s,this.type=16}}class Ay extends Pa{constructor(t,n,i,s){super(t,n),this.error=i,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qP extends Pa{constructor(t,n,i,s){super(t,n),this.urlAfterRedirects=i,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WP extends Pa{constructor(t,n,i,s){super(t,n),this.urlAfterRedirects=i,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KP extends Pa{constructor(t,n,i,s,l){super(t,n),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class YP extends Pa{constructor(t,n,i,s){super(t,n),this.urlAfterRedirects=i,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZP extends Pa{constructor(t,n,i,s){super(t,n),this.urlAfterRedirects=i,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QP{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class XP{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class JP{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eR{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tR{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nR{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wC{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let aR=(()=>{class e{createUrlTree(n,i,s,l,h,y){return $P(n||i.root,s,l,h,y)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac}),e})(),sR=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ut({token:e,factory:function(t){return aR.\u0275fac(t)},providedIn:"root"}),e})();class bC{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Py(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){const n=Py(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Ry(t,this._root);return n.length<2?[]:n[n.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return Ry(t,this._root).map(n=>n.value)}}function Py(e,t){if(e===t.value)return t;for(const n of t.children){const i=Py(e,n);if(i)return i}return null}function Ry(e,t){if(e===t.value)return[t];for(const n of t.children){const i=Ry(e,n);if(i.length)return i.unshift(t),i}return[]}class co{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Sl(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class DC extends bC{constructor(t,n){super(t),this.snapshot=n,ky(this,t)}toString(){return this.snapshot.toString()}}function EC(e,t){const n=function uR(e,t){const h=new Op([],{},{},"",{},Ot,t,null,e.root,-1,{});return new SC("",new co(h,[]))}(e,t),i=new ia([new wd("",{})]),s=new ia({}),l=new ia({}),h=new ia({}),y=new ia(""),b=new xl(i,s,h,y,l,Ot,t,n.root);return b.snapshot=n.root,new DC(new co(b,[]),n)}class xl{constructor(t,n,i,s,l,h,y,b){this.url=t,this.params=n,this.queryParams=i,this.fragment=s,this.data=l,this.outlet=h,this.component=y,this.title=this.data?.pipe(At(S=>S[yd]))??vt(void 0),this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(At(t=>bl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(At(t=>bl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CC(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const s=n[i],l=n[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(l.component)break;i--}}return function lR(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Op{get title(){return this.data?.[yd]}constructor(t,n,i,s,l,h,y,b,S,I,P){this.url=t,this.params=n,this.queryParams=i,this.fragment=s,this.data=l,this.outlet=h,this.component=y,this.routeConfig=b,this._urlSegment=S,this._lastPathIndex=I,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class SC extends bC{constructor(t,n){super(n),this.url=t,ky(this,n)}toString(){return xC(this._root)}}function ky(e,t){t.value._routerState=e,t.children.forEach(n=>ky(e,n))}function xC(e){const t=e.children.length>0?` { ${e.children.map(xC).join(", ")} } `:"";return`${e.value}${t}`}function Ny(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Aa(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Aa(t.params,n.params)||e.params.next(n.params),function CP(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Aa(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Aa(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Oy(e,t){const n=Aa(e.params,t.params)&&function IP(e,t){return Ws(e,t)&&e.every((n,i)=>Aa(n.parameters,t[i].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Oy(e.parent,t.parent))}function xd(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const s=function dR(e,t,n){return t.children.map(i=>{for(const s of n.children)if(e.shouldReuseRoute(i.value,s.value.snapshot))return xd(e,i,s);return xd(e,i)})}(e,t,n);return new co(i,s)}{if(e.shouldAttach(t.value)){const l=e.retrieve(t.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=t.value,h.children=t.children.map(y=>xd(e,y)),h}}const i=function fR(e){return new xl(new ia(e.url),new ia(e.params),new ia(e.queryParams),new ia(e.fragment),new ia(e.data),e.outlet,e.component,e)}(t.value),s=t.children.map(l=>xd(e,l));return new co(i,s)}}const Ly="ngNavigationCancelingError";function TC(e,t){const{redirectTo:n,navigationBehaviorOptions:i}=Ks(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,s=IC(!1,0,t);return s.url=n,s.navigationBehaviorOptions=i,s}function IC(e,t,n){const i=new Error("NavigationCancelingError: "+(e||""));return i[Ly]=!0,i.cancellationCode=t,n&&(i.url=n),i}function MC(e){return _C(e)&&Ks(e.url)}function _C(e){return e&&e[Ly]}class hR{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Td,this.attachRef=null}}let Td=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const s=this.getOrCreateContext(n);s.outlet=i,this.contexts.set(n,s)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new hR,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Lp=!1;let AC=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ot,this.activateEvents=new Hr,this.deactivateEvents=new Hr,this.attachEvents=new Hr,this.detachEvents=new Hr,this.parentContexts=Ut(Td),this.location=Ut(ea),this.changeDetector=Ut(Vm),this.environmentInjector=Ut(ht)}ngOnChanges(n){if(n.name){const{firstChange:i,previousValue:s}=n.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ue(4012,Lp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ue(4012,Lp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ue(4012,Lp);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new Ue(4013,Lp);this._activatedRoute=n;const s=this.location,h=n.snapshot.component,y=this.parentContexts.getOrCreateContext(this.name).children,b=new pR(n,y,s.injector);if(i&&function vR(e){return!!e.resolveComponentFactory}(i)){const S=i.resolveComponentFactory(h);this.activated=s.createComponent(S,s.length,b)}else this.activated=s.createComponent(h,{index:s.length,injector:b,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=pr({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Oa]}),e})();class pR{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===xl?this.route:t===Td?this.childContexts:this.parent.get(t,n)}}let Fy=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ic({type:e,selectors:[["ng-component"]],standalone:!0,features:[Vb],decls:1,vars:0,template:function(n,i){1&n&&jh(0,"router-outlet")},dependencies:[AC],encapsulation:2}),e})();function PC(e,t){return e.providers&&!e._injector&&(e._injector=Xh(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Vy(e){const t=e.children&&e.children.map(Vy),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Ot&&(n.component=Fy),n}function Ri(e){return e.outlet||Ot}function RC(e,t){const n=e.filter(i=>Ri(i)===t);return n.push(...e.filter(i=>Ri(i)!==t)),n}function Id(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class bR{constructor(t,n,i,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=s}activate(t){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),Ny(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){const s=Sl(n);t.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,s[h],i),delete s[h]}),Sr(s,(l,h)=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(t,n,i){const s=t.value,l=n?n.value:null;if(s===l)if(s.component){const h=i.getContext(s.outlet);h&&this.deactivateChildRoutes(t,n,h.children)}else this.deactivateChildRoutes(t,n,i);else l&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const i=n.getContext(t.value.outlet),s=i&&t.value.component?i.children:n,l=Sl(t);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],s);if(i&&i.outlet){const h=i.outlet.detach(),y=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:h,route:t,contexts:y})}}deactivateRouteAndOutlet(t,n){const i=n.getContext(t.value.outlet),s=i&&t.value.component?i.children:n,l=Sl(t);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],s);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,n,i){const s=Sl(n);t.children.forEach(l=>{this.activateRoutes(l,s[l.value.outlet],i),this.forwardEvent(new nR(l.value.snapshot))}),t.children.length&&this.forwardEvent(new eR(t.value.snapshot))}activateRoutes(t,n,i){const s=t.value,l=n?n.value:null;if(Ny(s),s===l)if(s.component){const h=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,n,h.children)}else this.activateChildRoutes(t,n,i);else if(s.component){const h=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const y=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),h.children.onOutletReAttached(y.contexts),h.attachRef=y.componentRef,h.route=y.route.value,h.outlet&&h.outlet.attach(y.componentRef,y.route.value),Ny(y.route.value),this.activateChildRoutes(t,null,h.children)}else{const y=Id(s.snapshot),b=y?.get(Un)??null;h.attachRef=null,h.route=s,h.resolver=b,h.injector=y,h.outlet&&h.outlet.activateWith(s,h.injector),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,i)}}class kC{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Fp{constructor(t,n){this.component=t,this.route=n}}function DR(e,t,n){const i=e._root;return Md(i,t?t._root:null,n,[i.value])}function Tl(e,t){const n=Symbol(),i=t.get(e,n);return i===n?"function"!=typeof e||function wv(e){return null!==Oi(e)}(e)?t.get(e):e:i}function Md(e,t,n,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const l=Sl(t);return e.children.forEach(h=>{(function CR(e,t,n,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const l=e.value,h=t?t.value:null,y=n?n.getContext(e.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const b=function SR(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Ws(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ws(e.url,t.url)||!Aa(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Oy(e,t)||!Aa(e.queryParams,t.queryParams);default:return!Oy(e,t)}}(h,l,l.routeConfig.runGuardsAndResolvers);b?s.canActivateChecks.push(new kC(i)):(l.data=h.data,l._resolvedData=h._resolvedData),Md(e,t,l.component?y?y.children:null:n,i,s),b&&y&&y.outlet&&y.outlet.isActivated&&s.canDeactivateChecks.push(new Fp(y.outlet.component,h))}else h&&_d(t,y,s),s.canActivateChecks.push(new kC(i)),Md(e,null,l.component?y?y.children:null:n,i,s)})(h,l[h.value.outlet],n,i.concat([h.value]),s),delete l[h.value.outlet]}),Sr(l,(h,y)=>_d(h,n.getContext(y),s)),s}function _d(e,t,n){const i=Sl(e),s=e.value;Sr(i,(l,h)=>{_d(l,s.component?t?t.children.getContext(h):null:t,n)}),n.canDeactivateChecks.push(new Fp(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}function Ad(e){return"function"==typeof e}function $y(e){return e instanceof Sp||"EmptyError"===e?.name}const Bp=Symbol("INITIAL_VALUE");function Il(){return _a(e=>WE(e.map(t=>t.pipe(wl(1),function gP(...e){const t=qr(e);return Tn((n,i)=>{(t?wy(e,n,t):wy(e,n)).subscribe(i)})}(Bp)))).pipe(At(t=>{for(const n of t)if(!0!==n){if(n===Bp)return Bp;if(!1===n||n instanceof Zo)return n}return!0}),qo(t=>t!==Bp),wl(1)))}function NC(e){return function Zt(...e){return Kt(e)}(Rr(t=>{if(Ks(t))throw TC(0,t)}),At(t=>!0===t))}const zy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function OC(e,t,n,i,s){const l=Hy(e,t,n);return l.matched?function zR(e,t,n,i){const s=t.canMatch;return s&&0!==s.length?vt(s.map(h=>{const y=Tl(h,e);return Yo(function AR(e){return e&&Ad(e.canMatch)}(y)?y.canMatch(t,n):e.runInContext(()=>y(t,n)))})).pipe(Il(),NC()):vt(!0)}(i=PC(t,i),t,n).pipe(At(h=>!0===h?l:{...zy})):vt(l)}function Hy(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...zy}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(t.matcher||EP)(n,e,t);if(!s)return{...zy};const l={};Sr(s.posParams,(y,b)=>{l[b]=y.path});const h=s.consumed.length>0?{...l,...s.consumed[s.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:h,positionalParamSegments:s.posParams??{}}}function Vp(e,t,n,i){if(n.length>0&&function jR(e,t,n){return n.some(i=>$p(e,t,i)&&Ri(i)!==Ot)}(e,n,i)){const l=new Vt(t,function UR(e,t,n,i){const s={};s[Ot]=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const l of n)if(""===l.path&&Ri(l)!==Ot){const h=new Vt([],{});h._sourceSegment=e,h._segmentIndexShift=t.length,s[Ri(l)]=h}return s}(e,t,i,new Vt(n,e.children)));return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:[]}}if(0===n.length&&function GR(e,t,n){return n.some(i=>$p(e,t,i))}(e,n,i)){const l=new Vt(e.segments,function HR(e,t,n,i,s){const l={};for(const h of i)if($p(e,n,h)&&!s[Ri(h)]){const y=new Vt([],{});y._sourceSegment=e,y._segmentIndexShift=t.length,l[Ri(h)]=y}return{...s,...l}}(e,t,n,i,e.children));return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:n}}const s=new Vt(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function $p(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function LC(e,t,n,i){return!!(Ri(e)===i||i!==Ot&&$p(t,n,e))&&("**"===e.path||Hy(t,e,n).matched)}function FC(e,t,n){return 0===t.length&&!e.children[n]}const zp=!1;class Hp{constructor(t){this.segmentGroup=t||null}}class BC{constructor(t){this.urlTree=t}}function Pd(e){return md(new Hp(e))}function VC(e){return md(new BC(e))}class YR{constructor(t,n,i,s,l){this.injector=t,this.configLoader=n,this.urlSerializer=i,this.urlTree=s,this.config=l,this.allowRedirects=!0}apply(){const t=Vp(this.urlTree.root,[],[],this.config).segmentGroup,n=new Vt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,Ot).pipe(At(l=>this.createUrlTree(Rp(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ko(l=>{if(l instanceof BC)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Hp?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Ot).pipe(At(s=>this.createUrlTree(Rp(s),t.queryParams,t.fragment))).pipe(Ko(s=>{throw s instanceof Hp?this.noMatchError(s):s}))}noMatchError(t){return new Ue(4002,zp)}createUrlTree(t,n,i){const s=xy(t);return new Zo(s,n,i)}expandSegmentGroup(t,n,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,n,i).pipe(At(l=>new Vt([],l))):this.expandSegment(t,i,n,i.segments,s,!0)}expandChildren(t,n,i){const s=[];for(const l of Object.keys(i.children))"primary"===l?s.unshift(l):s.push(l);return In(s).pipe(qs(l=>{const h=i.children[l],y=RC(n,l);return this.expandSegmentGroup(t,y,h,l).pipe(At(b=>({segment:b,outlet:l})))}),XE((l,h)=>(l[h.outlet]=h.segment,l),{}),JE())}expandSegment(t,n,i,s,l,h){return In(i).pipe(qs(y=>this.expandSegmentAgainstRoute(t,n,i,y,s,l,h).pipe(Ko(S=>{if(S instanceof Hp)return vt(null);throw S}))),Wo(y=>!!y),Ko((y,b)=>{if($y(y))return FC(n,s,l)?vt(new Vt([],{})):Pd(n);throw y}))}expandSegmentAgainstRoute(t,n,i,s,l,h,y){return LC(s,n,l,h)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,n,s,l,h):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,i,s,l,h):Pd(n):Pd(n)}expandSegmentAgainstRouteUsingRedirect(t,n,i,s,l,h){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,s,h):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,s,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s){const l=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?VC(l):this.lineralizeSegments(i,l).pipe(Dt(h=>{const y=new Vt(h,{});return this.expandSegment(t,y,n,h,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,s,l,h){const{matched:y,consumedSegments:b,remainingSegments:S,positionalParamSegments:I}=Hy(n,s,l);if(!y)return Pd(n);const P=this.applyRedirectCommands(b,s.redirectTo,I);return s.redirectTo.startsWith("/")?VC(P):this.lineralizeSegments(s,P).pipe(Dt(z=>this.expandSegment(t,n,i,z.concat(S),h,!1)))}matchSegmentAgainstRoute(t,n,i,s,l){return"**"===i.path?(t=PC(i,t),i.loadChildren?(i._loadedRoutes?vt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(At(y=>(i._loadedRoutes=y.routes,i._loadedInjector=y.injector,new Vt(s,{})))):vt(new Vt(s,{}))):OC(n,i,s,t).pipe(_a(({matched:h,consumedSegments:y,remainingSegments:b})=>h?this.getChildConfig(t=i._injector??t,i,s).pipe(Dt(I=>{const P=I.injector??t,z=I.routes,{segmentGroup:q,slicedSegments:J}=Vp(n,y,b,z),fe=new Vt(q.segments,q.children);if(0===J.length&&fe.hasChildren())return this.expandChildren(P,z,fe).pipe(At(Se=>new Vt(y,Se)));if(0===z.length&&0===J.length)return vt(new Vt(y,{}));const xe=Ri(i)===l;return this.expandSegment(P,fe,z,J,xe?Ot:l,!0).pipe(At(Ye=>new Vt(y.concat(Ye.segments),Ye.children)))})):Pd(n)))}getChildConfig(t,n,i){return n.children?vt({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?vt({routes:n._loadedRoutes,injector:n._loadedInjector}):function $R(e,t,n,i){const s=t.canLoad;return void 0===s||0===s.length?vt(!0):vt(s.map(h=>{const y=Tl(h,e);return Yo(function TR(e){return e&&Ad(e.canLoad)}(y)?y.canLoad(t,n):e.runInContext(()=>y(t,n)))})).pipe(Il(),NC())}(t,n,i).pipe(Dt(s=>s?this.configLoader.loadChildren(t,n).pipe(Rr(l=>{n._loadedRoutes=l.routes,n._loadedInjector=l.injector})):function WR(e){return md(IC(zp,3))}())):vt({routes:[],injector:t})}lineralizeSegments(t,n){let i=[],s=n.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return vt(i);if(s.numberOfChildren>1||!s.children[Ot])return t.redirectTo,md(new Ue(4e3,zp));s=s.children[Ot]}}applyRedirectCommands(t,n,i){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i)}applyRedirectCreateUrlTree(t,n,i,s){const l=this.createSegmentGroup(t,n.root,i,s);return new Zo(l,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const i={};return Sr(t,(s,l)=>{if("string"==typeof s&&s.startsWith(":")){const y=s.substring(1);i[l]=n[y]}else i[l]=s}),i}createSegmentGroup(t,n,i,s){const l=this.createSegments(t,n.segments,i,s);let h={};return Sr(n.children,(y,b)=>{h[b]=this.createSegmentGroup(t,y,i,s)}),new Vt(l,h)}createSegments(t,n,i,s){return n.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,s):this.findOrReturn(l,i))}findPosParam(t,n,i){const s=i[n.path.substring(1)];if(!s)throw new Ue(4001,zp);return s}findOrReturn(t,n){let i=0;for(const s of n){if(s.path===t.path)return n.splice(i),s;i++}return t}}class QR{}class ek{constructor(t,n,i,s,l,h,y){this.injector=t,this.rootComponentType=n,this.config=i,this.urlTree=s,this.url=l,this.paramsInheritanceStrategy=h,this.urlSerializer=y}recognize(){const t=Vp(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ot).pipe(At(n=>{if(null===n)return null;const i=new Op([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new co(i,n),l=new SC(this.url,s);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(t){const n=t.value,i=CC(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,n,i,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,s)}processChildren(t,n,i){return In(Object.keys(i.children)).pipe(qs(s=>{const l=i.children[s],h=RC(n,s);return this.processSegmentGroup(t,h,l,s)}),XE((s,l)=>s&&l?(s.push(...l),s):null),function wP(e,t=!1){return Tn((n,i)=>{let s=0;n.subscribe(_n(i,l=>{const h=e(l,s++);(h||t)&&i.next(l),!h&&i.complete()}))})}(s=>null!==s),xp(null),JE(),At(s=>{if(null===s)return null;const l=zC(s);return function tk(e){e.sort((t,n)=>t.value.outlet===Ot?-1:n.value.outlet===Ot?1:t.value.outlet.localeCompare(n.value.outlet))}(l),l}))}processSegment(t,n,i,s,l){return In(n).pipe(qs(h=>this.processSegmentAgainstRoute(h._injector??t,h,i,s,l)),Wo(h=>!!h),Ko(h=>{if($y(h))return FC(i,s,l)?vt([]):vt(null);throw h}))}processSegmentAgainstRoute(t,n,i,s,l){if(n.redirectTo||!LC(n,i,s,l))return vt(null);let h;if("**"===n.path){const y=s.length>0?nC(s).parameters:{},b=UC(i)+s.length;h=vt({snapshot:new Op(s,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jC(n),Ri(n),n.component??n._loadedComponent??null,n,HC(i),b,GC(n)),consumedSegments:[],remainingSegments:[]})}else h=OC(i,n,s,t).pipe(At(({matched:y,consumedSegments:b,remainingSegments:S,parameters:I})=>{if(!y)return null;const P=UC(i)+b.length;return{snapshot:new Op(b,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jC(n),Ri(n),n.component??n._loadedComponent??null,n,HC(i),P,GC(n)),consumedSegments:b,remainingSegments:S}}));return h.pipe(_a(y=>{if(null===y)return vt(null);const{snapshot:b,consumedSegments:S,remainingSegments:I}=y;t=n._injector??t;const P=n._loadedInjector??t,z=function nk(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:q,slicedSegments:J}=Vp(i,S,I,z.filter(xe=>void 0===xe.redirectTo));if(0===J.length&&q.hasChildren())return this.processChildren(P,z,q).pipe(At(xe=>null===xe?null:[new co(b,xe)]));if(0===z.length&&0===J.length)return vt([new co(b,[])]);const fe=Ri(n)===l;return this.processSegment(P,z,q,J,fe?Ot:l).pipe(At(xe=>null===xe?null:[new co(b,xe)]))}))}}function rk(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function zC(e){const t=[],n=new Set;for(const i of e){if(!rk(i)){t.push(i);continue}const s=t.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==s?(s.children.push(...i.children),n.add(s)):t.push(i)}for(const i of n){const s=zC(i.children);t.push(new co(i.value,s))}return t.filter(i=>!n.has(i))}function HC(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function UC(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function jC(e){return e.data||{}}function GC(e){return e.resolve||{}}function qC(e){return"string"==typeof e.title||null===e.title}function Uy(e){return _a(t=>{const n=e(t);return n?In(n).pipe(At(()=>t)):vt(t)})}const Ml=new ot("ROUTES");let jy=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ut(ID)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return vt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=Yo(n.loadComponent()).pipe(At(KC),Rr(l=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=l}),Ey(()=>{this.componentLoaders.delete(n)})),s=new ZE(i,()=>new Dn).pipe(by());return this.componentLoaders.set(n,s),s}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return vt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const l=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(At(y=>{this.onLoadEndListener&&this.onLoadEndListener(i);let b,S,I=!1;Array.isArray(y)?S=y:(b=y.create(n).injector,S=tC(b.get(Ml,[],dt.Self|dt.Optional)));return{routes:S.map(Vy),injector:b}}),Ey(()=>{this.childrenLoaders.delete(i)})),h=new ZE(l,()=>new Dn).pipe(by());return this.childrenLoaders.set(i,h),h}loadModuleFactoryOrRoutes(n){return Yo(n()).pipe(At(KC),Dt(i=>i instanceof Fb||Array.isArray(i)?vt(i):In(this.compiler.compileModuleAsync(i))))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function KC(e){return function dk(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let jp=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Dn,this.configLoader=Ut(jy),this.environmentInjector=Ut(ht),this.urlSerializer=Ut(bd),this.rootContexts=Ut(Td),this.navigationId=0,this.afterPreactivation=()=>vt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new XP(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new QP(s))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:i})}setupNavigations(n){return this.transitions=new ia({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Sd,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qo(i=>0!==i.id),At(i=>({...i,extractedUrl:n.urlHandlingStrategy.extract(i.rawUrl)})),_a(i=>{let s=!1,l=!1;return vt(i).pipe(Rr(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),_a(h=>{const y=n.browserUrlTree.toString(),b=!n.navigated||h.extractedUrl.toString()!==y||y!==n.currentUrlTree.toString();if(!b&&"reload"!==(h.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const I="";return this.events.next(new Np(h.id,n.serializeUrl(i.rawUrl),I,0)),n.rawUrlTree=h.rawUrl,h.resolve(null),An}if(n.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return YC(h.source)&&(n.browserUrlTree=h.extractedUrl),vt(h).pipe(_a(I=>{const P=this.transitions?.getValue();return this.events.next(new _y(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),P!==this.transitions?.getValue()?An:Promise.resolve(I)}),function ZR(e,t,n,i){return _a(s=>function KR(e,t,n,i,s){return new YR(e,t,n,i,s).apply()}(e,t,n,s.extractedUrl,i).pipe(At(l=>({...s,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Rr(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},i.urlAfterRedirects=I.urlAfterRedirects}),function ak(e,t,n,i,s){return Dt(l=>function JR(e,t,n,i,s,l,h="emptyOnly"){return new ek(e,t,n,i,s,h,l).recognize().pipe(_a(y=>null===y?function XR(e){return new at(t=>t.error(e))}(new QR):vt(y)))}(e,t,n,l.urlAfterRedirects,i.serialize(l.urlAfterRedirects),i,s).pipe(At(h=>({...l,targetSnapshot:h}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Rr(I=>{if(i.targetSnapshot=I.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!I.extras.skipLocationChange){const z=n.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);n.setBrowserUrl(z,I)}n.browserUrlTree=I.urlAfterRedirects}const P=new qP(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(P)}));if(b&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:I,extractedUrl:P,source:z,restoredState:q,extras:J}=h,fe=new _y(I,this.urlSerializer.serialize(P),z,q);this.events.next(fe);const xe=EC(P,this.rootComponentType).snapshot;return vt(i={...h,targetSnapshot:xe,urlAfterRedirects:P,extras:{...J,skipLocationChange:!1,replaceUrl:!1}})}{const I="";return this.events.next(new Np(h.id,n.serializeUrl(i.extractedUrl),I,1)),n.rawUrlTree=h.rawUrl,h.resolve(null),An}}),Rr(h=>{const y=new WP(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}),At(h=>i={...h,guards:DR(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function RR(e,t){return Dt(n=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:l,canDeactivateChecks:h}}=n;return 0===h.length&&0===l.length?vt({...n,guardsResult:!0}):function kR(e,t,n,i){return In(e).pipe(Dt(s=>function VR(e,t,n,i,s){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return l&&0!==l.length?vt(l.map(y=>{const b=Id(t)??s,S=Tl(y,b);return Yo(function _R(e){return e&&Ad(e.canDeactivate)}(S)?S.canDeactivate(e,t,n,i):b.runInContext(()=>S(e,t,n,i))).pipe(Wo())})).pipe(Il()):vt(!0)}(s.component,s.route,n,t,i)),Wo(s=>!0!==s,!0))}(h,i,s,e).pipe(Dt(y=>y&&function xR(e){return"boolean"==typeof e}(y)?function NR(e,t,n,i){return In(t).pipe(qs(s=>wy(function LR(e,t){return null!==e&&t&&t(new JP(e)),vt(!0)}(s.route.parent,i),function OR(e,t){return null!==e&&t&&t(new tR(e)),vt(!0)}(s.route,i),function BR(e,t,n){const i=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(h=>function ER(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(h)).filter(h=>null!==h).map(h=>YE(()=>vt(h.guards.map(b=>{const S=Id(h.node)??n,I=Tl(b,S);return Yo(function MR(e){return e&&Ad(e.canActivateChild)}(I)?I.canActivateChild(i,e):S.runInContext(()=>I(i,e))).pipe(Wo())})).pipe(Il())));return vt(l).pipe(Il())}(e,s.path,n),function FR(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return vt(!0);const s=i.map(l=>YE(()=>{const h=Id(t)??n,y=Tl(l,h);return Yo(function IR(e){return e&&Ad(e.canActivate)}(y)?y.canActivate(t,e):h.runInContext(()=>y(t,e))).pipe(Wo())}));return vt(s).pipe(Il())}(e,s.route,n))),Wo(s=>!0!==s,!0))}(i,l,e,t):vt(y)),At(y=>({...n,guardsResult:y})))})}(this.environmentInjector,h=>this.events.next(h)),Rr(h=>{if(i.guardsResult=h.guardsResult,Ks(h.guardsResult))throw TC(0,h.guardsResult);const y=new KP(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(y)}),qo(h=>!!h.guardsResult||(n.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),Uy(h=>{if(h.guards.canActivateChecks.length)return vt(h).pipe(Rr(y=>{const b=new YP(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(b)}),_a(y=>{let b=!1;return vt(y).pipe(function ok(e,t){return Dt(n=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=n;if(!s.length)return vt(n);let l=0;return In(s).pipe(qs(h=>function sk(e,t,n,i){const s=e.routeConfig,l=e._resolve;return void 0!==s?.title&&!qC(s)&&(l[yd]=s.title),function uk(e,t,n,i){const s=function lk(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===s.length)return vt({});const l={};return In(s).pipe(Dt(h=>function ck(e,t,n,i){const s=Id(t)??i,l=Tl(e,s);return Yo(l.resolve?l.resolve(t,n):s.runInContext(()=>l(t,n)))}(e[h],t,n,i).pipe(Wo(),Rr(y=>{l[h]=y}))),Dy(1),function bP(e){return At(()=>e)}(l),Ko(h=>$y(h)?An:md(h)))}(l,e,t,i).pipe(At(h=>(e._resolvedData=h,e.data=CC(e,n).resolve,s&&qC(s)&&(e.data[yd]=s.title),null)))}(h.route,i,e,t)),Rr(()=>l++),Dy(1),Dt(h=>l===s.length?vt(n):An))})}(n.paramsInheritanceStrategy,this.environmentInjector),Rr({next:()=>b=!0,complete:()=>{b||(n.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),Rr(y=>{const b=new ZP(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(b)}))}),Uy(h=>{const y=b=>{const S=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(b.routeConfig).pipe(Rr(I=>{b.component=I}),At(()=>{})));for(const I of b.children)S.push(...y(I));return S};return WE(y(h.targetSnapshot.root)).pipe(xp(),wl(1))}),Uy(()=>this.afterPreactivation()),At(h=>{const y=function cR(e,t,n){const i=xd(e,t._root,n?n._root:void 0);return new DC(i,t)}(n.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return i={...h,targetRouterState:y}}),Rr(h=>{n.currentUrlTree=h.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),n.routerState=h.targetRouterState,"deferred"===n.urlUpdateStrategy&&(h.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,h),n.browserUrlTree=h.urlAfterRedirects)}),((e,t,n)=>At(i=>(new bR(t,i.targetRouterState,i.currentRouterState,n).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,h=>this.events.next(h)),wl(1),Rr({next:h=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Ys(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{s=!0}}),Ey(()=>{s||l||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Ko(h=>{if(l=!0,_C(h)){MC(h)||(n.navigated=!0,n.restoreHistory(i,!0));const y=new kp(i.id,this.urlSerializer.serialize(i.extractedUrl),h.message,h.cancellationCode);if(this.events.next(y),MC(h)){const b=n.urlHandlingStrategy.merge(h.url,n.rawUrlTree),S={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||YC(i.source)};n.scheduleNavigation(b,Sd,null,S,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{n.restoreHistory(i,!0);const y=new Ay(i.id,this.urlSerializer.serialize(i.extractedUrl),h,i.targetSnapshot??void 0);this.events.next(y);try{i.resolve(n.errorHandler(h))}catch(b){i.reject(b)}}return An}))}))}cancelNavigationTransition(n,i,s){const l=new kp(n.id,this.urlSerializer.serialize(n.extractedUrl),i,s);this.events.next(l),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function YC(e){return e!==Sd}let ZC=(()=>{class e{buildTitle(n){let i,s=n.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(l=>l.outlet===Ot);return i}getResolvedTitleForRoute(n){return n.data[yd]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ut({token:e,factory:function(){return Ut(fk)},providedIn:"root"}),e})(),fk=(()=>{class e extends ZC{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);void 0!==i&&this.title.setTitle(i)}}return e.\u0275fac=function(n){return new(n||e)(ft(jE))},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),hk=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ut({token:e,factory:function(){return Ut(vk)},providedIn:"root"}),e})();class pk{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let vk=(()=>{class e extends pk{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=function qf(e){return ti(()=>{const t=e.prototype.constructor,n=t[Vi]||Mu(t),i=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==i;){const l=s[Vi]||Mu(s);if(l&&l!==n)return l;s=Object.getPrototypeOf(s)}return l=>new l})}(e)))(i||e)}}(),e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Gp=new ot("",{providedIn:"root",factory:()=>({})});let mk=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ut({token:e,factory:function(){return Ut(yk)},providedIn:"root"}),e})(),yk=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function wk(e){throw e}function bk(e,t,n){return t.parse("/")}const Dk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ek={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fi=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ut(UI),this.isNgZoneEnabled=!1,this.options=Ut(Gp,{optional:!0})||{},this.errorHandler=this.options.errorHandler||wk,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||bk,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ut(mk),this.routeReuseStrategy=Ut(hk),this.urlCreationStrategy=Ut(sR),this.titleStrategy=Ut(ZC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=tC(Ut(Ml,{optional:!0})??[]),this.navigationTransitions=Ut(jp),this.urlSerializer=Ut(bd),this.location=Ut(Km),this.isNgZoneEnabled=Ut(kn)instanceof kn&&kn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Zo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=EC(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Sd,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i="popstate"===n.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,i,n.state)},0)}))}navigateToSyncWithBrowser(n,i,s){const l={replaceUrl:!0},h=s?.navigationId?s:null;if(s){const b={...s};delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(l.state=b)}const y=this.parseUrl(n);this.scheduleNavigation(y,i,h,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(Vy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,i={}){const{relativeTo:s,queryParams:l,fragment:h,queryParamsHandling:y,preserveFragment:b}=i,S=b?this.currentUrlTree.fragment:h;let I=null;switch(y){case"merge":I={...this.currentUrlTree.queryParams,...l};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=l||null}return null!==I&&(I=this.removeEmptyProps(I)),this.urlCreationStrategy.createUrlTree(s,this.routerState,this.currentUrlTree,n,I,S??null)}navigateByUrl(n,i={skipLocationChange:!1}){const s=Ks(n)?n:this.parseUrl(n),l=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(l,Sd,null,i)}navigate(n,i={skipLocationChange:!1}){return function Ck(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Ue(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,n)}return i}isActive(n,i){let s;if(s=!0===i?{...Dk}:!1===i?{...Ek}:i,Ks(n))return iC(this.currentUrlTree,n,s);const l=this.parseUrl(n);return iC(this.currentUrlTree,l,s)}removeEmptyProps(n){return Object.keys(n).reduce((i,s)=>{const l=n[s];return null!=l&&(i[s]=l),i},{})}scheduleNavigation(n,i,s,l,h){if(this.disposed)return Promise.resolve(!1);let y,b,S,I;return h?(y=h.resolve,b=h.reject,S=h.promise):S=new Promise((P,z)=>{y=P,b=z}),I="computed"===this.canceledNavigationResolution?s&&s.\u0275routerPageId?s.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:I,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:l,resolve:y,reject:b,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(P=>Promise.reject(P))}setBrowserUrl(n,i){const s=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const h={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",h)}else{const l={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(s,"",l)}}restoreHistory(n,i=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-(this.browserPageId??this.currentPageId);0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class QC{}let Tk=(()=>{class e{constructor(n,i,s,l,h){this.router=n,this.injector=s,this.preloadingStrategy=l,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(qo(n=>n instanceof Ys),qs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const s=[];for(const l of i){l.providers&&!l._injector&&(l._injector=Xh(l.providers,n,`Route: ${l.path}`));const h=l._injector??n,y=l._loadedInjector??h;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&s.push(this.preloadConfig(h,l)),(l.children||l._loadedRoutes)&&s.push(this.processRoutes(y,l.children??l._loadedRoutes))}return In(s).pipe(go())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(n,i):vt(null);const l=s.pipe(Dt(h=>null===h?vt(void 0):(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,this.processRoutes(h.injector??n,h.routes))));return i.loadComponent&&!i._loadedComponent?In([l,this.loader.loadComponent(i)]).pipe(go()):l})}}return e.\u0275fac=function(n){return new(n||e)(ft(fi),ft(ID),ft(ht),ft(QC),ft(jy))},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Wy=new ot("");let XC=(()=>{class e{constructor(n,i,s,l,h={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=s,this.zone=l,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration=h.scrollPositionRestoration||"disabled",h.anchorScrolling=h.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof _y?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ys&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof wC&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wC(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function O0(){throw new Error("invalid")}()},e.\u0275prov=ut({token:e,factory:e.\u0275fac}),e})();var hi=(()=>((hi=hi||{})[hi.COMPLETE=0]="COMPLETE",hi[hi.FAILED=1]="FAILED",hi[hi.REDIRECTING=2]="REDIRECTING",hi))();const _l=!1;function Qo(e,t){return{\u0275kind:e,\u0275providers:t}}const Ky=new ot("",{providedIn:"root",factory:()=>!1});function eS(){const e=Ut(ro);return t=>{const n=e.get(ap);if(t!==n.components[0])return;const i=e.get(fi),s=e.get(tS);1===e.get(Yy)&&i.initialNavigation(),e.get(nS,null,dt.Optional)?.setUpPreloading(),e.get(Wy,null,dt.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const tS=new ot(_l?"bootstrap done indicator":"",{factory:()=>new Dn}),Yy=new ot(_l?"initial navigation":"",{providedIn:"root",factory:()=>1});function Pk(){let e=[];return e=_l?[{provide:tt,multi:!0,useFactory:()=>{const t=Ut(fi);return()=>t.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function rR(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 16:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],Qo(1,e)}const nS=new ot(_l?"router preloader":"");function Rk(e){return Qo(0,[{provide:nS,useExisting:Tk},{provide:QC,useExisting:e}])}const Rd=!1,rS=new ot(Rd?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),kk=[Km,{provide:bd,useClass:Cy},fi,Td,{provide:xl,useFactory:function JC(e){return e.routerState.root},deps:[fi]},jy,Rd?{provide:Ky,useValue:!0}:[]];function Nk(){return new OD("Router",fi)}let iS=(()=>{class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[kk,Rd&&i?.enableTracing?Pk().\u0275providers:[],{provide:Ml,multi:!0,useValue:n},{provide:rS,useFactory:Bk,deps:[[fi,new Fo,new Es]]},{provide:Gp,useValue:i||{}},i?.useHash?{provide:Gs,useClass:AM}:{provide:Gs,useClass:iE},{provide:Wy,useFactory:()=>{const e=Ut(X_),t=Ut(kn),n=Ut(Gp),i=Ut(jp),s=Ut(bd);return n.scrollOffset&&e.setOffset(n.scrollOffset),new XC(s,i,e,t,n)}},i?.preloadingStrategy?Rk(i.preloadingStrategy).\u0275providers:[],{provide:OD,multi:!0,useFactory:Nk},i?.initialNavigation?Vk(i):[],[{provide:aS,useFactory:eS},{provide:ND,multi:!0,useExisting:aS}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Ml,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(ft(rS,8))},e.\u0275mod=la({type:e}),e.\u0275inj=vi({imports:[Fy]}),e})();function Bk(e){if(Rd&&e)throw new Ue(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Vk(e){return["disabled"===e.initialNavigation?Qo(3,[{provide:np,multi:!0,useFactory:()=>{const t=Ut(fi);return()=>{t.setUpLocationChangeListener()}}},{provide:Yy,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Qo(2,[{provide:Yy,useValue:0},{provide:np,multi:!0,deps:[ro],useFactory:t=>{const n=t.get(MM,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const s=t.get(fi),l=t.get(tS);(function Ik(e,t){e.events.pipe(qo(n=>n instanceof Ys||n instanceof kp||n instanceof Ay||n instanceof Np),At(n=>n instanceof Ys||n instanceof Np?hi.COMPLETE:n instanceof kp&&(0===n.code||1===n.code)?hi.REDIRECTING:hi.FAILED),qo(n=>n!==hi.REDIRECTING),wl(1)).subscribe(()=>{t()})})(s,()=>{i(!0)}),t.get(jp).afterPreactivation=()=>(i(!0),l.closed?vt(void 0):l),s.initialNavigation()}))}}]).\u0275providers:[]]}const aS=new ot(Rd?"Router Initializer":""),zk=[];let Hk=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=la({type:e});static#n=this.\u0275inj=vi({imports:[iS.forRoot(zk),iS]})}return e})();const Uk=["cy"],oS=K(6864),jk=K(6579);let Gk=(()=>{class e{constructor(){}ngOnInit(){oS.use(jk),this.cy=oS({container:document.getElementById("cy"),elements:[{group:"nodes",data:{id:"n1",parent:"nparent"},scratch:{_foo:"bar"},position:{x:0,y:0},classes:["foo","bar"],style:{"background-color":"red"}},{data:{id:"n2"},renderedPosition:{x:400,y:400}},{data:{id:"n3",parent:"nparent"},position:{x:-123,y:134}},{data:{id:"n4"},renderedPosition:{x:600,y:600}},{data:{id:"nparent"}},{data:{id:"e1",source:"n1",target:"n2"},pannable:!0},{data:{id:"e2",source:"n2",target:"n4"}}],layout:{name:"preset"},style:[{selector:"node",style:{label:"data(id)"}},{selector:"edge",style:{}},{selector:"#e2",style:{"curve-style":"unbundled-bezier","control-point-weights":"0.25 0.5 0.75","control-point-distances":"-50 0 50"}}]}),this.cy.nodeHtmlLabel([{query:"#e1",halign:"center",valign:"center",halignBox:"center",valignBox:"center",cssClass:"",edgehtmlLocation:"center",edgehtmlTiltPoint1:"sourceNode",edgehtmlTiltPoint2:"targetNode",tpl:n=>"<div style='background:greenyellow;color:red;width:100px'> click and check console <button onclick=\"console.log(\n            'button clicked'\n          )\">click</button></div>"},{query:"#e2",halign:"center",valign:"center",halignBox:"center",valignBox:"center",cssClass:"",edgehtmlLocation:"center",edgehtmlTiltPoint1:0,edgehtmlTiltPoint2:2,tpl:n=>"<div > \n          <div style='color:yellow ;background:black; margin:5px'>Above Edge</div> \n          <div style='color:red ;background:black; margin:5px'>below Edge</div> \n          </div>"},{query:"node",halign:"center",valign:"center",halignBox:"center",valignBox:"center",cssClass:"",edgehtmlLocation:"center",edgehtmlTiltPoint1:0,edgehtmlTiltPoint2:2,tpl:n=>"<div style='background:yellow'> \n          <em>this is </em>\n          <div><strong>Node </strong><div>  \n          </div>"}])}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=ic({type:e,selectors:[["app-root"]],viewQuery:function(i,s){if(1&i&&nD(Uk,5),2&i){let l;Cm(l=function Sm(){return function DI(e,t){return e[bi].queries[t].queryList}(Ce(),ko())}())&&(s.cyRef=l.first)}},decls:3,vars:0,consts:[[1,"tree-canvas-wrapper"],["id","cy","oncontextmenu","return false;",2,"height","1000px","width","1000px"],["cy",""]],template:function(i,s){1&i&&(Hh(0,"div",0),jh(1,"div",1,2),Uh())}})}return e})(),qk=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=la({type:e,bootstrap:[Gk]});static#n=this.\u0275inj=vi({imports:[ZA,Hk]})}return e})();YA().bootstrapModule(qk).catch(e=>console.error(e))},6579:(ie,Ne,K)=>{var Z;!function(){"use strict";const ae=function(Me,ve){if("function"!=typeof ve)throw new TypeError("predicate must be a function");const Ae=Me.length>>>0,Pe=arguments[1];let Ge;for(let qe=0;qe<Ae;qe++)if(Ge=Me[qe],ve.call(Pe,Ge,qe,Me))return Ge};class he{constructor({node:ve,position:Ae=null,data:Pe=null,_cy:Ge},qe){this._params=qe,this.updateParams(qe),this._node=ve,this._cy=Ge,this.initStyles(qe.cssClass),Pe&&this.updateData(Pe),Ae&&Pe.source&&Pe.target?this.updateEdgePosition(Ae,Pe.id):Ae&&this.updatePosition(Ae)}updateParams({tpl:ve=(()=>""),cssClass:Ae=null,halign:Pe="center",valign:Ge="center",halignBox:qe="center",valignBox:$t="center"}){const _t={top:-.5,left:-.5,center:0,right:.5,bottom:.5};this._align=[_t[Pe],_t[Ge],100*(_t[qe]-.5),100*(_t[$t]-.5)],this.tpl=ve,null==this._params.edgehtmlTiltPoint1&&(this._params.edgehtmlTiltPoint1="sourceNode"),null==this._params.edgehtmlTiltPoint2&&(this._params.edgehtmlTiltPoint2="targetNode")}updateData(ve){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);const Ae=(new DOMParser).parseFromString(this.tpl(ve),"text/html").body.children;for(let Pe=0;Pe<Ae.length;++Pe)this._node.appendChild(Ae[Pe])}getNode(){return this._node}updatePosition(ve){this._renderPosition(ve)}updateEdgePosition(ve,Ae){this._renderEdgePosition(ve,Ae)}initStyles(ve){this._node.style.position="absolute",ve&&ve.length&&this._node.classList.add(ve)}_renderPosition(ve){const Ae=this._position,Pe=ve.x+this._align[0]*ve.w,Ge=ve.y+this._align[1]*ve.h;if(!Ae||Ae[0]!==Pe||Ae[1]!==Ge){this._position=[Pe,Ge];const _t=`translate(${this._align[2]}%,${this._align[3]}%) translate(${Pe.toFixed(2)}px,${Ge.toFixed(2)}px) `,gt=this._node.style;gt.webkitTransform=_t,gt.msTransform=_t,gt.transform=_t}}_renderEdgePosition(ve,Ae){const Pe=this._cy.$("#"+Ae),Ge=Pe.controlPoints();let qe,$t;if(Ge?.length&&null!=this._params?.edgehtmlTiltPoint1&&"number"==typeof this._params.edgehtmlTiltPoint1)try{qe=Ge[this._params.edgehtmlTiltPoint1]}catch{console.error("edgehtmlTiltPoint1 is not a valid control point number")}else qe=null!=this._params?.edgehtmlTiltPoint1&&"targetNode"==this._params.edgehtmlTiltPoint1?Pe.targetEndpoint():Pe.sourceEndpoint();if(Ge?.length&&null!=this._params?.edgehtmlTiltPoint2&&"number"==typeof this._params.edgehtmlTiltPoint2)try{$t=Ge[this._params.edgehtmlTiltPoint2]}catch{console.error("edgehtmlTiltPoint2 is not a valid control point number")}else $t=null!=this._params?.edgehtmlTiltPoint2&&"sourceNode"==this._params.edgehtmlTiltPoint2?Pe.sourceEndpoint():Pe.targetEndpoint();var _t=180*Math.atan2($t.y-qe.y,$t.x-qe.x)/Math.PI;_t>90?_t=_t-90-90:_t<-90&&(_t=90+(_t+90));const gt=this._position,tn=ve.x+this._align[0]*ve.w,Tt=ve.y+this._align[1]*ve.h;let Te="none";if(!gt||gt[0]!==tn||gt[1]!==Tt){this._position=[tn,Tt],Te=0==tn||0==Tt?"none":"block";const Xe=`translate(${this._align[2]}%,${this._align[3]}%) translate(${tn.toFixed(2)}px,${Tt.toFixed(2)}px) rotate(${_t}deg)`,Oe=this._node.style;Oe.webkitTransform=Xe,Oe.msTransform=Xe,Oe.transform=Xe,Oe.display=Te}}}class pe{constructor(ve,Ae){this._node=ve,this._elements={},this._cy=Ae}addOrUpdateElem(ve,Ae,Pe={},Ge,qe){const $t=this._elements[ve];if($t){this._param=Ae,$t.updateParams(Ae),$t.updateData(Pe.data),"node"==qe?$t.updatePosition(Pe.position):$t.updateEdgePosition(Pe.position,ve);const gt=new Event("start");document.dispatchEvent(gt)}else{const gt=document.createElement("div");var _t=new MutationObserver(function(tn){if(document.contains(gt)){const Tt=Ge.nodes(`#${gt.children[0].id.split(":")[1]}`);Tt.data("htmlNode",gt);try{Tt.style({width:gt.offsetWidth/.6,height:gt.offsetHeight/.6})}catch(Te){console.warn("cytoscape.js-html-node: unable to create html label",Te)}_t.disconnect()}});_t.observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0}),this._node.appendChild(gt),this._elements[ve]=new he({node:gt,data:Pe.data,position:Pe.position,_cy:Ge},Ae)}}removeElemById(ve){this._elements[ve]&&(this._node.removeChild(this._elements[ve].getNode()),delete this._elements[ve])}updateElemPosition(ve,Ae){const Pe=this._cy.$("#"+ve);let Ge=!1;Pe.length&&(Ge=!!Pe.isEdge());const qe=this._elements[ve];qe&&Ge?qe.updateEdgePosition(Ae,ve):qe&&qe.updatePosition(Ae)}updatePanZoom({pan:ve,zoom:Ae}){const Pe=`translate(${ve.x}px,${ve.y}px) scale(${Ae})`,Ge=this._node.style,qe="top left";Ge.webkitTransform=Pe,Ge.msTransform=Pe,Ge.transform=Pe,Ge.webkitTransformOrigin=qe,Ge.msTransformOrigin=qe,Ge.transformOrigin=qe}}const ge=function(Me){Me&&Me("core","nodeHtmlLabel",function(ve,Ae){return function Ee(Me,ve,Ae){const Pe=ve&&"object"==typeof ve?ve:[],Ge=function qe(){const Oe=Me.container(),We=document.createElement("div"),ze=Oe.querySelector("canvas"),zt=Oe.querySelector("[class^='cy-node-html']");zt&&ze.parentNode.removeChild(zt);const an=We.style;return an.position="absolute",an["z-index"]=9,an.width="500px",an.margin="0px",an.padding="0px",an.border="0px",an.outline="0px",an.outline="0px",Ae&&!0!==Ae.enablePointerEvents&&(an["pointer-events"]="none"),ze.parentNode.appendChild(We),new pe(We,Me)}();return Me.one("render",Oe=>{(function $t({cy:Oe}){Pe.forEach(We=>{Oe.elements(We.query).forEach(ze=>{ze.isNode()?Ge.addOrUpdateElem(ze.id(),We,{position:He(ze),data:ze.data()},Oe,"node"):ze.isEdge()&&Ge.addOrUpdateElem(ze.id(),We,{position:Xe(ze),data:ze.data()},Oe,"edge")})})})(Oe),$e(Oe)}),Me.on("add",Oe=>{!function _t(Oe,We){const ze=Oe.target,zt=ae(Pe.slice().reverse(),an=>ze.is(an.query));zt&&(ze.isNode()?Ge.addOrUpdateElem(ze.id(),zt,{position:He(ze),data:ze.data()},We,"node"):ze.isEdge()&&Ge.addOrUpdateElem(ze.id(),zt,{position:Xe(ze),data:ze.data()},We,"edge"))}(Oe,Me)}),Me.on("layoutstop",function gt({cy:Oe}){Pe.forEach(We=>{Oe.elements(We.query).forEach(ze=>{ze.isNode()?Ge.updateElemPosition(ze.id(),He(ze)):ze.isEdge()&&Ge.updateElemPosition(ze.id(),Xe(ze))})})}),Me.on("remove",function tn(Oe){Ge.removeElemById(Oe.target.id())}),Me.on("data",Oe=>Te(Oe,Me)),Me.on("style",Oe=>Te(Oe,Me)),Me.on("pan zoom",$e),Me.on("position bounds",function Tt(Oe){Ge.updateElemPosition(Oe.target.id(),He(Oe.target));const We=Me.$("#"+Oe.target.id()).connectedEdges();We.length>0&&We.forEach(ze=>{Ge.updateElemPosition(ze.id(),Xe(ze))})}),Me;function Te(Oe,We){const ze=Oe.target,zt=ae(Pe.slice().reverse(),an=>ze.is(an.query));zt&&!ze.removed()?ze.isNode()?Ge.addOrUpdateElem(ze.id(),zt,{position:He(ze),data:ze.data()},We,"node"):ze.isEdge()&&Ge.addOrUpdateElem(ze.id(),zt,{position:Xe(ze),data:ze.data()},We,"edge"):Ge.removeElemById(ze.id())}function $e({cy:Oe}){Ge.updatePanZoom({pan:Oe.pan(),zoom:Oe.zoom()})}function He(Oe){return{w:Oe.width(),h:Oe.height(),x:Oe.position("x"),y:Oe.position("y")}}function Xe(Oe){let We;return We=ve&&ve[0]?.edgehtmlLocation?"start"==ve[0]?.edgehtmlLocation?{w:Oe.width(),h:Oe.height(),x:Oe.sourceEndpoint().x,y:Oe.sourceEndpoint().y}:"end"==ve[0]?.edgehtmlLocation?{w:Oe.width(),h:Oe.height(),x:Oe.targetEndpoint().x,y:Oe.targetEndpoint().y}:{w:Oe.width(),h:Oe.height(),x:Oe.midpoint().x,y:Oe.midpoint().y}:{w:Oe.width(),h:Oe.height(),x:Oe.midpoint().x,y:Oe.midpoint().y},We}}(this,ve,Ae)})};ie.exports?ie.exports=function(Me){ge(Me)}:void 0!==(Z=function(){return ge}.call(Ne,K,Ne,ie))&&(ie.exports=Z),typeof cytoscape<"u"&&ge(cytoscape)}()},6864:(ie,Ne,K)=>{"use strict";var Z=K(406),ae=K(5203),he=K(8817),pe=K(4793),Ee=K(4152);function ge(a){return a&&"object"==typeof a&&"default"in a?a:{default:a}}var Me=ge(Z),ve=ge(ae),Ae=ge(he),Pe=ge(pe),Ge=ge(Ee);function qe(a){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(a)}function $t(a,r){if(!(a instanceof r))throw new TypeError("Cannot call a class as a function")}function _t(a,r){for(var o=0;o<r.length;o++){var u=r[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}function gt(a,r,o){return r&&_t(a.prototype,r),o&&_t(a,o),Object.defineProperty(a,"prototype",{writable:!1}),a}function tn(a,r,o){return r in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o,a}function Tt(a,r){return function Te(a){if(Array.isArray(a))return a}(a)||function $e(a,r){var o=null==a?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(null!=o){var f,p,u=[],c=!0,d=!1;try{for(o=o.call(a);!(c=(f=o.next()).done)&&(u.push(f.value),!r||u.length!==r);c=!0);}catch(g){d=!0,p=g}finally{try{!c&&null!=o.return&&o.return()}finally{if(d)throw p}}return u}}(a,r)||function He(a,r){if(a){if("string"==typeof a)return Xe(a,r);var o=Object.prototype.toString.call(a).slice(8,-1);if("Object"===o&&a.constructor&&(o=a.constructor.name),"Map"===o||"Set"===o)return Array.from(a);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Xe(a,r)}}(a,r)||function Oe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(a,r){(null==r||r>a.length)&&(r=a.length);for(var o=0,u=new Array(r);o<r;o++)u[o]=a[o];return u}var We=typeof window>"u"?null:window,ze=We?We.navigator:null,zt=qe(""),an=qe({}),jr=qe(function(){}),kr=typeof HTMLElement>"u"?"undefined":qe(HTMLElement),yn=function(r){return r&&r.instanceString&&Zt(r.instanceString)?r.instanceString():null},Le=function(r){return null!=r&&qe(r)==zt},Zt=function(r){return null!=r&&qe(r)===jr},Kt=function(r){return!Dn(r)&&(Array.isArray?Array.isArray(r):null!=r&&r instanceof Array)},at=function(r){return null!=r&&qe(r)===an&&!Kt(r)&&r.constructor===Object},Ve=function(r){return null!=r&&qe(r)===qe(1)&&!isNaN(r)},Zs=function(r){if("undefined"!==kr)return null!=r&&r instanceof HTMLElement},Dn=function(r){return fo(r)||Al(r)},fo=function(r){return"collection"===yn(r)&&r._private.single},Al=function(r){return"collection"===yn(r)&&!r._private.single},Tn=function(r){return"core"===yn(r)},_n=function(r){return"stylesheet"===yn(r)},At=function(r){return null==r||!(""!==r&&!r.match(/^\s+$/))},Rl=function(r){return function(r){return null!=r&&qe(r)===an}(r)&&Zt(r.then)},Yp=function(){return ze&&ze.userAgent.match(/msie|trident|edge/i)},Xo=function(r,o){o||(o=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var d=[],f=0;f<arguments.length;f++)d.push(arguments[f]);return d.join("$")});var u=function c(){var p,f=arguments,g=o.apply(this,f),v=c.cache;return(p=v[g])||(p=v[g]=r.apply(this,f)),p};return u.cache={},u},kl=Xo(function(a){return a.replace(/([A-Z])/g,function(r){return"-"+r.toLowerCase()})}),Nl=Xo(function(a){return a.replace(/(-\w)/g,function(r){return r[1].toUpperCase()})}),Zp=Xo(function(a,r){return a+r[0].toUpperCase()+r.substring(1)},function(a,r){return a+"$"+r}),Qp=function(r){return At(r)?r:r.charAt(0).toUpperCase()+r.substring(1)},Fn="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Xp="rgb[a]?\\(("+Fn+"[%]?)\\s*,\\s*("+Fn+"[%]?)\\s*,\\s*("+Fn+"[%]?)(?:\\s*,\\s*("+Fn+"))?\\)",Nd="rgb[a]?\\((?:"+Fn+"[%]?)\\s*,\\s*(?:"+Fn+"[%]?)\\s*,\\s*(?:"+Fn+"[%]?)(?:\\s*,\\s*(?:"+Fn+"))?\\)",Jp="hsl[a]?\\(("+Fn+")\\s*,\\s*("+Fn+"[%])\\s*,\\s*("+Fn+"[%])(?:\\s*,\\s*("+Fn+"))?\\)",Ol="hsl[a]?\\((?:"+Fn+")\\s*,\\s*(?:"+Fn+"[%])\\s*,\\s*(?:"+Fn+"[%])(?:\\s*,\\s*(?:"+Fn+"))?\\)",Fl=function(r,o){return r<o?-1:r>o?1:0},st=null!=Object.assign?Object.assign.bind(Object):function(a){for(var r=arguments,o=1;o<r.length;o++){var u=r[o];if(null!=u)for(var c=Object.keys(u),d=0;d<c.length;d++){var f=c[d];a[f]=u[f]}}return a},iv={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Fd=function(r){for(var o=r.map,u=r.keys,c=u.length,d=0;d<c;d++){var f=u[d];if(at(f))throw Error("Tried to set map with object key");d<u.length-1?(null==o[f]&&(o[f]={}),o=o[f]):o[f]=r.value}},Bd=function(r){for(var o=r.map,u=r.keys,c=u.length,d=0;d<c;d++){var f=u[d];if(at(f))throw Error("Tried to get map with object key");if(null==(o=o[f]))return o}return o},Bl=We?We.performance:null,Vd=Bl&&Bl.now?function(){return Bl.now()}:function(){return Date.now()},av=function(){if(We){if(We.requestAnimationFrame)return function(a){We.requestAnimationFrame(a)};if(We.mozRequestAnimationFrame)return function(a){We.mozRequestAnimationFrame(a)};if(We.webkitRequestAnimationFrame)return function(a){We.webkitRequestAnimationFrame(a)};if(We.msRequestAnimationFrame)return function(a){We.msRequestAnimationFrame(a)}}return function(a){a&&setTimeout(function(){a(Vd())},1e3/60)}}(),Qs=function(r){return av(r)},ki=Vd,ho=9261,$d=65599,Xs=5381,Vl=function(r){for(var c,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ho;!(c=r.next()).done;)u=u*$d+c.value|0;return u},po=function(r){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ho)*$d+r|0},vo=function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xs;return(o<<5)+o+r|0},Ni=function(r){return 2097152*r[0]+r[1]},Js=function(r,o){return[po(r[0],o[0]),vo(r[1],o[1])]},oa=function(r,o){var u={value:0,done:!1},c=0,d=r.length;return Vl({next:function(){return c<d?u.value=r.charCodeAt(c++):u.done=!0,u}},o)},$l=function(){return Ud(arguments)},Ud=function(r){for(var o,u=0;u<r.length;u++){var c=r[u];o=0===u?oa(c):oa(c,o)}return o},Gr=!0,ov=null!=console.warn,sv=null!=console.trace,zl=Number.MAX_SAFE_INTEGER||9007199254740991,jd=function(){return!0},Jo=function(){return!1},Gd=function(){return 0},Hl=function(){},nn=function(r){throw new Error(r)},qd=function(r){if(void 0===r)return Gr;Gr=!!r},Dt=function(r){qd()&&(ov?console.warn(r):(console.log(r),sv&&console.trace()))},An=function(r){return null==r?r:Kt(r)?r.slice():at(r)?function(r){return st({},r)}(r):r},Wd=function(r,o){for(o=r="";r++<36;o+=51*r&52?(15^r?8^Math.random()*(20^r?16:4):4).toString(16):"-");return o},uv={},eu=function(){return uv},qn=function(r){var o=Object.keys(r);return function(u){for(var c={},d=0;d<o.length;d++){var f=o[d],p=u?.[f];c[f]=void 0===p?r[f]:p}return c}},qr=function(r,o,u){for(var c=r.length-1;c>=0&&(r[c]!==o||(r.splice(c,1),!u));c--);},Ul=function(r){r.splice(0,r.length)},Wr=function(r,o,u){return u&&(o=Zp(u,o)),r[o]},sa=function(r,o,u,c){u&&(o=Zp(u,o)),r[o]=c},pi=typeof Map<"u"?Map:function(){function a(){$t(this,a),this._obj={}}return gt(a,[{key:"set",value:function(o,u){return this._obj[o]=u,this}},{key:"delete",value:function(o){return this._obj[o]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(o){return void 0!==this._obj[o]}},{key:"get",value:function(o){return this._obj[o]}}]),a}(),Yd=function(){function a(r){if($t(this,a),this._obj=Object.create(null),this.size=0,null!=r){var o;o=null!=r.instanceString&&r.instanceString()===this.instanceString()?r.toArray():r;for(var u=0;u<o.length;u++)this.add(o[u])}}return gt(a,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(o){var u=this._obj;1!==u[o]&&(u[o]=1,this.size++)}},{key:"delete",value:function(o){var u=this._obj;1===u[o]&&(u[o]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(o){return 1===this._obj[o]}},{key:"toArray",value:function(){var o=this;return Object.keys(this._obj).filter(function(u){return o.has(u)})}},{key:"forEach",value:function(o,u){return this.toArray().forEach(o,u)}}]),a}(),mo="undefined"!==(typeof Set>"u"?"undefined":qe(Set))?Set:Yd,tu=function(r,o){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==r&&void 0!==o&&Tn(r)){var c=o.group;if(null==c&&(c=o.data&&null!=o.data.source&&null!=o.data.target?"edges":"nodes"),"nodes"===c||"edges"===c){this.length=1,this[0]=this;var d=this._private={cy:r,single:!0,data:o.data||{},position:o.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:c,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!o.selected,selectable:void 0===o.selectable||!!o.selectable,locked:!!o.locked,grabbed:!1,grabbable:void 0===o.grabbable||!!o.grabbable,pannable:void 0===o.pannable?"edges"===c:!!o.pannable,active:!1,classes:new mo,animation:{current:[],queue:[]},rscratch:{},scratch:o.scratch||{},edges:[],children:[],parent:o.parent&&o.parent.isNode()?o.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==d.position.x&&(d.position.x=0),null==d.position.y&&(d.position.y=0),o.renderedPosition){var f=o.renderedPosition,p=r.pan(),g=r.zoom();d.position={x:(f.x-p.x)/g,y:(f.y-p.y)/g}}var v=[];Kt(o.classes)?v=o.classes:Le(o.classes)&&(v=o.classes.split(/\s+/));for(var m=0,w=v.length;m<w;m++){var D=v[m];!D||""===D||d.classes.add(D)}this.createEmitter();var C=o.style||o.css;C&&(Dt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(C)),(void 0===u||u)&&this.restore()}else nn("An element must be of type `nodes` or `edges`; you specified `"+c+"`")}else nn("An element must have a core reference and parameters set")},In=function(r){return r={bfs:r.bfs||!r.dfs,dfs:r.dfs||!r.bfs},function(u,c,d){var f;at(u)&&!Dn(u)&&(u=(f=u).roots||f.root,c=f.visit,d=f.directed),d=2!==arguments.length||Zt(c)?d:c,c=Zt(c)?c:function(){};for(var T,p=this._private.cy,g=u=Le(u)?this.filter(u):u,v=[],m=[],w={},D={},C={},E=0,x=this.byGroup(),M=x.nodes,_=x.edges,A=0;A<g.length;A++){var R=g[A],F=R.id();R.isNode()&&(v.unshift(R),r.bfs&&(C[F]=!0,m.push(R)),D[F]=0)}for(var $=function(){var j=r.bfs?v.shift():v.pop(),B=j.id();if(r.dfs){if(C[B])return"continue";C[B]=!0,m.push(j)}var de,Y=D[B],W=w[B],G=null!=W?W.source():null,Q=null!=W?W.target():null,ne=null==W?void 0:j.same(G)?Q[0]:G[0];if(!0===(de=c(j,W,ne,E++,Y)))return T=j,"break";if(!1===de)return"break";for(var X=j.connectedEdges().filter(function(De){return(!d||De.source().same(j))&&_.has(De)}),ue=0;ue<X.length;ue++){var oe=X[ue],be=oe.connectedNodes().filter(function(De){return!De.same(j)&&M.has(De)}),me=be.id();0!==be.length&&!C[me]&&(v.push(be=be[0]),r.bfs&&(C[me]=!0,m.push(be)),w[me]=oe,D[me]=D[B]+1)}};0!==v.length;){var k=$();if("continue"!==k&&"break"===k)break}for(var V=p.collection(),N=0;N<m.length;N++){var H=m[N],U=w[H.id()];null!=U&&V.push(U),V.push(H)}return{path:p.collection(V),found:p.collection(T)}}},es={breadthFirstSearch:In({bfs:!0}),depthFirstSearch:In({dfs:!0})};es.bfs=es.breadthFirstSearch,es.dfs=es.depthFirstSearch;var dv=qn({root:null,weight:function(r){return 1},directed:!1}),jl={dijkstra:function(r){if(!at(r)){var o=arguments;r={root:o[0],weight:o[1],directed:o[2]}}var W,G,u=dv(r),c=u.root,f=u.directed,p=this,g=u.weight,v=Le(c)?this.filter(c)[0]:c[0],m={},w={},D={},C=this.byGroup(),E=C.nodes,T=C.edges;T.unmergeBy(function(Y){return Y.isLoop()});for(var x=function(W){return m[W.id()]},_=new ve.default(function(Y,W){return x(Y)-x(W)}),A=0;A<E.length;A++){var R=E[A];m[R.id()]=R.same(v)?0:1/0,_.push(R)}for(var F=function(W,G){for(var de,Q=(f?W.edgesTo(G):W.edgesWith(G)).intersect(T),ne=1/0,X=0;X<Q.length;X++){var ue=Q[X],oe=g(ue);(oe<ne||!de)&&(ne=oe,de=ue)}return{edge:de,dist:ne}};_.size()>0;){var $=_.pop(),k=x($),V=$.id();if(D[V]=k,k!==1/0)for(var N=$.neighborhood().intersect(E),H=0;H<N.length;H++){var U=N[H],L=U.id(),j=F($,U),B=k+j.dist;B<x(U)&&(G=B,m[(W=U).id()]=G,_.updateItem(W),w[L]={node:$,edge:j.edge})}}return{distanceTo:function(W){var G=Le(W)?E.filter(W)[0]:W[0];return D[G.id()]},pathTo:function(W){var G=Le(W)?E.filter(W)[0]:W[0],Q=[],ne=G,de=ne.id();if(G.length>0)for(Q.unshift(G);w[de];){var X=w[de];Q.unshift(X.edge),Q.unshift(X.node),de=(ne=X.node).id()}return p.spawn(Q)}}}},un={kruskal:function(r){r=r||function(A){return 1};for(var o=this.byGroup(),u=o.nodes,c=o.edges,d=u.length,f=new Array(d),p=u,g=function(R){for(var F=0;F<f.length;F++)if(f[F].has(R))return F},v=0;v<d;v++)f[v]=this.spawn(u[v]);for(var m=c.sort(function(A,R){return r(A)-r(R)}),w=0;w<m.length;w++){var D=m[w],C=D.source()[0],E=D.target()[0],T=g(C),x=g(E),M=f[T],_=f[x];T!==x&&(p.merge(D),M.merge(_),f.splice(x,1))}return p}},Gl=qn({root:null,goal:null,weight:function(r){return 1},heuristic:function(r){return 0},directed:!1}),dn={aStar:function(r){var o=this.cy(),u=Gl(r),c=u.root,d=u.goal,f=u.heuristic,p=u.directed,g=u.weight;c=o.collection(c)[0],d=o.collection(d)[0];var A,R,v=c.id(),m=d.id(),w={},D={},C={},E=new ve.default(function(de,X){return D[de.id()]-D[X.id()]}),T=new mo,x={},M={},_=function(X,ue){E.push(X),T.add(ue)};_(c,v),w[v]=0,D[v]=f(c);for(var k=0;E.size()>0;){if(R=(A=E.pop()).id(),T.delete(R),k++,R===m){for(var V=[],N=d,H=m,U=M[H];V.unshift(N),null!=U&&V.unshift(U),null!=(N=x[H]);)U=M[H=N.id()];return{found:!0,distance:w[R],path:this.spawn(V),steps:k}}C[R]=!0;for(var L=A._private.edges,j=0;j<L.length;j++){var B=L[j];if(this.hasElementWithId(B.id())&&(!p||B.data("source")===R)){var Y=B.source(),W=B.target(),G=Y.id()!==R?Y:W,Q=G.id();if(this.hasElementWithId(Q)&&!C[Q]){var ne=w[R]+g(B);if(!T.has(Q)){w[Q]=ne,D[Q]=ne+f(G),_(G,Q),x[Q]=A,M[Q]=B;continue}ne<w[Q]&&(w[Q]=ne,D[Q]=ne+f(G),x[Q]=A,M[Q]=B)}}}}return{found:!1,distance:void 0,path:void 0,steps:k}}},ql=qn({weight:function(r){return 1},directed:!1}),fv={floydWarshall:function(r){for(var o=this.cy(),u=ql(r),d=u.directed,f=u.weight,p=this.byGroup(),g=p.nodes,v=p.edges,m=g.length,w=m*m,D=function(oe){return g.indexOf(oe)},C=function(oe){return g[oe]},E=new Array(w),T=0;T<w;T++){var x=T%m;E[T]=(T-x)/m===x?0:1/0}for(var _=new Array(w),A=new Array(w),R=0;R<v.length;R++){var F=v[R],$=F.source()[0],k=F.target()[0];if($!==k){var V=D($),N=D(k),H=V*m+N,U=f(F);if(E[H]>U&&(E[H]=U,_[H]=N,A[H]=F),!d){var L=N*m+V;!d&&E[L]>U&&(E[L]=U,_[L]=V,A[L]=F)}}}for(var j=0;j<m;j++)for(var B=0;B<m;B++)for(var Y=B*m+j,W=0;W<m;W++){var G=B*m+W,Q=j*m+W;E[Y]+E[Q]<E[G]&&(E[G]=E[Y]+E[Q],_[G]=_[Y])}var de=function(oe){return D(function(oe){return(Le(oe)?o.filter(oe):oe)[0]}(oe))};return{distance:function(oe,be){var me=de(oe),De=de(be);return E[me*m+De]},path:function(oe,be){var me=de(oe),De=de(be),te=C(me);if(me===De)return te.collection();if(null==_[me*m+De])return o.collection();var ye=o.collection();for(ye.merge(te);me!==De;)ye.merge(A[me*m+(me=_[me*m+De])]),ye.merge(C(me));return ye}}}},Wl=qn({weight:function(r){return 1},directed:!1,root:null}),ct={bellmanFord:function(r){var o=this,u=Wl(r),d=u.directed,f=u.root,p=u.weight,g=this,v=this.cy(),m=this.byGroup(),w=m.edges,D=m.nodes,C=D.length,E=new pi,T=!1,x=[];f=v.collection(f)[0],w.unmergeBy(function(nt){return nt.isLoop()});for(var M=w.length,_=function(Qe){var rt=E.get(Qe.id());return rt||(rt={},E.set(Qe.id(),rt)),rt},A=function(Qe){return(Le(Qe)?v.$(Qe):Qe)[0]},$=0;$<C;$++){var k=D[$],V=_(k);V.dist=k.same(f)?0:1/0,V.pred=null,V.edge=null}for(var N=!1,H=function(Qe,rt,jt,Lt,yt,Nt){var re=Lt.dist+Nt;re<yt.dist&&!jt.same(Lt.edge)&&(yt.dist=re,yt.pred=Qe,yt.edge=jt,N=!0)},U=1;U<C;U++){N=!1;for(var L=0;L<M;L++){var j=w[L],B=j.source(),Y=j.target(),W=p(j),G=_(B),Q=_(Y);H(B,0,j,G,Q,W),d||H(Y,0,j,Q,G,W)}if(!N)break}if(N)for(var ne=[],de=0;de<M;de++){var X=w[de],ue=X.source(),oe=X.target(),be=p(X),me=_(ue).dist,De=_(oe).dist;if(me+be<De||!d&&De+be<me){if(T||(Dt("Graph contains a negative weight cycle for Bellman-Ford"),T=!0),!1===r.findNegativeWeightCycles)break;var te=[];me+be<De&&te.push(ue),!d&&De+be<me&&te.push(oe);for(var ye=te.length,_e=0;_e<ye;_e++){var Ie=te[_e],ke=[Ie];ke.push(_(Ie).edge);for(var Je=_(Ie).pred;-1===ke.indexOf(Je);)ke.push(Je),ke.push(_(Je).edge),Je=_(Je).pred;for(var Ct=(ke=ke.slice(ke.indexOf(Je)))[0].id(),Be=0,Fe=2;Fe<ke.length;Fe+=2)ke[Fe].id()<Ct&&(Ct=ke[Fe].id(),Be=Fe);(ke=ke.slice(Be).concat(ke.slice(0,Be))).push(ke[0]);var tt=ke.map(function(nt){return nt.id()}).join(",");-1===ne.indexOf(tt)&&(x.push(g.spawn(ke)),ne.push(tt))}}}return{distanceTo:function(Qe){return _(A(Qe)).dist},pathTo:function(Qe){for(var rt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,Lt=[],yt=A(Qe);;){if(null==yt)return o.spawn();var Nt=_(yt),re=Nt.edge,O=Nt.pred;if(Lt.unshift(yt[0]),yt.same(rt)&&Lt.length>0)break;null!=re&&Lt.unshift(re),yt=O}return g.spawn(Lt)},hasNegativeWeightCycle:T,negativeWeightCycles:x}}},Kl=Math.sqrt(2),Yl=function(r,o,u){0===u.length&&nn("Karger-Stein must be run on a connected (sub)graph");for(var c=u[r],p=o[c[1]],g=o[c[2]],v=u,m=v.length-1;m>=0;m--){var w=v[m],D=w[1],C=w[2];(o[D]===p&&o[C]===g||o[D]===g&&o[C]===p)&&v.splice(m,1)}for(var E=0;E<v.length;E++){var T=v[E];T[1]===g?(v[E]=T.slice(),v[E][1]=p):T[2]===g&&(v[E]=T.slice(),v[E][2]=p)}for(var x=0;x<o.length;x++)o[x]===g&&(o[x]=p);return v},Zd=function(r,o,u,c){for(;u>c;){var d=Math.floor(Math.random()*o.length);o=Yl(d,r,o),u--}return o},Qd={kargerStein:function(){var r=this,o=this.byGroup(),u=o.nodes,c=o.edges;c.unmergeBy(function(Q){return Q.isLoop()});var d=u.length,f=c.length,p=Math.ceil(Math.pow(Math.log(d)/Math.LN2,2)),g=Math.floor(d/Kl);if(!(d<2)){for(var v=[],m=0;m<f;m++){var w=c[m];v.push([m,u.indexOf(w.source()),u.indexOf(w.target())])}for(var D=1/0,C=[],E=new Array(d),T=new Array(d),x=new Array(d),M=function(ne,de){for(var X=0;X<d;X++)de[X]=ne[X]},_=0;_<=p;_++){for(var A=0;A<d;A++)T[A]=A;var R=Zd(T,v.slice(),d,g),F=R.slice();M(T,x);var $=Zd(T,R,g,2),k=Zd(x,F,g,2);$.length<=k.length&&$.length<D?(D=$.length,C=$,M(T,E)):k.length<=$.length&&k.length<D&&(D=k.length,C=k,M(x,E))}for(var V=this.spawn(C.map(function(Q){return c[Q[0]]})),N=this.spawn(),H=this.spawn(),U=E[0],L=0;L<E.length;L++){var B=u[L];E[L]===U?N.merge(B):H.merge(B)}var Y=function(ne){var de=r.spawn();return ne.forEach(function(X){de.merge(X),X.connectedEdges().forEach(function(ue){r.contains(ue)&&!V.contains(ue)&&de.merge(ue)})}),de},W=[Y(N),Y(H)];return{cut:V,components:W,partition1:N,partition2:H}}nn("At least 2 nodes are required for Karger-Stein algorithm")}},Ra=function(r,o,u){return{x:r.x*o+u.x,y:r.y*o+u.y}},St=function(r,o,u){return{x:(r.x-u.x)/o,y:(r.y-u.y)/o}},Ht=function(r){return{x:r[0],y:r[1]}},Zl=function(r,o){return Math.atan2(o,r)-Math.PI/2},Ql=Math.log2||function(a){return Math.log(a)/Math.log(2)},vv=function(r){return r>0?1:r<0?-1:0},xr=function(r,o){return Math.sqrt(yo(r,o))},yo=function(r,o){var u=o.x-r.x,c=o.y-r.y;return u*u+c*c},Xy=function(r){for(var o=r.length,u=0,c=0;c<o;c++)u+=r[c];for(var d=0;d<o;d++)r[d]=r[d]/u;return r},Wn=function(r,o,u,c){return(1-c)*(1-c)*r+2*(1-c)*c*o+c*c*u},ts=function(r,o,u,c){return{x:Wn(r.x,o.x,u.x,c),y:Wn(r.y,o.y,u.y,c)}},ru=function(r,o,u){return Math.max(r,Math.min(u,o))},Tr=function(r){if(null==r)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=r.x1&&null!=r.y1){if(null!=r.x2&&null!=r.y2&&r.x2>=r.x1&&r.y2>=r.y1)return{x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,w:r.x2-r.x1,h:r.y2-r.y1};if(null!=r.w&&null!=r.h&&r.w>=0&&r.h>=0)return{x1:r.x1,y1:r.y1,x2:r.x1+r.w,y2:r.y1+r.h,w:r.w,h:r.h}}},mv=function(r,o){r.x1=Math.min(r.x1,o.x1),r.x2=Math.max(r.x2,o.x2),r.w=r.x2-r.x1,r.y1=Math.min(r.y1,o.y1),r.y2=Math.max(r.y2,o.y2),r.h=r.y2-r.y1},e0=function(r,o,u){r.x1=Math.min(r.x1,o),r.x2=Math.max(r.x2,o),r.w=r.x2-r.x1,r.y1=Math.min(r.y1,u),r.y2=Math.max(r.y2,u),r.h=r.y2-r.y1},Xl=function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r.x1-=o,r.x2+=o,r.y1-=o,r.y2+=o,r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},ut=function(r){var u,c,d,f,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===o.length)u=c=d=f=o[0];else if(2===o.length)u=d=o[0],f=c=o[1];else if(4===o.length){var p=Tt(o,4);u=p[0],c=p[1],d=p[2],f=p[3]}return r.x1-=f,r.x2+=c,r.y1-=u,r.y2+=d,r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},yv=function(r,o){r.x1=o.x1,r.y1=o.y1,r.x2=o.x2,r.y2=o.y2,r.w=r.x2-r.x1,r.h=r.y2-r.y1},vi=function(r,o){return!(r.x1>o.x2||o.x1>r.x2||r.x2<o.x1||o.x2<r.x1||r.y2<o.y1||o.y2<r.y1||r.y1>o.y2||o.y1>r.y2)},Oi=function(r,o,u){return r.x1<=o&&o<=r.x2&&r.y1<=u&&u<=r.y2},wv=function(r,o){return Oi(r,o.x,o.y)},Jl=function(r,o){return Oi(r,o.x1,o.y1)&&Oi(r,o.x2,o.y2)},Xd=function(r,o,u,c,d,f,p){var w,g=Fi(d,f),v=d/2,m=f/2,C=c-m-p;if((w=Zr(r,o,u,c,u-v+g-p,C,u+v-g+p,C,!1)).length>0)return w;var x=u+v+p;if((w=Zr(r,o,u,c,x,c-m+g-p,x,c+m-g+p,!1)).length>0)return w;var F=c+m+p;if((w=Zr(r,o,u,c,u-v+g-p,F,u+v-g+p,F,!1)).length>0)return w;var L,V=u-v-p;if((w=Zr(r,o,u,c,V,c-m+g-p,V,c+m-g+p,!1)).length>0)return w;var j=u-v+g,B=c-m+g;if((L=au(r,o,u,c,j,B,g+p)).length>0&&L[0]<=j&&L[1]<=B)return[L[0],L[1]];var Y=u+v-g,W=c-m+g;if((L=au(r,o,u,c,Y,W,g+p)).length>0&&L[0]>=Y&&L[1]<=W)return[L[0],L[1]];var G=u+v-g,Q=c+m-g;if((L=au(r,o,u,c,G,Q,g+p)).length>0&&L[0]>=G&&L[1]>=Q)return[L[0],L[1]];var ne=u-v+g,de=c+m-g;return(L=au(r,o,u,c,ne,de,g+p)).length>0&&L[0]<=ne&&L[1]>=de?[L[0],L[1]]:[]},Jd=function(r,o,u,c,d,f,p){var g=p,v=Math.min(u,d),m=Math.max(u,d),w=Math.min(c,f),D=Math.max(c,f);return v-g<=r&&r<=m+g&&w-g<=o&&o<=D+g},iu=function(r,o,u,c,d,f,p,g,v){var m_x1=Math.min(u,p,d)-v,m_x2=Math.max(u,p,d)+v,m_y1=Math.min(c,g,f)-v,m_y2=Math.max(c,g,f)+v;return!(r<m_x1||r>m_x2||o<m_y1||o>m_y2)},bv=function(r,o,u,c,d,f,p,g){var C=[];!function(r,o,u,c,d){var p,g,v,m,w,D,C,E;0===r&&(r=1e-5),v=-27*(c/=r)+(o/=r)*(9*(u/=r)-o*o*2),p=(g=(3*u-o*o)/9)*g*g+(v/=54)*v,d[1]=0,C=o/3,p>0?(w=(w=v+Math.sqrt(p))<0?-Math.pow(-w,1/3):Math.pow(w,1/3),D=(D=v-Math.sqrt(p))<0?-Math.pow(-D,1/3):Math.pow(D,1/3),d[0]=-C+w+D,d[4]=d[2]=-(C+=(w+D)/2),C=Math.sqrt(3)*(-D+w)/2,d[3]=C,d[5]=-C):(d[5]=d[3]=0,0===p?(E=v<0?-Math.pow(-v,1/3):Math.pow(v,1/3),d[0]=2*E-C,d[4]=d[2]=-(E+C)):(m=(g=-g)*g*g,m=Math.acos(v/Math.sqrt(m)),E=2*Math.sqrt(g),d[0]=-C+E*Math.cos(m/3),d[2]=-C+E*Math.cos((m+2*Math.PI)/3),d[4]=-C+E*Math.cos((m+4*Math.PI)/3)))}(1*u*u-4*u*d+2*u*p+4*d*d-4*d*p+p*p+c*c-4*c*f+2*c*g+4*f*f-4*f*g+g*g,9*u*d-3*u*u-3*u*p-6*d*d+3*d*p+9*c*f-3*c*c-3*c*g-6*f*f+3*f*g,3*u*u-6*u*d+u*p-u*r+2*d*d+2*d*r-p*r+3*c*c-6*c*f+c*g-c*o+2*f*f+2*f*o-g*o,1*u*d-u*u+u*r-d*r+c*f-c*c+c*o-f*o,C);for(var T=[],x=0;x<6;x+=2)Math.abs(C[x+1])<1e-7&&C[x]>=0&&C[x]<=1&&T.push(C[x]);T.push(1),T.push(0);for(var _,A,R,M=-1,F=0;F<T.length;F++)_=Math.pow(1-T[F],2)*u+2*(1-T[F])*T[F]*d+T[F]*T[F]*p,A=Math.pow(1-T[F],2)*c+2*(1-T[F])*T[F]*f+T[F]*T[F]*g,R=Math.pow(_-r,2)+Math.pow(A-o,2),M>=0?R<M&&(M=R):M=R;return M},dt=function(r,o,u,c,d,f){var p=[r-u,o-c],g=[d-u,f-c],v=g[0]*g[0]+g[1]*g[1],m=p[0]*p[0]+p[1]*p[1],w=p[0]*g[0]+p[1]*g[1],D=w*w/v;return w<0?m:D>v?(r-d)*(r-d)+(o-f)*(o-f):m-D},rr=function(r,o,u){for(var c,d,f,p,v=0,m=0;m<u.length/2;m++)if(d=u[2*m+1],m+1<u.length/2?(f=u[2*(m+1)],p=u[2*(m+1)+1]):(f=u[2*(m+1-u.length/2)],p=u[2*(m+1-u.length/2)+1]),(c=u[2*m])!=r||f!=r){if(!(c>=r&&r>=f||c<=r&&r<=f))continue;(r-c)/(f-c)*(p-d)+d>o&&v++}return v%2!=0},Li=function(r,o,u,c,d,f,p,g,v){var w,T,m=new Array(u.length);null!=g[0]?(w=Math.atan(g[1]/g[0]),g[0]<0?w+=Math.PI/2:w=-w-Math.PI/2):w=g;for(var D=Math.cos(-w),C=Math.sin(-w),E=0;E<m.length/2;E++)m[2*E]=f/2*(u[2*E]*D-u[2*E+1]*C),m[2*E+1]=p/2*(u[2*E+1]*D+u[2*E]*C),m[2*E]+=c,m[2*E+1]+=d;if(v>0){var x=tc(m,-v);T=ns(x)}else T=m;return rr(r,o,T)},ns=function(r){for(var p,g,v,m,o=new Array(r.length/2),w=0;w<r.length/4;w++){w<r.length/4-1?(p=r[4*(w+1)],g=r[4*(w+1)+1],v=r[4*(w+1)+2],m=r[4*(w+1)+3]):(p=r[0],g=r[1],v=r[2],m=r[3]);var D=Zr(r[4*w],r[4*w+1],r[4*w+2],r[4*w+3],p,g,v,m,!0);o[2*w]=D[0],o[2*w+1]=D[1]}return o},tc=function(r,o){for(var c,d,f,p,u=new Array(2*r.length),g=0;g<r.length/2;g++){g<r.length/2-1?(f=r[2*(g+1)],p=r[2*(g+1)+1]):(f=r[0],p=r[1]);var v=p-(d=r[2*g+1]),m=-(f-(c=r[2*g])),w=Math.sqrt(v*v+m*m),D=v/w,C=m/w;u[4*g]=c+D*o,u[4*g+1]=d+C*o,u[4*g+2]=f+D*o,u[4*g+3]=p+C*o}return u},wo=function(r,o,u,c,d,f,p){return r-=d,o-=f,(r/=u/2+p)*r+(o/=c/2+p)*o<=1},au=function(r,o,u,c,d,f,p){var g=[u-r,c-o],v=[r-d,o-f],m=g[0]*g[0]+g[1]*g[1],w=2*(v[0]*g[0]+v[1]*g[1]),C=w*w-4*m*(v[0]*v[0]+v[1]*v[1]-p*p);if(C<0)return[];var E=(-w+Math.sqrt(C))/(2*m),T=(-w-Math.sqrt(C))/(2*m),x=Math.min(E,T),M=Math.max(E,T),_=[];if(x>=0&&x<=1&&_.push(x),M>=0&&M<=1&&_.push(M),0===_.length)return[];var A=_[0]*g[0]+r,R=_[0]*g[1]+o;return _.length>1?_[0]==_[1]?[A,R]:[A,R,_[1]*g[0]+r,_[1]*g[1]+o]:[A,R]},tf=function(r,o,u){return o<=r&&r<=u||u<=r&&r<=o?r:r<=o&&o<=u||u<=o&&o<=r?o:u},Zr=function(r,o,u,c,d,f,p,g,v){var m=r-d,w=u-r,D=p-d,C=o-f,E=c-o,T=g-f,x=D*C-T*m,M=w*C-E*m,_=T*w-D*E;if(0!==_){var A=x/_,R=M/_,$=-.001;return $<=A&&A<=1.001&&$<=R&&R<=1.001||v?[r+A*w,o+A*E]:[]}return 0===x||0===M?tf(r,u,p)===p?[p,g]:tf(r,u,d)===d?[d,f]:tf(d,p,u)===u?[u,c]:[]:[]},ka=function(r,o,u,c,d,f,p,g){var m,C,v=[],w=new Array(u.length),D=!0;if(null==f&&(D=!1),D){for(var E=0;E<w.length/2;E++)w[2*E]=u[2*E]*f+c,w[2*E+1]=u[2*E+1]*p+d;if(g>0){var T=tc(w,-g);C=ns(T)}else C=w}else C=u;for(var _,A,R=0;R<C.length/2;R++)R<C.length/2-1?(_=C[2*(R+1)],A=C[2*(R+1)+1]):(_=C[0],A=C[1]),0!==(m=Zr(r,o,c,d,C[2*R],C[2*R+1],_,A)).length&&v.push(m[0],m[1]);return v},su=function(r,o,u){var c=[r[0]-o[0],r[1]-o[1]],d=Math.sqrt(c[0]*c[0]+c[1]*c[1]),f=(d-u)/d;return f<0&&(f=1e-5),[o[0]+f*c[0],o[1]+f*c[1]]},hr=function(r,o){var u=uu(r,o);return nf(u)},nf=function(r){for(var o,u,c=r.length/2,d=1/0,f=1/0,p=-1/0,g=-1/0,v=0;v<c;v++)o=r[2*v],u=r[2*v+1],d=Math.min(d,o),p=Math.max(p,o),f=Math.min(f,u),g=Math.max(g,u);for(var m=2/(p-d),w=2/(g-f),D=0;D<c;D++)o=r[2*D]=r[2*D]*m,u=r[2*D+1]=r[2*D+1]*w,d=Math.min(d,o),p=Math.max(p,o),f=Math.min(f,u),g=Math.max(g,u);if(f<-1)for(var C=0;C<c;C++)u=r[2*C+1]=r[2*C+1]+(-1-f);return r},uu=function(r,o){var u=1/r*2*Math.PI,c=r%2==0?Math.PI/2+u/2:Math.PI/2;c+=o;for(var f,d=new Array(2*r),p=0;p<r;p++)f=p*u+c,d[2*p]=Math.cos(f),d[2*p+1]=Math.sin(-f);return d},Fi=function(r,o){return Math.min(r/4,o/4,8)},ua=function(r,o){return Math.min(r/10,o/10,8)},lu=function(r,o){return{heightOffset:Math.min(15,.05*o),widthOffset:Math.min(100,.25*r),ctrlPtOffsetPct:.05}},Ut=qn({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(r){return 1}}),cu={pageRank:function(r){for(var o=Ut(r),u=o.dampingFactor,c=o.precision,d=o.iterations,f=o.weight,p=this._private.cy,g=this.byGroup(),v=g.nodes,m=g.edges,w=v.length,C=m.length,E=new Array(w*w),T=new Array(w),x=(1-u)/w,M=0;M<w;M++){for(var _=0;_<w;_++)E[M*w+_]=0;T[M]=0}for(var R=0;R<C;R++){var F=m[R],$=F.data("source"),k=F.data("target");if($!==k){var V=v.indexOfId($),N=v.indexOfId(k),H=f(F);E[N*w+V]+=H,T[V]+=H}}for(var L=1/w+x,j=0;j<w;j++)if(0===T[j])for(var B=0;B<w;B++)E[B*w+j]=L;else for(var W=0;W<w;W++){var G=W*w+j;E[G]=E[G]/T[j]+x}for(var de,Q=new Array(w),ne=new Array(w),X=0;X<w;X++)Q[X]=1;for(var ue=0;ue<d;ue++){for(var oe=0;oe<w;oe++)ne[oe]=0;for(var be=0;be<w;be++)for(var me=0;me<w;me++)ne[be]+=E[be*w+me]*Q[me];Xy(ne),de=Q,Q=ne,ne=de;for(var te=0,ye=0;ye<w;ye++){var _e=de[ye]-Q[ye];te+=_e*_e}if(te<c)break}return{rank:function(Je){return Je=p.collection(Je)[0],Q[v.indexOf(Je)]}}}},du=qn({root:null,weight:function(r){return 1},directed:!1,alpha:0}),gi={degreeCentralityNormalized:function(r){r=du(r);var o=this.cy(),u=this.nodes(),c=u.length;if(r.directed){for(var m={},w={},D=0,C=0,E=0;E<c;E++){var T=u[E],x=T.id();r.root=T;var M=this.degreeCentrality(r);D<M.indegree&&(D=M.indegree),C<M.outdegree&&(C=M.outdegree),m[x]=M.indegree,w[x]=M.outdegree}return{indegree:function(A){return 0==D?0:(Le(A)&&(A=o.filter(A)),m[A.id()]/D)},outdegree:function(A){return 0===C?0:(Le(A)&&(A=o.filter(A)),w[A.id()]/C)}}}for(var d={},f=0,p=0;p<c;p++){var g=u[p];r.root=g;var v=this.degreeCentrality(r);f<v.degree&&(f=v.degree),d[g.id()]=v.degree}return{degree:function(A){return 0===f?0:(Le(A)&&(A=o.filter(A)),d[A.id()]/f)}}},degreeCentrality:function(r){r=du(r);var o=this.cy(),u=this,d=r.root,f=r.weight,p=r.directed,g=r.alpha;if(d=o.collection(d)[0],p){for(var C=d.connectedEdges(),E=C.filter(function($){return $.target().same(d)&&u.has($)}),T=C.filter(function($){return $.source().same(d)&&u.has($)}),x=E.length,M=T.length,_=0,A=0,R=0;R<E.length;R++)_+=f(E[R]);for(var F=0;F<T.length;F++)A+=f(T[F]);return{indegree:Math.pow(x,1-g)*Math.pow(_,g),outdegree:Math.pow(M,1-g)*Math.pow(A,g)}}for(var v=d.connectedEdges().intersection(u),m=v.length,w=0,D=0;D<v.length;D++)w+=f(v[D]);return{degree:Math.pow(m,1-g)*Math.pow(w,g)}}};gi.dc=gi.degreeCentrality,gi.dcn=gi.degreeCentralityNormalised=gi.degreeCentralityNormalized;var af=qn({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),bo={closenessCentralityNormalized:function(r){for(var o=af(r),u=o.harmonic,c=o.weight,d=o.directed,f=this.cy(),p={},g=0,v=this.nodes(),m=this.floydWarshall({weight:c,directed:d}),w=0;w<v.length;w++){for(var D=0,C=v[w],E=0;E<v.length;E++)if(w!==E){var T=m.distance(C,v[E]);D+=u?1/T:T}u||(D=1/D),g<D&&(g=D),p[C.id()]=D}return{closeness:function(M){return 0==g?0:(M=Le(M)?f.filter(M)[0].id():M.id(),p[M]/g)}}},closenessCentrality:function(r){var o=af(r),u=o.root,c=o.weight,d=o.directed,f=o.harmonic;u=this.filter(u)[0];for(var p=this.dijkstra({root:u,weight:c,directed:d}),g=0,v=this.nodes(),m=0;m<v.length;m++){var w=v[m];if(!w.same(u)){var D=p.distanceTo(w);g+=f?1/D:D}}return f?g:1/g}};bo.cc=bo.closenessCentrality,bo.ccn=bo.closenessCentralityNormalised=bo.closenessCentralityNormalized;var Dv=qn({weight:null,directed:!1}),ti={betweennessCentrality:function(r){for(var o=Dv(r),u=o.directed,c=o.weight,d=null!=c,f=this.cy(),p=this.nodes(),g={},v={},m=0,w={set:function(A,R){v[A]=R,R>m&&(m=R)},get:function(A){return v[A]}},D=0;D<p.length;D++){var C=p[D],E=C.id();g[E]=u?C.outgoers().nodes():C.openNeighborhood().nodes(),w.set(E,0)}for(var T=function(A){for(var R=p[A].id(),F=[],$={},k={},V={},N=new ve.default(function(me,De){return V[me]-V[De]}),H=0;H<p.length;H++){var U=p[H].id();$[U]=[],k[U]=0,V[U]=1/0}for(k[R]=1,V[R]=0,N.push(R);!N.empty();){var L=N.pop();if(F.push(L),d)for(var j=0;j<g[L].length;j++){var W,B=g[L][j],Y=f.getElementById(L);W=Y.edgesTo(B).length>0?Y.edgesTo(B)[0]:B.edgesTo(Y)[0];var G=c(W);B=B.id(),V[B]>V[L]+G&&(V[B]=V[L]+G,N.nodes.indexOf(B)<0?N.push(B):N.updateItem(B),k[B]=0,$[B]=[]),V[B]==V[L]+G&&(k[B]=k[B]+k[L],$[B].push(L))}else for(var Q=0;Q<g[L].length;Q++){var ne=g[L][Q].id();V[ne]==1/0&&(N.push(ne),V[ne]=V[L]+1),V[ne]==V[L]+1&&(k[ne]=k[ne]+k[L],$[ne].push(L))}}for(var de={},X=0;X<p.length;X++)de[p[X].id()]=0;for(;F.length>0;){for(var ue=F.pop(),oe=0;oe<$[ue].length;oe++){var be=$[ue][oe];de[be]=de[be]+k[be]/k[ue]*(1+de[ue])}ue!=p[A].id()&&w.set(ue,w.get(ue)+de[ue])}},x=0;x<p.length;x++)T(x);var M={betweenness:function(A){var R=f.collection(A).id();return w.get(R)},betweennessNormalized:function(A){if(0==m)return 0;var R=f.collection(A).id();return w.get(R)/m}};return M.betweennessNormalised=M.betweennessNormalized,M}};ti.bc=ti.betweennessCentrality;var mi=qn({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(a){return 1}]}),Bi=function(r,o){for(var u=0,c=0;c<o.length;c++)u+=o[c](r);return u},rs=function(r,o){for(var u,c=0;c<o;c++){u=0;for(var d=0;d<o;d++)u+=r[d*o+c];for(var f=0;f<o;f++)r[f*o+c]=r[f*o+c]/u}},nc=function(r,o,u){for(var c=new Array(u*u),d=0;d<u;d++){for(var f=0;f<u;f++)c[d*u+f]=0;for(var p=0;p<u;p++)for(var g=0;g<u;g++)c[d*u+g]+=r[d*u+p]*o[p*u+g]}return c},rc=function(r,o,u){for(var c=r.slice(0),d=1;d<u;d++)r=nc(r,c,o);return r},sf=function(r,o,u){for(var c=new Array(o*o),d=0;d<o*o;d++)c[d]=Math.pow(r[d],u);return rs(c,o),c},Vi=function(r,o,u,c){for(var d=0;d<u;d++)if(Math.round(r[d]*Math.pow(10,c))/Math.pow(10,c)!=Math.round(o[d]*Math.pow(10,c))/Math.pow(10,c))return!1;return!0},Ev=function(r,o){for(var u=0;u<r.length;u++)if(!o[u]||r[u].id()!==o[u].id())return!1;return!0},uf=function(r){for(var o=this.nodes(),u=this.edges(),c=this.cy(),d=function(r){return mi(r)}(r),f={},p=0;p<o.length;p++)f[o[p].id()]=p;for(var w,g=o.length,v=g*g,m=new Array(v),D=0;D<v;D++)m[D]=0;for(var C=0;C<u.length;C++){var E=u[C],T=f[E.source().id()],x=f[E.target().id()],M=Bi(E,d.attributes);m[T*g+x]+=M,m[x*g+T]+=M}(function(r,o,u){for(var c=0;c<o;c++)r[c*o+c]=u})(m,g,d.multFactor),rs(m,g);for(var _=!0,A=0;_&&A<d.maxIterations;)_=!1,w=rc(m,g,d.expandFactor),m=sf(w,g,d.inflateFactor),Vi(m,w,v,4)||(_=!0),A++;var R=function(r,o,u,c){for(var d=[],f=0;f<o;f++){for(var p=[],g=0;g<o;g++)Math.round(1e3*r[f*o+g])/1e3>0&&p.push(u[g]);0!==p.length&&d.push(c.collection(p))}return d}(m,g,o,c);return R=function(r){for(var o=0;o<r.length;o++)for(var u=0;u<r.length;u++)o!=u&&Ev(r[o],r[u])&&r.splice(u,1);return r}(R),R},Cv={markovClustering:uf,mcl:uf},Sv=function(r){return r},la=function(r,o){return Math.abs(o-r)},lf=function(r,o,u){return r+la(o,u)},ac=function(r,o,u){return r+Math.pow(u-o,2)},pr=function(r){return Math.sqrt(r)},Ir=function(r,o,u){return Math.max(r,la(o,u))},Yt=function(r,o,u,c,d){for(var f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Sv,p=c,m=0;m<r;m++)p=d(p,o(m),u(m));return f(p)},En={euclidean:function(r,o,u){return r>=2?Yt(r,o,u,0,ac,pr):Yt(r,o,u,0,lf)},squaredEuclidean:function(r,o,u){return Yt(r,o,u,0,ac)},manhattan:function(r,o,u){return Yt(r,o,u,0,lf)},max:function(r,o,u){return Yt(r,o,u,-1/0,Ir)}};function Kn(a,r,o,u,c,d){var f;return f=Zt(a)?a:En[a]||En.euclidean,0===r&&Zt(a)?f(c,d):f(r,o,u,c,d)}En["squared-euclidean"]=En.squaredEuclidean,En.squaredeuclidean=En.squaredEuclidean;var Do=qn({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),vr=function(r){return Do(r)},as=function(r,o,u,c,d){var p="kMedoids"!==d?function(w){return u[w]}:function(w){return c[w](u)};return Kn(r,c.length,p,function(D){return c[D](o)},u,o)},fu=function(r,o,u){for(var c=u.length,d=new Array(c),f=new Array(c),p=new Array(o),g=null,v=0;v<c;v++)d[v]=r.min(u[v]).value,f[v]=r.max(u[v]).value;for(var m=0;m<o;m++){g=[];for(var w=0;w<c;w++)g[w]=Math.random()*(f[w]-d[w])+d[w];p[m]=g}return p},os=function(r,o,u,c,d){for(var f=1/0,p=0,g=0;g<o.length;g++){var v=as(u,r,o[g],c,d);v<f&&(f=v,p=g)}return p},wi=function(r,o,u){for(var c=[],d=null,f=0;f<o.length;f++)u[(d=o[f]).id()]===r&&c.push(d);return c},Ze=function(r,o,u){return Math.abs(o-r)<=u},Rt=function(r,o,u){for(var c=0;c<r.length;c++)for(var d=0;d<r[c].length;d++)if(Math.abs(r[c][d]-o[c][d])>u)return!1;return!0},wn=function(r,o,u){for(var c=0;c<u;c++)if(r===o[c])return!0;return!1},Qr=function(r,o){var u=new Array(o);if(r.length<50)for(var c=0;c<o;c++){for(var d=r[Math.floor(Math.random()*r.length)];wn(d,u,c);)d=r[Math.floor(Math.random()*r.length)];u[c]=d}else for(var f=0;f<o;f++)u[f]=r[Math.floor(Math.random()*r.length)];return u},ca=function(r,o,u){for(var c=0,d=0;d<o.length;d++)c+=as("manhattan",o[d],r,u,"kMedoids");return c},Cn=function(r,o,u,c,d){for(var f,p,g=0;g<o.length;g++)for(var v=0;v<r.length;v++)c[g][v]=Math.pow(u[g][v],d.m);for(var m=0;m<r.length;m++)for(var w=0;w<d.attributes.length;w++){f=0,p=0;for(var D=0;D<o.length;D++)f+=c[D][m]*d.attributes[w](o[D]),p+=c[D][m];r[m][w]=f/p}},hu=function(r,o,u,c,d){for(var f=0;f<r.length;f++)o[f]=r[f].slice();for(var p,g,v,m=2/(d.m-1),w=0;w<u.length;w++)for(var D=0;D<c.length;D++){p=0;for(var C=0;C<u.length;C++)g=as(d.distance,c[D],u[w],d.attributes,"cmeans"),v=as(d.distance,c[D],u[C],d.attributes,"cmeans"),p+=Math.pow(g/v,m);r[D][w]=1/p}},kt=function(r){var d,f,p,g,v,o=this.cy(),u=this.nodes(),c=vr(r);g=new Array(u.length);for(var m=0;m<u.length;m++)g[m]=new Array(c.k);p=new Array(u.length);for(var w=0;w<u.length;w++)p[w]=new Array(c.k);for(var D=0;D<u.length;D++){for(var C=0,E=0;E<c.k;E++)p[D][E]=Math.random(),C+=p[D][E];for(var T=0;T<c.k;T++)p[D][T]=p[D][T]/C}f=new Array(c.k);for(var x=0;x<c.k;x++)f[x]=new Array(c.attributes.length);v=new Array(u.length);for(var M=0;M<u.length;M++)v[M]=new Array(c.k);for(var _=!0,A=0;_&&A<c.maxIterations;)_=!1,Cn(f,u,p,v,c),hu(p,g,f,u,c),Rt(p,g,c.sensitivityThreshold)||(_=!0),A++;return d=function(r,o,u,c){for(var d=new Array(u.k),f=0;f<d.length;f++)d[f]=[];for(var p,g,v=0;v<o.length;v++){p=-1/0,g=-1;for(var m=0;m<o[0].length;m++)o[v][m]>p&&(p=o[v][m],g=m);d[g].push(r[v])}for(var w=0;w<d.length;w++)d[w]=c.collection(d[w]);return d}(u,p,c,o),{clusters:d,degreeOfMembership:p}},oc={kMeans:function(r){var g,o=this.cy(),u=this.nodes(),c=null,d=vr(r),f=new Array(d.k),p={};g=d.testMode?"number"==typeof d.testCentroids?fu(u,d.k,d.attributes):"object"===qe(d.testCentroids)?d.testCentroids:fu(u,d.k,d.attributes):fu(u,d.k,d.attributes);for(var v=!0,m=0;v&&m<d.maxIterations;){for(var w=0;w<u.length;w++)p[(c=u[w]).id()]=os(c,g,d.distance,d.attributes,"kMeans");v=!1;for(var D=0;D<d.k;D++){var C=wi(D,u,p);if(0!==C.length){for(var E=d.attributes.length,T=g[D],x=new Array(E),M=new Array(E),_=0;_<E;_++){M[_]=0;for(var A=0;A<C.length;A++)M[_]+=d.attributes[_](c=C[A]);x[_]=M[_]/C.length,Ze(x[_],T[_],d.sensitivityThreshold)||(v=!0)}g[D]=x,f[D]=o.collection(C)}}m++}return f},kMedoids:function(r){var p,v,o=this.cy(),u=this.nodes(),c=null,d=vr(r),f=new Array(d.k),g={},m=new Array(d.k);d.testMode?"number"==typeof d.testCentroids||(p="object"===qe(d.testCentroids)?d.testCentroids:Qr(u,d.k)):p=Qr(u,d.k);for(var w=!0,D=0;w&&D<d.maxIterations;){for(var C=0;C<u.length;C++)g[(c=u[C]).id()]=os(c,p,d.distance,d.attributes,"kMedoids");w=!1;for(var E=0;E<p.length;E++){var T=wi(E,u,g);if(0!==T.length){m[E]=ca(p[E],T,d.attributes);for(var x=0;x<T.length;x++)(v=ca(T[x],T,d.attributes))<m[E]&&(m[E]=v,p[E]=T[x],w=!0);f[E]=o.collection(T)}}D++}return f},fuzzyCMeans:kt,fcm:kt},ss=qn({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),cf={single:"min",complete:"max"},Yn=function(r,o,u,c,d){for(var g,f=0,p=1/0,v=d.attributes,m=function(N,H){return Kn(d.distance,v.length,function(U){return v[U](N)},function(U){return v[U](H)},N,H)},w=0;w<r.length;w++){var D=r[w].key,C=u[D][c[D]];C<p&&(f=D,p=C)}if("threshold"===d.mode&&p>=d.threshold||"dendrogram"===d.mode&&1===r.length)return!1;var x,E=o[f],T=o[c[f]];x="dendrogram"===d.mode?{left:E,right:T,key:E.key}:{value:E.value.concat(T.value),key:E.key},r[E.index]=x,r.splice(T.index,1),o[E.key]=x;for(var M=0;M<r.length;M++){var _=r[M];E.key===_.key?g=1/0:"min"===d.linkage?(g=u[E.key][_.key],u[E.key][_.key]>u[T.key][_.key]&&(g=u[T.key][_.key])):"max"===d.linkage?(g=u[E.key][_.key],u[E.key][_.key]<u[T.key][_.key]&&(g=u[T.key][_.key])):g="mean"===d.linkage?(u[E.key][_.key]*E.size+u[T.key][_.key]*T.size)/(E.size+T.size):"dendrogram"===d.mode?m(_.value,E.value):m(_.value[0],E.value[0]),u[E.key][_.key]=u[_.key][E.key]=g}for(var A=0;A<r.length;A++){var R=r[A].key;if(c[R]===E.key||c[R]===T.key){for(var F=R,$=0;$<r.length;$++){var k=r[$].key;u[R][k]<u[R][F]&&(F=k)}c[R]=F}r[A].index=A}return E.key=T.key=E.index=T.index=null,!0},da=function a(r,o,u){r&&(r.value?o.push(r.value):(r.left&&a(r.left,o),r.right&&a(r.right,o)))},So=function a(r,o){if(!r)return"";if(r.left&&r.right){var u=a(r.left,o),c=a(r.right,o),d=o.add({group:"nodes",data:{id:u+","+c}});return o.add({group:"edges",data:{source:u,target:d.id()}}),o.add({group:"edges",data:{source:c,target:d.id()}}),d.id()}return r.value?r.value.id():void 0},bi=function a(r,o,u){if(!r)return[];var c=[],d=[],f=[];return 0===o?(r.left&&da(r.left,c),r.right&&da(r.right,d),f=c.concat(d),[u.collection(f)]):1===o?r.value?[u.collection(r.value)]:(r.left&&da(r.left,c),r.right&&da(r.right,d),[u.collection(c),u.collection(d)]):r.value?[u.collection(r.value)]:(r.left&&(c=a(r.left,o-1,u)),r.right&&(d=a(r.right,o-1,u)),c.concat(d))},xo=function(r){for(var o=this.cy(),u=this.nodes(),c=function(r){var o=ss(r),u=cf[o.linkage];return null!=u&&(o.linkage=u),o}(r),d=c.attributes,f=function(A,R){return Kn(c.distance,d.length,function(F){return d[F](A)},function(F){return d[F](R)},A,R)},p=[],g=[],v=[],m=[],w=0;w<u.length;w++){var D={value:"dendrogram"===c.mode?u[w]:[u[w]],key:w,index:w};p[w]=D,m[w]=D,g[w]=[],v[w]=0}for(var C=0;C<p.length;C++)for(var E=0;E<=C;E++){var T;T="dendrogram"===c.mode?C===E?1/0:f(p[C].value,p[E].value):C===E?1/0:f(p[C].value[0],p[E].value[0]),g[C][E]=T,g[E][C]=T,T<g[C][v[C]]&&(v[C]=E)}for(var x=Yn(p,m,g,v,c);x;)x=Yn(p,m,g,v,c);var M;return"dendrogram"===c.mode?(M=bi(p[0],c.dendrogramDepth,o),c.addDendrogram&&So(p[0],o)):(M=new Array(p.length),p.forEach(function(_,A){_.key=_.index=null,M[A]=o.collection(_.value)})),M},df={hierarchicalClustering:xo,hca:xo},pn=qn({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),sc=function(r,o,u,c){var d=function(p,g){return c[g](p)};return-Kn(r,c.length,function(f){return d(o,f)},function(f){return d(u,f)},o,u)},us=function(r,o,u){for(var c=[],d=0;d<r;d++){for(var f=-1,p=-1/0,g=0;g<u.length;g++){var v=u[g];o[d*r+v]>p&&(f=v,p=o[d*r+v])}f>0&&c.push(f)}for(var m=0;m<u.length;m++)c[u[m]]=u[m];return c},ar=function(r){for(var o=this.cy(),u=this.nodes(),c=function(r){var o=r.damping,u=r.preference;.5<=o&&o<1||nn("Damping must range on [0.5, 1).  Got: ".concat(o));var c=["median","mean","min","max"];return c.some(function(d){return d===u})||Ve(u)||nn("Preference must be one of [".concat(c.map(function(d){return"'".concat(d,"'")}).join(", "),"] or a number.  Got: ").concat(u)),pn(r)}(r),d={},f=0;f<u.length;f++)d[u[f].id()]=f;var p,g,v,m,w,D,N;g=(p=u.length)*p,v=new Array(g);for(var C=0;C<g;C++)v[C]=-1/0;for(var E=0;E<p;E++)for(var T=0;T<p;T++)E!==T&&(v[E*p+T]=sc(c.distance,u[E],u[T],c.attributes));m=function(r,o){var u;return u="median"===o?function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.length,d=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],f=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(u<r.length&&r.splice(u,r.length-u),o>0&&r.splice(0,o)):r=r.slice(o,u);for(var p=0,g=r.length-1;g>=0;g--)f?isFinite(r[g])||(r[g]=-1/0,p++):r.splice(g,1);d&&r.sort(function(D,C){return D-C});var m=r.length,w=Math.floor(m/2);return m%2!=0?r[w+1+p]:(r[w-1+p]+r[w+p])/2}(r):"mean"===o?function(r){for(var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.length,c=0,d=0,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f<u;f++){var p=r[f];isFinite(p)&&(c+=p,d++)}return c/d}(r):"min"===o?function(r){for(var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.length,c=1/0,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d<u;d++){var f=r[d];isFinite(f)&&(c=Math.min(f,c))}return c}(r):"max"===o?function(r){for(var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.length,c=-1/0,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d<u;d++){var f=r[d];isFinite(f)&&(c=Math.max(f,c))}return c}(r):o,u}(v,c.preference);for(var x=0;x<p;x++)v[x*p+x]=m;w=new Array(g);for(var M=0;M<g;M++)w[M]=0;D=new Array(g);for(var _=0;_<g;_++)D[_]=0;for(var A=new Array(p),R=new Array(p),F=new Array(p),$=0;$<p;$++)A[$]=0,R[$]=0,F[$]=0;for(var k=new Array(p*c.minIterations),V=0;V<k.length;V++)k[V]=0;for(N=0;N<c.maxIterations;N++){for(var H=0;H<p;H++){for(var U=-1/0,L=-1/0,j=-1,B=0,Y=0;Y<p;Y++)A[Y]=w[H*p+Y],(B=D[H*p+Y]+v[H*p+Y])>=U?(L=U,U=B,j=Y):B>L&&(L=B);for(var W=0;W<p;W++)w[H*p+W]=(1-c.damping)*(v[H*p+W]-U)+c.damping*A[W];w[H*p+j]=(1-c.damping)*(v[H*p+j]-L)+c.damping*A[j]}for(var G=0;G<p;G++){for(var Q=0,ne=0;ne<p;ne++)A[ne]=D[ne*p+G],R[ne]=Math.max(0,w[ne*p+G]),Q+=R[ne];Q-=R[G],R[G]=w[G*p+G],Q+=R[G];for(var de=0;de<p;de++)D[de*p+G]=(1-c.damping)*Math.min(0,Q-R[de])+c.damping*A[de];D[G*p+G]=(1-c.damping)*(Q-R[G])+c.damping*A[G]}for(var X=0,ue=0;ue<p;ue++){var oe=D[ue*p+ue]+w[ue*p+ue]>0?1:0;k[N%c.minIterations*p+ue]=oe,X+=oe}if(X>0&&(N>=c.minIterations-1||N==c.maxIterations-1)){for(var be=0,me=0;me<p;me++){F[me]=0;for(var De=0;De<c.minIterations;De++)F[me]+=k[De*p+me];(0===F[me]||F[me]===c.minIterations)&&be++}if(be===p)break}}for(var te=function(r,o,u){for(var c=[],d=0;d<r;d++)o[d*r+d]+u[d*r+d]>0&&c.push(d);return c}(p,w,D),ye=function(r,o,u){for(var c=us(r,o,u),d=0;d<u.length;d++){for(var f=[],p=0;p<c.length;p++)c[p]===u[d]&&f.push(p);for(var g=-1,v=-1/0,m=0;m<f.length;m++){for(var w=0,D=0;D<f.length;D++)w+=o[f[D]*r+f[m]];w>v&&(g=m,v=w)}u[d]=f[g]}return us(r,o,u)}(p,v,te),_e={},Ie=0;Ie<te.length;Ie++)_e[te[Ie]]=[];for(var ke=0;ke<u.length;ke++){var Ct=ye[d[u[ke].id()]];null!=Ct&&_e[Ct].push(u[ke])}for(var Be=new Array(te.length),Fe=0;Fe<te.length;Fe++)Be[Fe]=o.collection(_e[te[Fe]]);return Be},n0={affinityPropagation:ar,ap:ar},Or=qn({root:void 0,directed:!1}),ni={hierholzer:function(r){if(!at(r)){var o=arguments;r={root:o[0],directed:o[1]}}var g,v,m,u=Or(r),c=u.root,d=u.directed,f=this,p=!1;c&&(m=Le(c)?this.filter(c)[0].id():c[0].id());var w={},D={};f.forEach(d?function(_){var A=_.id();if(_.isNode()){var R=_.indegree(!0),F=_.outdegree(!0),$=R-F,k=F-R;1==$?g?p=!0:g=A:1==k?v?p=!0:v=A:(k>1||$>1)&&(p=!0),w[A]=[],_.outgoers().forEach(function(V){V.isEdge()&&w[A].push(V.id())})}else D[A]=[void 0,_.target().id()]}:function(_){var A=_.id();_.isNode()?(_.degree(!0)%2&&(g?v?p=!0:v=A:g=A),w[A]=[],_.connectedEdges().forEach(function(F){return w[A].push(F.id())})):D[A]=[_.source().id(),_.target().id()]});var C={found:!1,trail:void 0};if(p)return C;if(v&&g)if(d){if(m&&v!=m)return C;m=v}else{if(m&&v!=m&&g!=m)return C;m||(m=v)}else m||(m=f[0].id());var E=function(A){for(var $,k,V,R=A,F=[A];w[R].length;)$=w[R].shift(),k=D[$][0],R!=(V=D[$][1])?(w[V]=w[V].filter(function(N){return N!=$}),R=V):!d&&R!=k&&(w[k]=w[k].filter(function(N){return N!=$}),R=k),F.unshift($),F.unshift(R);return F},T=[],x=[];for(x=E(m);1!=x.length;)0==w[x[0]].length?(T.unshift(f.getElementById(x.shift())),T.unshift(f.getElementById(x.shift()))):x=E(x.shift()).concat(x);for(var M in T.unshift(f.getElementById(x.shift())),w)if(w[M].length)return C;return C.found=!0,C.trail=this.spawn(T,!0),C}},Io=function(){var r=this,o={},u=0,c=0,d=[],f=[],p={},v=function w(D,C,E){D===E&&(c+=1),o[C]={id:u,low:u++,cutVertex:!1};var x,M,_,A,T=r.getElementById(C).connectedEdges().intersection(r);0===T.size()?d.push(r.spawn(r.getElementById(C))):T.forEach(function(R){x=R.source().id(),M=R.target().id(),(_=x===C?M:x)!==E&&(A=R.id(),p[A]||(p[A]=!0,f.push({x:C,y:_,edge:R})),_ in o?o[C].low=Math.min(o[C].low,o[_].id):(w(D,_,C),o[C].low=Math.min(o[C].low,o[_].low),o[C].id<=o[_].low&&(o[C].cutVertex=!0,function(D,C){for(var E=f.length-1,T=[],x=r.spawn();f[E].x!=D||f[E].y!=C;)T.push(f.pop().edge),E--;T.push(f.pop().edge),T.forEach(function(M){var _=M.connectedNodes().intersection(r);x.merge(M),_.forEach(function(A){var R=A.id(),F=A.connectedEdges().intersection(r);x.merge(A),x.merge(o[R].cutVertex?F.filter(function($){return $.isLoop()}):F)})}),d.push(x)}(C,_))))})};r.forEach(function(w){if(w.isNode()){var D=w.id();D in o||(c=0,v(D,D),o[D].cutVertex=c>1)}});var m=Object.keys(o).filter(function(w){return o[w].cutVertex}).map(function(w){return r.getElementById(w)});return{cut:r.spawn(m),components:d}},Na=function(){var r=this,o={},u=0,c=[],d=[],f=r.spawn(r),p=function g(v){if(d.push(v),o[v]={index:u,low:u++,explored:!1},r.getElementById(v).connectedEdges().intersection(r).forEach(function(T){var x=T.target().id();x!==v&&(x in o||g(x),o[x].explored||(o[v].low=Math.min(o[v].low,o[x].low)))}),o[v].index===o[v].low){for(var w=r.spawn();;){var D=d.pop();if(w.merge(r.getElementById(D)),o[D].low=o[v].index,o[D].explored=!0,D===v)break}var C=w.edgesWith(w),E=w.merge(C);c.push(E),f=f.difference(E)}};return r.forEach(function(g){if(g.isNode()){var v=g.id();v in o||p(v)}}),{cut:f,components:c}},hf={};[es,jl,un,dn,fv,ct,Qd,cu,gi,bo,ti,Cv,oc,df,n0,ni,{hopcroftTarjanBiconnected:Io,htbc:Io,htb:Io,hopcroftTarjanBiconnectedComponents:Io},{tarjanStronglyConnected:Na,tsc:Na,tscc:Na,tarjanStronglyConnectedComponents:Na}].forEach(function(a){st(hf,a)});var fa=function a(r){if(!(this instanceof a))return new a(r);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof r&&r.call(this,this.fulfill.bind(this),this.reject.bind(this))};fa.prototype={fulfill:function(r){return Tv(this,1,"fulfillValue",r)},reject:function(r){return Tv(this,2,"rejectReason",r)},then:function(r,o){var u=this,c=new fa;return u.onFulfilled.push(_v(r,c,"fulfill")),u.onRejected.push(_v(o,c,"reject")),Iv(u),c.proxy}};var Tv=function(r,o,u,c){return 0===r.state&&(r.state=o,r[u]=c,Iv(r)),r},Iv=function(r){1===r.state?Mv(r,"onFulfilled",r.fulfillValue):2===r.state&&Mv(r,"onRejected",r.rejectReason)},Mv=function(r,o,u){if(0!==r[o].length){var c=r[o];r[o]=[];var d=function(){for(var p=0;p<c.length;p++)c[p](u)};"function"==typeof setImmediate?setImmediate(d):setTimeout(d,0)}},_v=function(r,o,u){return function(c){if("function"!=typeof r)o[u].call(o,c);else{var d;try{d=r(c)}catch(f){return void o.reject(f)}r0(o,d)}}},r0=function a(r,o){if(r!==o&&r.proxy!==o){var u;if("object"===qe(o)&&null!==o||"function"==typeof o)try{u=o.then}catch(d){return void r.reject(d)}if("function"!=typeof u)r.fulfill(o);else{var c=!1;try{u.call(o,function(d){c||(c=!0,d===o?r.reject(new TypeError("circular thenable chain")):a(r,d))},function(d){c||(c=!0,r.reject(d))})}catch(d){c||r.reject(d)}}}else r.reject(new TypeError("cannot resolve promise with itself"))};fa.all=function(a){return new fa(function(r,o){for(var u=new Array(a.length),c=0,d=function(g,v){u[g]=v,++c===a.length&&r(u)},f=0;f<a.length;f++)!function(p){var g=a[p];null!=g&&null!=g.then?g.then(function(w){d(p,w)},function(w){o(w)}):d(p,g)}(f)})},fa.resolve=function(a){return new fa(function(r,o){r(a)})},fa.reject=function(a){return new fa(function(r,o){o(a)})};var cs=typeof Promise<"u"?Promise:fa,gf=function(r,o,u){var c=Tn(r),d=!c,f=this._private=st({duration:1e3},o,u);if(f.target=r,f.style=f.style||f.css,f.started=!1,f.playing=!1,f.hooked=!1,f.applying=!1,f.progress=0,f.completes=[],f.frames=[],f.complete&&Zt(f.complete)&&f.completes.push(f.complete),d){var p=r.position();f.startPosition=f.startPosition||{x:p.x,y:p.y},f.startStyle=f.startStyle||r.cy().style().getAnimationStartStyle(r,f.style)}if(c){var g=r.pan();f.startPan={x:g.x,y:g.y},f.startZoom=r.zoom()}this.length=1,this[0]=this},Mo=gf.prototype;st(Mo,{instanceString:function(){return"animation"},hook:function(){var r=this._private;if(!r.hooked){var u=r.target._private.animation;(r.queue?u.queue:u.current).push(this),Dn(r.target)&&r.target.cy().addToAnimationPool(r.target),r.hooked=!0}return this},play:function(){var r=this._private;return 1===r.progress&&(r.progress=0),r.playing=!0,r.started=!1,r.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var r=this._private;return r.applying=!0,r.started=!1,r.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var r=this._private;return r.playing=!1,r.started=!1,this},stop:function(){var r=this._private;return r.playing=!1,r.started=!1,r.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(r){var o=this._private;return void 0===r?o.progress*o.duration:this.progress(r/o.duration)},progress:function(r){var o=this._private,u=o.playing;return void 0===r?o.progress:(u&&this.pause(),o.progress=r,o.started=!1,u&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var r=this._private,o=r.playing;o&&this.pause(),r.progress=1-r.progress,r.started=!1;var u=function(v,m){var w=r[v];null!=w&&(r[v]=r[m],r[m]=w)};if(u("zoom","startZoom"),u("pan","startPan"),u("position","startPosition"),r.style)for(var c=0;c<r.style.length;c++){var d=r.style[c],f=d.name,p=r.startStyle[f];r.startStyle[f]=d,r.style[c]=p}return o&&this.play(),this},promise:function(r){var u,o=this._private;return u="frame"===r?o.frames:o.completes,new cs(function(c,d){u.push(function(){c()})})}}),Mo.complete=Mo.completed,Mo.run=Mo.play,Mo.running=Mo.playing;var o0={data:function(r){return r=st({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(c){},beforeSet:function(c,d){},onSet:function(c){},canSet:function(c){return!0}},r),function(c,d){var f=r,p=this,g=void 0!==p.length,v=g?p:[p],m=g?p[0]:p;if(Le(c)){var C,D=-1!==c.indexOf(".")&&Ge.default(c);if(f.allowGetting&&void 0===d)return m&&(f.beforeGet(m),C=D&&void 0===m._private[f.field][c]?Ae.default(m._private[f.field],D):m._private[f.field][c]),C;if(f.allowSetting&&void 0!==d&&!f.immutableKeys[c]){var T=tn({},c,d);f.beforeSet(p,T);for(var x=0,M=v.length;x<M;x++){var _=v[x];f.canSet(_)&&(D&&void 0===m._private[f.field][c]?Pe.default(_._private[f.field],D,d):_._private[f.field][c]=d)}f.updateStyle&&p.updateStyle(),f.onSet(p),f.settingTriggersEvent&&p[f.triggerFnName](f.settingEvent)}}else if(f.allowSetting&&at(c)){var R,F,A=c,$=Object.keys(A);f.beforeSet(p,A);for(var k=0;k<$.length;k++)if(F=A[R=$[k]],!f.immutableKeys[R])for(var N=0;N<v.length;N++){var H=v[N];f.canSet(H)&&(H._private[f.field][R]=F)}f.updateStyle&&p.updateStyle(),f.onSet(p),f.settingTriggersEvent&&p[f.triggerFnName](f.settingEvent)}else if(f.allowBinding&&Zt(c))p.on(f.bindingEvent,c);else if(f.allowGetting&&void 0===c){var L;return m&&(f.beforeGet(m),L=m._private[f.field]),L}return p}},removeData:function(r){return r=st({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},r),function(c){var d=r,f=this,g=void 0!==f.length?f:[f];if(Le(c)){for(var v=c.split(/\s+/),m=v.length,w=0;w<m;w++){var D=v[w];if(!At(D)&&!d.immutableKeys[D])for(var E=0,T=g.length;E<T;E++)g[E]._private[d.field][D]=void 0}d.triggerEvent&&f[d.triggerFnName](d.event)}else if(void 0===c){for(var x=0,M=g.length;x<M;x++)for(var _=g[x]._private[d.field],A=Object.keys(_),R=0;R<A.length;R++){var F=A[R];!d.immutableKeys[F]&&(_[F]=void 0)}d.triggerEvent&&f[d.triggerFnName](d.event)}return f}}},s0={eventAliasesOn:function(r){var o=r;o.addListener=o.listen=o.bind=o.on,o.unlisten=o.unbind=o.off=o.removeListener,o.trigger=o.emit,o.pon=o.promiseOn=function(u,c){var d=this,f=Array.prototype.slice.call(arguments,0);return new cs(function(p,g){var m=f.concat([function(C){d.off.apply(d,w),p(C)}]),w=m.concat([]);d.on.apply(d,m)})}}},Jt={};[{animated:function(){return function(){var o=this,c=void 0!==o.length?o:[o];if(!(this._private.cy||this).styleEnabled())return!1;var f=c[0];return f?f._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var o=this,c=void 0!==o.length?o:[o];if(!(this._private.cy||this).styleEnabled())return this;for(var f=0;f<c.length;f++)c[f]._private.animation.queue=[];return this}},delay:function(){return function(o,u){return(this._private.cy||this).styleEnabled()?this.animate({delay:o,duration:o,complete:u}):this}},delayAnimation:function(){return function(o,u){return(this._private.cy||this).styleEnabled()?this.animation({delay:o,duration:o,complete:u}):this}},animation:function(){return function(o,u){var c=this,d=void 0!==c.length,f=d?c:[c],p=this._private.cy||this,g=!d,v=!g;if(!p.styleEnabled())return this;var m=p.style();if(o=st({},o,u),0===Object.keys(o).length)return new gf(f[0],o);switch(void 0===o.duration&&(o.duration=400),o.duration){case"slow":o.duration=600;break;case"fast":o.duration=200}if(v&&(o.style=m.getPropsList(o.style||o.css),o.css=void 0),v&&null!=o.renderedPosition){var D=o.renderedPosition,C=p.pan(),E=p.zoom();o.position=St(D,E,C)}if(g&&null!=o.panBy){var T=o.panBy,x=p.pan();o.pan={x:x.x+T.x,y:x.y+T.y}}var M=o.center||o.centre;if(g&&null!=M){var _=p.getCenterPan(M.eles,o.zoom);null!=_&&(o.pan=_)}if(g&&null!=o.fit){var A=o.fit,R=p.getFitViewport(A.eles||A.boundingBox,A.padding);null!=R&&(o.pan=R.pan,o.zoom=R.zoom)}if(g&&at(o.zoom)){var F=p.getZoomedViewport(o.zoom);null!=F?(F.zoomed&&(o.zoom=F.zoom),F.panned&&(o.pan=F.pan)):o.zoom=null}return new gf(f[0],o)}},animate:function(){return function(o,u){var c=this,f=void 0!==c.length?c:[c];if(!(this._private.cy||this).styleEnabled())return this;u&&(o=st({},o,u));for(var g=0;g<f.length;g++){var v=f[g],m=v.animated()&&(void 0===o.queue||o.queue);v.animation(o,m?{queue:!0}:void 0).play()}return this}},stop:function(){return function(o,u){var c=this,f=void 0!==c.length?c:[c],p=this._private.cy||this;if(!p.styleEnabled())return this;for(var g=0;g<f.length;g++){for(var m=f[g]._private,w=m.animation.current,D=0;D<w.length;D++)u&&(w[D]._private.duration=0);o&&(m.animation.queue=[]),u||(m.animation.current=[])}return p.notify("draw"),this}}},o0,s0].forEach(function(a){st(Jt,a)});var mf={animate:Jt.animate(),animation:Jt.animation(),animated:Jt.animated(),clearQueue:Jt.clearQueue(),delay:Jt.delay(),delayAnimation:Jt.delayAnimation(),stop:Jt.stop()},uc={classes:function(r){var o=this;if(void 0===r){var u=[];return o[0]._private.classes.forEach(function(E){return u.push(E)}),u}Kt(r)||(r=(r||"").match(/\S+/g)||[]);for(var c=[],d=new mo(r),f=0;f<o.length;f++){for(var p=o[f],g=p._private,v=g.classes,m=!1,w=0;w<r.length;w++)if(!v.has(r[w])){m=!0;break}m||(m=v.size!==r.length),m&&(g.classes=d,c.push(p))}return c.length>0&&this.spawn(c).updateStyle().emit("class"),o},addClass:function(r){return this.toggleClass(r,!0)},hasClass:function(r){var o=this[0];return null!=o&&o._private.classes.has(r)},toggleClass:function(r,o){Kt(r)||(r=r.match(/\S+/g)||[]);for(var u=this,c=void 0===o,d=[],f=0,p=u.length;f<p;f++)for(var g=u[f],v=g._private.classes,m=!1,w=0;w<r.length;w++){var D=r[w],C=v.has(D),E=!1;o||c&&!C?(v.add(D),E=!0):(!o||c&&C)&&(v.delete(D),E=!0),!m&&E&&(d.push(g),m=!0)}return d.length>0&&this.spawn(d).updateStyle().emit("class"),u},removeClass:function(r){return this.toggleClass(r,!1)},flashClass:function(r,o){var u=this;if(null==o)o=250;else if(0===o)return u;return u.addClass(r),setTimeout(function(){u.removeClass(r)},o),u}};uc.className=uc.classNames=uc.classes;var Qt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:Fn,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Qt.variable="(?:[\\w-.]|(?:\\\\"+Qt.metaChar+"))+",Qt.className="(?:[\\w-]|(?:\\\\"+Qt.metaChar+"))+",Qt.value=Qt.string+"|"+Qt.number,Qt.id=Qt.variable,function(){var a,r,o;for(a=Qt.comparatorOp.split("|"),o=0;o<a.length;o++)Qt.comparatorOp+="|@"+(r=a[o]);for(a=Qt.comparatorOp.split("|"),o=0;o<a.length;o++)!((r=a[o]).indexOf("!")>=0)&&"="!==r&&(Qt.comparatorOp+="|\\!"+r)}();var lc=[{selector:":selected",matches:function(r){return r.selected()}},{selector:":unselected",matches:function(r){return!r.selected()}},{selector:":selectable",matches:function(r){return r.selectable()}},{selector:":unselectable",matches:function(r){return!r.selectable()}},{selector:":locked",matches:function(r){return r.locked()}},{selector:":unlocked",matches:function(r){return!r.locked()}},{selector:":visible",matches:function(r){return r.visible()}},{selector:":hidden",matches:function(r){return!r.visible()}},{selector:":transparent",matches:function(r){return r.transparent()}},{selector:":grabbed",matches:function(r){return r.grabbed()}},{selector:":free",matches:function(r){return!r.grabbed()}},{selector:":removed",matches:function(r){return r.removed()}},{selector:":inside",matches:function(r){return!r.removed()}},{selector:":grabbable",matches:function(r){return r.grabbable()}},{selector:":ungrabbable",matches:function(r){return!r.grabbable()}},{selector:":animated",matches:function(r){return r.animated()}},{selector:":unanimated",matches:function(r){return!r.animated()}},{selector:":parent",matches:function(r){return r.isParent()}},{selector:":childless",matches:function(r){return r.isChildless()}},{selector:":child",matches:function(r){return r.isChild()}},{selector:":orphan",matches:function(r){return r.isOrphan()}},{selector:":nonorphan",matches:function(r){return r.isChild()}},{selector:":compound",matches:function(r){return r.isNode()?r.isParent():r.source().isParent()||r.target().isParent()}},{selector:":loop",matches:function(r){return r.isLoop()}},{selector:":simple",matches:function(r){return r.isSimple()}},{selector:":active",matches:function(r){return r.active()}},{selector:":inactive",matches:function(r){return!r.active()}},{selector:":backgrounding",matches:function(r){return r.backgrounding()}},{selector:":nonbackgrounding",matches:function(r){return!r.backgrounding()}}].sort(function(a,r){return function(r,o){return-1*Fl(r,o)}(a.selector,r.selector)}),Oa=function(){for(var r,a={},o=0;o<lc.length;o++)a[(r=lc[o]).selector]=r.matches;return a}(),Av="("+lc.map(function(a){return a.selector}).join("|")+")",_o=function(r){return r.replace(new RegExp("\\\\("+Qt.metaChar+")","g"),function(o,u){return u})},$i=function(r,o,u){r[r.length-1]=u},gu=[{name:"group",query:!0,regex:"("+Qt.group+")",populate:function(r,o,u){var d=Tt(u,1)[0];o.checks.push({type:0,value:"*"===d?d:d+"s"})}},{name:"state",query:!0,regex:Av,populate:function(r,o,u){var c=Tt(u,1);o.checks.push({type:7,value:c[0]})}},{name:"id",query:!0,regex:"\\#("+Qt.id+")",populate:function(r,o,u){var c=Tt(u,1);o.checks.push({type:8,value:_o(c[0])})}},{name:"className",query:!0,regex:"\\.("+Qt.className+")",populate:function(r,o,u){var c=Tt(u,1);o.checks.push({type:9,value:_o(c[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Qt.variable+")\\s*\\]",populate:function(r,o,u){var c=Tt(u,1);o.checks.push({type:4,field:_o(c[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Qt.variable+")\\s*("+Qt.comparatorOp+")\\s*("+Qt.value+")\\s*\\]",populate:function(r,o,u){var c=Tt(u,3),d=c[0],f=c[1],p=c[2];p=null!=new RegExp("^"+Qt.string+"$").exec(p)?p.substring(1,p.length-1):parseFloat(p),o.checks.push({type:3,field:_o(d),operator:f,value:p})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Qt.boolOp+")\\s*("+Qt.variable+")\\s*\\]",populate:function(r,o,u){var c=Tt(u,2),d=c[0];o.checks.push({type:5,field:_o(c[1]),operator:d})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Qt.meta+")\\s*("+Qt.comparatorOp+")\\s*("+Qt.number+")\\s*\\]\\]",populate:function(r,o,u){var c=Tt(u,3),f=c[1],p=c[2];o.checks.push({type:6,field:_o(c[0]),operator:f,value:parseFloat(p)})}},{name:"nextQuery",separator:!0,regex:Qt.separator,populate:function(r,o){var u=r.currentSubject,c=r.edgeCount,d=r.compoundCount,f=r[r.length-1];return null!=u&&(f.subject=u,r.currentSubject=null),f.edgeCount=c,f.compoundCount=d,r.edgeCount=0,r.compoundCount=0,r[r.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Qt.directedEdge,populate:function(r,o){if(null==r.currentSubject){var u={checks:[]},d={checks:[]};return u.checks.push({type:11,source:o,target:d}),$i(r,0,u),r.edgeCount++,d}var f={checks:[]},g={checks:[]};return f.checks.push({type:12,source:o,target:g}),$i(r,0,f),r.edgeCount++,g}},{name:"undirectedEdge",separator:!0,regex:Qt.undirectedEdge,populate:function(r,o){if(null==r.currentSubject){var u={checks:[]},d={checks:[]};return u.checks.push({type:10,nodes:[o,d]}),$i(r,0,u),r.edgeCount++,d}var f={checks:[]},g={checks:[]};return f.checks.push({type:14,node:o,neighbor:g}),$i(r,0,f),g}},{name:"child",separator:!0,regex:Qt.child,populate:function(r,o){if(null==r.currentSubject){var u={checks:[]},c={checks:[]};return u.checks.push({type:15,parent:r[r.length-1],child:c}),$i(r,0,u),r.compoundCount++,c}if(r.currentSubject===o){var f={checks:[]},g={checks:[]},v={checks:[]},m={checks:[]},w={checks:[]};return f.checks.push({type:19,left:r[r.length-1],right:g,subject:v}),v.checks=o.checks,o.checks=[{type:20}],w.checks.push({type:20}),g.checks.push({type:17,parent:w,child:m}),$i(r,0,f),r.currentSubject=v,r.compoundCount++,m}var D={checks:[]},C={checks:[]},E=[{type:17,parent:D,child:C}];return D.checks=o.checks,o.checks=E,r.compoundCount++,C}},{name:"descendant",separator:!0,regex:Qt.descendant,populate:function(r,o){if(null==r.currentSubject){var u={checks:[]},c={checks:[]};return u.checks.push({type:16,ancestor:r[r.length-1],descendant:c}),$i(r,0,u),r.compoundCount++,c}if(r.currentSubject===o){var f={checks:[]},g={checks:[]},v={checks:[]},m={checks:[]},w={checks:[]};return f.checks.push({type:19,left:r[r.length-1],right:g,subject:v}),v.checks=o.checks,o.checks=[{type:20}],w.checks.push({type:20}),g.checks.push({type:18,ancestor:w,descendant:m}),$i(r,0,f),r.currentSubject=v,r.compoundCount++,m}var D={checks:[]},C={checks:[]},E=[{type:18,ancestor:D,descendant:C}];return D.checks=o.checks,o.checks=E,r.compoundCount++,C}},{name:"subject",modifier:!0,regex:Qt.subject,populate:function(r,o){if(null!=r.currentSubject&&r.currentSubject!==o)return Dt("Redefinition of subject in selector `"+r.toString()+"`"),!1;r.currentSubject=o;var c=r[r.length-1].checks[0],d=null==c?null:c.type;11===d?c.type=13:10===d&&(c.type=14,c.node=c.nodes[1],c.neighbor=c.nodes[0],c.nodes=null)}}];gu.forEach(function(a){return a.regexObj=new RegExp("^"+a.regex)});var Pv=function(r){for(var o,u,c,d=0;d<gu.length;d++){var f=gu[d],p=f.name,g=r.match(f.regexObj);if(null!=g){u=g,o=f,c=p,r=r.substring(g[0].length);break}}return{expr:o,match:u,name:c,remaining:r}},wf={parse:function(r){var o=this,u=o.inputText=r,c=o[0]={checks:[]};for(o.length=1,u=function(r){var o=r.match(/^\s+/);return o&&(r=r.substring(o[0].length)),r}(u);;){var d=Pv(u);if(null==d.expr)return Dt("The selector `"+r+"`is invalid"),!1;var f=d.match.slice(1),p=d.expr.populate(o,c,f);if(!1===p)return!1;if(null!=p&&(c=p),(u=d.remaining).match(/^\s*$/))break}var g=o[o.length-1];null!=o.currentSubject&&(g.subject=o.currentSubject),g.edgeCount=o.edgeCount,g.compoundCount=o.compoundCount;for(var v=0;v<o.length;v++){var m=o[v];if(m.compoundCount>0&&m.edgeCount>0)return Dt("The selector `"+r+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(m.edgeCount>1)return Dt("The selector `"+r+"` is invalid because it uses multiple edge selectors"),!1;1===m.edgeCount&&Dt("The selector `"+r+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var r=function(m){return m??""},o=function(m){return Le(m)?'"'+m+'"':r(m)},u=function(m){return" "+m+" "},d=function(m,w){return m.checks.reduce(function(D,C,E){return D+(w===m&&0===E?"$":"")+function(m,w){var C=m.value;switch(m.type){case 0:var E=r(C);return E.substring(0,E.length-1);case 3:return"["+m.field+u(r(m.operator))+o(C)+"]";case 5:var _=m.field;return"["+r(m.operator)+_+"]";case 4:return"["+m.field+"]";case 6:return"[["+m.field+u(r(m.operator))+o(C)+"]]";case 7:return C;case 8:return"#"+C;case 9:return"."+C;case 17:case 15:return d(m.parent,w)+u(">")+d(m.child,w);case 18:case 16:return d(m.ancestor,w)+" "+d(m.descendant,w);case 19:var $=d(m.left,w),k=d(m.subject,w),V=d(m.right,w);return $+($.length>0?" ":"")+k+V;case 20:return""}}(C,w)},"")},f="",p=0;p<this.length;p++){var g=this[p];f+=d(g,g.subject),this.length>1&&p<this.length-1&&(f+=", ")}return this.toStringCache=f,f}},dc=function(r,o,u){var c,g,v,d=Le(r),f=Ve(r),p=Le(u),m=!1,w=!1,D=!1;switch(o.indexOf("!")>=0&&(o=o.replace("!",""),w=!0),o.indexOf("@")>=0&&(o=o.replace("@",""),m=!0),(d||p||m)&&(g=d||f?""+r:"",v=""+u),m&&(r=g=g.toLowerCase(),u=v=v.toLowerCase()),o){case"*=":c=g.indexOf(v)>=0;break;case"$=":c=g.indexOf(v,g.length-v.length)>=0;break;case"^=":c=0===g.indexOf(v);break;case"=":c=r===u;break;case">":D=!0,c=r>u;break;case">=":D=!0,c=r>=u;break;case"<":D=!0,c=r<u;break;case"<=":D=!0,c=r<=u;break;default:c=!1}return w&&(null!=r||!D)&&(c=!c),c},Ao=function(r,o){return r.data(o)},bn=[],fn=function(r,o){return r.checks.every(function(u){return bn[u.type](u,o)})};bn[0]=function(a,r){var o=a.value;return"*"===o||o===r.group()},bn[7]=function(a,r){return function(r,o){return Oa[r](o)}(a.value,r)},bn[8]=function(a,r){var o=a.value;return r.id()===o},bn[9]=function(a,r){return r.hasClass(a.value)},bn[6]=function(a,r){var u=a.operator,c=a.value;return dc(function(r,o){return r[o]()}(r,a.field),u,c)},bn[3]=function(a,r){var u=a.operator,c=a.value;return dc(Ao(r,a.field),u,c)},bn[5]=function(a,r){var u=a.operator;return function(r,o){switch(o){case"?":return!!r;case"!":return!r;case"^":return void 0===r}}(Ao(r,a.field),u)},bn[4]=function(a,r){return function(r){return void 0!==r}(Ao(r,a.field))},bn[10]=function(a,r){var o=a.nodes[0],u=a.nodes[1],c=r.source(),d=r.target();return fn(o,c)&&fn(u,d)||fn(u,c)&&fn(o,d)},bn[14]=function(a,r){return fn(a.node,r)&&r.neighborhood().some(function(o){return o.isNode()&&fn(a.neighbor,o)})},bn[11]=function(a,r){return fn(a.source,r.source())&&fn(a.target,r.target())},bn[12]=function(a,r){return fn(a.source,r)&&r.outgoers().some(function(o){return o.isNode()&&fn(a.target,o)})},bn[13]=function(a,r){return fn(a.target,r)&&r.incomers().some(function(o){return o.isNode()&&fn(a.source,o)})},bn[15]=function(a,r){return fn(a.child,r)&&fn(a.parent,r.parent())},bn[17]=function(a,r){return fn(a.parent,r)&&r.children().some(function(o){return fn(a.child,o)})},bn[16]=function(a,r){return fn(a.descendant,r)&&r.ancestors().some(function(o){return fn(a.ancestor,o)})},bn[18]=function(a,r){return fn(a.ancestor,r)&&r.descendants().some(function(o){return fn(a.descendant,o)})},bn[19]=function(a,r){return fn(a.subject,r)&&fn(a.left,r)&&fn(a.right,r)},bn[20]=function(){return!0},bn[1]=function(a,r){return a.value.has(r)},bn[2]=function(a,r){return(0,a.value)(r)};var Nv={matches:function(r){for(var u=0;u<this.length;u++)if(fn(this[u],r))return!0;return!1},filter:function(r){var o=this;if(1===o.length&&1===o[0].checks.length&&8===o[0].checks[0].type)return r.getElementById(o[0].checks[0].value).collection();var u=function(d){for(var f=0;f<o.length;f++)if(fn(o[f],d))return!0;return!1};return null==o.text()&&(u=function(){return!0}),r.filter(u)}},ii=function(r){this.inputText=r,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==r||Le(r)&&r.match(/^\s*$/)||(Dn(r)?this.addQuery({checks:[{type:1,value:r.collection()}]}):Zt(r)?this.addQuery({checks:[{type:2,value:r}]}):Le(r)?this.parse(r)||(this.invalid=!0):nn("A selector must be created from a string; found "))},ha=ii.prototype;[wf,Nv].forEach(function(a){return st(ha,a)}),ha.text=function(){return this.inputText},ha.size=function(){return this.length},ha.eq=function(a){return this[a]},ha.sameText=function(a){return!this.invalid&&!a.invalid&&this.text()===a.text()},ha.addQuery=function(a){this[this.length++]=a},ha.selector=ha.toString;var gr={allAre:function(r){var o=new ii(r);return this.every(function(u){return o.matches(u)})},is:function(r){var o=new ii(r);return this.some(function(u){return o.matches(u)})},some:function(r,o){for(var u=0;u<this.length;u++)if(o?r.apply(o,[this[u],u,this]):r(this[u],u,this))return!0;return!1},every:function(r,o){for(var u=0;u<this.length;u++)if(!(o?r.apply(o,[this[u],u,this]):r(this[u],u,this)))return!1;return!0},same:function(r){if(this===r)return!0;r=this.cy().collection(r);var o=this.length;return o===r.length&&(1===o?this[0]===r[0]:this.every(function(c){return r.hasElementWithId(c.id())}))},anySame:function(r){return r=this.cy().collection(r),this.some(function(o){return r.hasElementWithId(o.id())})},allAreNeighbors:function(r){r=this.cy().collection(r);var o=this.neighborhood();return r.every(function(u){return o.hasElementWithId(u.id())})},contains:function(r){r=this.cy().collection(r);var o=this;return r.every(function(u){return o.hasElementWithId(u.id())})}};gr.allAreNeighbours=gr.allAreNeighbors,gr.has=gr.contains,gr.equal=gr.equals=gr.same;var ds,bf,Fr=function(r,o){return function(c,d,f,p){var m,g=c,v=this;if(null==g?m="":Dn(g)&&1===g.length&&(m=g.id()),1===v.length&&m){var w=v[0]._private,D=w.traversalCache=w.traversalCache||{},C=D[o]=D[o]||[],E=oa(m);return C[E]||(C[E]=r.call(v,c,d,f,p))}return r.call(v,c,d,f,p)}},pa={parent:function(r){var o=[];if(1===this.length){var u=this[0]._private.parent;if(u)return u}for(var c=0;c<this.length;c++){var f=this[c]._private.parent;f&&o.push(f)}return this.spawn(o,!0).filter(r)},parents:function(r){for(var o=[],u=this.parent();u.nonempty();){for(var c=0;c<u.length;c++)o.push(u[c]);u=u.parent()}return this.spawn(o,!0).filter(r)},commonAncestors:function(r){for(var o,u=0;u<this.length;u++){var d=this[u].parents();o=(o=o||d).intersect(d)}return o.filter(r)},orphans:function(r){return this.stdFilter(function(o){return o.isOrphan()}).filter(r)},nonorphans:function(r){return this.stdFilter(function(o){return o.isChild()}).filter(r)},children:Fr(function(a){for(var r=[],o=0;o<this.length;o++)for(var c=this[o]._private.children,d=0;d<c.length;d++)r.push(c[d]);return this.spawn(r,!0).filter(a)},"children"),siblings:function(r){return this.parent().children().not(this).filter(r)},isParent:function(){var r=this[0];if(r)return r.isNode()&&0!==r._private.children.length},isChildless:function(){var r=this[0];if(r)return r.isNode()&&0===r._private.children.length},isChild:function(){var r=this[0];if(r)return r.isNode()&&null!=r._private.parent},isOrphan:function(){var r=this[0];if(r)return r.isNode()&&null==r._private.parent},descendants:function(r){var o=[];return function u(c){for(var d=0;d<c.length;d++){var f=c[d];o.push(f),f.children().nonempty()&&u(f.children())}}(this.children()),this.spawn(o,!0).filter(r)}};function Et(a,r,o,u){for(var c=[],d=new mo,p=a.cy().hasCompoundNodes(),g=0;g<a.length;g++){var v=a[g];o?c.push(v):p&&u(c,d,v)}for(;c.length>0;){var m=c.shift();r(m),d.add(m.id()),p&&u(c,d,m)}return a}function fc(a,r,o){if(o.isParent())for(var u=o._private.children,c=0;c<u.length;c++){var d=u[c];r.has(d.id())||a.push(d)}}function Ov(a,r,o){if(o.isChild()){var u=o._private.parent;r.has(u.id())||a.push(u)}}function Lv(a,r,o){Ov(a,r,o),fc(a,r,o)}pa.forEachDown=function(a){return Et(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],fc)},pa.forEachUp=function(a){return Et(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Ov)},pa.forEachUpAndDown=function(a){return Et(this,a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Lv)},pa.ancestors=pa.parents,ds=bf={data:Jt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Jt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Jt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Jt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Jt.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Jt.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var r=this[0];if(r)return r._private.data.id}},ds.attr=ds.data,ds.removeAttr=ds.removeData;var Df=bf,mu={};function hc(a){return function(r){var o=this;if(void 0===r&&(r=!0),0===o.length);else if(o.isNode()&&!o.removed()){for(var u=0,c=o[0],d=c._private.edges,f=0;f<d.length;f++){var p=d[f];!r&&p.isLoop()||(u+=a(c,p))}return u}}}function Ce(a,r){return function(o){for(var u,c=this.nodes(),d=0;d<c.length;d++){var p=c[d][a](o);void 0!==p&&(void 0===u||r(p,u))&&(u=p)}return u}}st(mu,{degree:hc(function(a,r){return r.source().same(r.target())?2:1}),indegree:hc(function(a,r){return r.target().same(a)?1:0}),outdegree:hc(function(a,r){return r.source().same(a)?1:0})}),st(mu,{minDegree:Ce("degree",function(a,r){return a<r}),maxDegree:Ce("degree",function(a,r){return a>r}),minIndegree:Ce("indegree",function(a,r){return a<r}),maxIndegree:Ce("indegree",function(a,r){return a>r}),minOutdegree:Ce("outdegree",function(a,r){return a<r}),maxOutdegree:Ce("outdegree",function(a,r){return a>r})}),st(mu,{totalDegree:function(r){for(var o=0,u=this.nodes(),c=0;c<u.length;c++)o+=u[c].degree(r);return o}});var It,Ef,Cf=function(r,o,u){for(var c=0;c<r.length;c++){var d=r[c];if(!d.locked()){var f=d._private.position,p={x:null!=o.x?o.x-f.x:0,y:null!=o.y?o.y-f.y:0};d.isParent()&&!(0===p.x&&0===p.y)&&d.children().shift(p,u),d.dirtyBoundingBoxCache()}}},Bn={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(r){r.updateCompoundBounds()},beforeSet:function(r,o){Cf(r,o,!1)},onSet:function(r){r.dirtyCompoundBoundsCache()},canSet:function(r){return!r.locked()}};It=Ef={position:Jt.data(Bn),silentPosition:Jt.data(st({},Bn,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(r,o){Cf(r,o,!0)},onSet:function(r){r.dirtyCompoundBoundsCache()}})),positions:function(r,o){if(at(r))o?this.silentPosition(r):this.position(r);else if(Zt(r)){var u=r,c=this.cy();c.startBatch();for(var d=0;d<this.length;d++){var p,f=this[d];(p=u(f,d))&&(o?f.silentPosition(p):f.position(p))}c.endBatch()}return this},silentPositions:function(r){return this.positions(r,!0)},shift:function(r,o,u){var c;if(at(r)?(c={x:Ve(r.x)?r.x:0,y:Ve(r.y)?r.y:0},u=o):Le(r)&&Ve(o)&&((c={x:0,y:0})[r]=o),null!=c){var d=this.cy();d.startBatch();for(var f=0;f<this.length;f++){var p=this[f];if(!(d.hasCompoundNodes()&&p.isChild()&&p.ancestors().anySame(this))){var g=p.position(),v={x:g.x+c.x,y:g.y+c.y};u?p.silentPosition(v):p.position(v)}}d.endBatch()}return this},silentShift:function(r,o){return at(r)?this.shift(r,!0):Le(r)&&Ve(o)&&this.shift(r,o,!0),this},renderedPosition:function(r,o){var u=this[0],c=this.cy(),d=c.zoom(),f=c.pan(),p=at(r)?r:void 0,g=void 0!==p||void 0!==o&&Le(r);if(u&&u.isNode()){if(!g){var w=u.position();return p=Ra(w,d,f),void 0===r?p:p[r]}for(var v=0;v<this.length;v++){var m=this[v];void 0!==o?m.position(r,(o-f[r])/d):void 0!==p&&m.position(St(p,d,f))}}else if(!g)return;return this},relativePosition:function(r,o){var u=this[0],c=this.cy(),d=at(r)?r:void 0,f=void 0!==d||void 0!==o&&Le(r),p=c.hasCompoundNodes();if(u&&u.isNode()){if(!f){var E=u.position(),T=p?u.parent():null,x=T&&T.length>0;x&&(T=T[0]);var _=x?T.position():{x:0,y:0};return d={x:E.x-_.x,y:E.y-_.y},void 0===r?d:d[r]}for(var g=0;g<this.length;g++){var v=this[g],m=p?v.parent():null,w=m&&m.length>0;w&&(m=m[0]);var C=w?m.position():{x:0,y:0};void 0!==o?v.position(r,o+C[r]):void 0!==d&&v.position({x:d.x+C.x,y:d.y+C.y})}}else if(!f)return;return this}},It.modelPosition=It.point=It.position,It.modelPositions=It.points=It.positions,It.renderedPoint=It.renderedPosition,It.relativePoint=It.relativePosition;var Di,Qn,Sf=Ef;Di=Qn={},Qn.renderedBoundingBox=function(a){var r=this.boundingBox(a),o=this.cy(),u=o.zoom(),c=o.pan(),d=r.x1*u+c.x,f=r.x2*u+c.x,p=r.y1*u+c.y,g=r.y2*u+c.y;return{x1:d,x2:f,y1:p,y2:g,w:f-d,h:g-p}},Qn.dirtyCompoundBoundsCache=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.cy();return r.styleEnabled()&&r.hasCompoundNodes()?(this.forEachUp(function(o){if(o.isParent()){var u=o._private;u.compoundBoundsClean=!1,u.bbCache=null,a||o.emitAndNotify("bounds")}}),this):this},Qn.updateCompoundBounds=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.cy();if(!r.styleEnabled()||!r.hasCompoundNodes())return this;if(!a&&r.batching())return this;function o(f){if(f.isParent()){var p=f._private,g=f.children(),v="include"===f.pstyle("compound-sizing-wrt-labels").value,m={width:{val:f.pstyle("min-width").pfValue,left:f.pstyle("min-width-bias-left"),right:f.pstyle("min-width-bias-right")},height:{val:f.pstyle("min-height").pfValue,top:f.pstyle("min-height-bias-top"),bottom:f.pstyle("min-height-bias-bottom")}},w=g.boundingBox({includeLabels:v,includeOverlays:!1,useCache:!1}),D=p.position;(0===w.w||0===w.h)&&((w={w:f.pstyle("width").pfValue,h:f.pstyle("height").pfValue}).x1=D.x-w.w/2,w.x2=D.x+w.w/2,w.y1=D.y-w.h/2,w.y2=D.y+w.h/2);var T=m.width.left.value;"px"===m.width.left.units&&m.width.val>0&&(T=100*T/m.width.val);var x=m.width.right.value;"px"===m.width.right.units&&m.width.val>0&&(x=100*x/m.width.val);var M=m.height.top.value;"px"===m.height.top.units&&m.height.val>0&&(M=100*M/m.height.val);var _=m.height.bottom.value;"px"===m.height.bottom.units&&m.height.val>0&&(_=100*_/m.height.val);var A=C(m.width.val-w.w,T,x),R=A.biasDiff,F=A.biasComplementDiff,$=C(m.height.val-w.h,M,_),k=$.biasDiff,V=$.biasComplementDiff;p.autoPadding=function E(N,H,U,L){if("%"!==U.units)return"px"===U.units?U.pfValue:0;switch(L){case"width":return N>0?U.pfValue*N:0;case"height":return H>0?U.pfValue*H:0;case"average":return N>0&&H>0?U.pfValue*(N+H)/2:0;case"min":return N>0&&H>0?N>H?U.pfValue*H:U.pfValue*N:0;case"max":return N>0&&H>0?N>H?U.pfValue*N:U.pfValue*H:0;default:return 0}}(w.w,w.h,f.pstyle("padding"),f.pstyle("padding-relative-to").value),p.autoWidth=Math.max(w.w,m.width.val),D.x=(-R+w.x1+w.x2+F)/2,p.autoHeight=Math.max(w.h,m.height.val),D.y=(-k+w.y1+w.y2+V)/2}function C(N,H,U){var L=0,j=0,B=H+U;return N>0&&B>0&&(L=H/B*N,j=U/B*N),{biasDiff:L,biasComplementDiff:j}}}for(var u=0;u<this.length;u++){var c=this[u],d=c._private;(!d.compoundBoundsClean||a)&&(o(c),r.batching()||(d.compoundBoundsClean=!0))}return this};var _r=function(r){return r===1/0||r===-1/0?0:r},Br=function(r,o,u,c,d){c-o==0||d-u==0||null==o||null==u||null==c||null==d||(r.x1=o<r.x1?o:r.x1,r.x2=c>r.x2?c:r.x2,r.y1=u<r.y1?u:r.y1,r.y2=d>r.y2?d:r.y2,r.w=r.x2-r.x1,r.h=r.y2-r.y1)},La=function(r,o){return null==o?r:Br(r,o.x1,o.y1,o.x2,o.y2)},yu=function(r,o,u){return Wr(r,o,u)},fs=function(r,o,u){if(!o.cy().headless()){var g,v,c=o._private,d=c.rstyle,f=d.arrowWidth/2;if("none"!==o.pstyle(u+"-arrow-shape").value){"source"===u?(g=d.srcX,v=d.srcY):"target"===u?(g=d.tgtX,v=d.tgtY):(g=d.midX,v=d.midY);var m=c.arrowBounds=c.arrowBounds||{},w=m[u]=m[u]||{};w.x1=g-f,w.y1=v-f,w.x2=g+f,w.y2=v+f,w.w=w.x2-w.x1,w.h=w.y2-w.y1,Xl(w,1),Br(r,w.x1,w.y1,w.x2,w.y2)}}},Xn=function(r,o,u){if(!o.cy().headless()){var c,d=o._private,f=d.rstyle;if(o.pstyle((c=u?u+"-":"")+"label").strValue){var U,L,j,B,g=o.pstyle("text-halign"),v=o.pstyle("text-valign"),m=yu(f,"labelWidth",u),w=yu(f,"labelHeight",u),D=yu(f,"labelX",u),C=yu(f,"labelY",u),E=o.pstyle(c+"text-margin-x").pfValue,T=o.pstyle(c+"text-margin-y").pfValue,x=o.isEdge(),M=o.pstyle(c+"text-rotation"),_=o.pstyle("text-outline-width").pfValue,R=o.pstyle("text-border-width").pfValue/2,F=o.pstyle("text-background-padding").pfValue,k=w,V=m,N=V/2,H=k/2;if(x)U=D-N,L=D+N,j=C-H,B=C+H;else{switch(g.value){case"left":U=D-V,L=D;break;case"center":U=D-N,L=D+N;break;case"right":U=D,L=D+V}switch(v.value){case"top":j=C-k,B=C;break;case"center":j=C-H,B=C+H;break;case"bottom":j=C,B=C+k}}U+=E-Math.max(_,R)-F-2,L+=E+Math.max(_,R)+F+2,j+=T-Math.max(_,R)-F-2,B+=T+Math.max(_,R)+F+2;var Y=u||"main",W=d.labelBounds,G=W[Y]=W[Y]||{};G.x1=U,G.y1=j,G.x2=L,G.y2=B,G.w=L-U,G.h=B-j;var Q=x&&"autorotate"===M.strValue;if(Q||null!=M.pfValue&&0!==M.pfValue){var de=Q?yu(d.rstyle,"labelAngle",u):M.pfValue,X=Math.cos(de),ue=Math.sin(de),oe=(U+L)/2,be=(j+B)/2;if(!x){switch(g.value){case"left":oe=L;break;case"right":oe=U}switch(v.value){case"top":be=B;break;case"bottom":be=j}}var me=function(Ct,Be){return{x:(Ct-=oe)*X-(Be-=be)*ue+oe,y:Ct*ue+Be*X+be}},De=me(U,j),te=me(U,B),ye=me(L,j),_e=me(L,B);U=Math.min(De.x,te.x,ye.x,_e.x),L=Math.max(De.x,te.x,ye.x,_e.x),j=Math.min(De.y,te.y,ye.y,_e.y),B=Math.max(De.y,te.y,ye.y,_e.y)}var Ie=Y+"Rot",ke=W[Ie]=W[Ie]||{};ke.x1=U,ke.y1=j,ke.x2=L,ke.y2=B,ke.w=L-U,ke.h=B-j,Br(r,U,j,L,B),Br(d.labelBounds.all,U,j,L,B)}return r}},Fa=function(r){var o=0,u=function(f){return(f?1:0)<<o++},c=0;return c+=u(r.incudeNodes),c+=u(r.includeEdges),c+=u(r.includeLabels),c+=u(r.includeMainLabels),c+=u(r.includeSourceLabels),c+=u(r.includeTargetLabels),(c+=u(r.includeOverlays))+u(r.includeOutlines)},Ei=function(r){if(r.isEdge()){var o=r.source().position(),u=r.target().position(),c=function(f){return Math.round(f)};return function(r,o){var u={value:0,done:!1},c=0,d=r.length;return Vl({next:function(){return c<d?u.value=r[c++]:u.done=!0,u}},void 0)}([c(o.x),c(o.y),c(u.x),c(u.y)])}return 0},Tf=function(r,o){var c,u=r._private,d=r.isEdge(),p=(null==o?If:Fa(o))===If,g=Ei(r),v=u.bbCachePosKey===g,m=o.useCache&&v,w=function(T){return null==T._private.bbCache||T._private.styleDirty};if(!m||w(r)||d&&w(r.source())||w(r.target())?(v||r.recalculateRenderedStyle(m),c=function(r,o){var m,w,D,C,E,T,u=r._private.cy,c=u.styleEnabled(),d=u.headless(),f=Tr(),p=r._private,g=r.isNode(),v=r.isEdge(),x=p.rstyle,M=g&&c?r.pstyle("bounds-expansion").pfValue:[0],_=function(tt){return"none"!==tt.pstyle("display").value},A=!c||_(r)&&(!v||_(r.source())&&_(r.target()));if(A){var F=0;c&&o.includeOverlays&&0!==r.pstyle("overlay-opacity").value&&(F=r.pstyle("overlay-padding").value);var k=0;c&&o.includeUnderlays&&0!==r.pstyle("underlay-opacity").value&&(k=r.pstyle("underlay-padding").value);var V=Math.max(F,k),H=0;if(c&&(H=r.pstyle("width").pfValue/2),g&&o.includeNodes){var U=r.position();E=U.x,T=U.y;var j=r.outerWidth()/2,Y=r.outerHeight()/2;Br(f,m=E-j,D=T-Y,w=E+j,C=T+Y),c&&o.includeOutlines&&function(r,o){if(!o.cy().headless()){var u=o.pstyle("outline-opacity").value,c=o.pstyle("outline-width").value;if(u>0&&c>0){var d=o.pstyle("outline-offset").value,f=o.pstyle("shape").value,p=c+d,g=(r.w+2*p)/r.w,v=(r.h+2*p)/r.h,w=0;["diamond","pentagon","round-triangle"].includes(f)?(g=(r.w+2.4*p)/r.w,w=-p/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(f)?g=(r.w+2.4*p)/r.w:"star"===f?(g=(r.w+2.8*p)/r.w,v=(r.h+2.6*p)/r.h,w=-p/3.8):"triangle"===f?(g=(r.w+2.8*p)/r.w,v=(r.h+2.4*p)/r.h,w=-p/1.4):"vee"===f&&(g=(r.w+4.4*p)/r.w,v=(r.h+3.8*p)/r.h,w=.5*-p);var C=r.w*g-r.w;if(ut(r,[Math.ceil((r.h*v-r.h)/2),Math.ceil(C/2)]),0!==w){var E=function(r,o,u){return{x1:r.x1+0,x2:r.x2+0,y1:r.y1+u,y2:r.y2+u,w:r.w,h:r.h}}(r,0,w);mv(r,E)}}}}(f,r)}else if(v&&o.includeEdges)if(c&&!d){var W=r.pstyle("curve-style").strValue;if(m=Math.min(x.srcX,x.midX,x.tgtX),w=Math.max(x.srcX,x.midX,x.tgtX),D=Math.min(x.srcY,x.midY,x.tgtY),C=Math.max(x.srcY,x.midY,x.tgtY),Br(f,m-=H,D-=H,w+=H,C+=H),"haystack"===W){var G=x.haystackPts;if(G&&2===G.length){if((m=G[0].x)>(w=G[1].x)){var Q=m;m=w,w=Q}if((D=G[0].y)>(C=G[1].y)){var ne=D;D=C,C=ne}Br(f,m-H,D-H,w+H,C+H)}}else if("bezier"===W||"unbundled-bezier"===W||"segments"===W||"taxi"===W){var de;switch(W){case"bezier":case"unbundled-bezier":de=x.bezierPts;break;case"segments":case"taxi":de=x.linePts}if(null!=de)for(var X=0;X<de.length;X++){var ue=de[X];Br(f,m=ue.x-H,D=ue.y-H,w=ue.x+H,C=ue.y+H)}}}else{var be=r.source().position(),De=r.target().position();if((m=be.x)>(w=De.x)){var te=m;m=w,w=te}if((D=be.y)>(C=De.y)){var ye=D;D=C,C=ye}Br(f,m-=H,D-=H,w+=H,C+=H)}if(c&&o.includeEdges&&v&&(fs(f,r,"mid-source"),fs(f,r,"mid-target"),fs(f,r,"source"),fs(f,r,"target")),c&&"yes"===r.pstyle("ghost").value){var Ie=r.pstyle("ghost-offset-x").pfValue,ke=r.pstyle("ghost-offset-y").pfValue;Br(f,f.x1+Ie,f.y1+ke,f.x2+Ie,f.y2+ke)}var Je=p.bodyBounds=p.bodyBounds||{};yv(Je,f),ut(Je,M),Xl(Je,1),c&&Br(f,(m=f.x1)-V,(D=f.y1)-V,(w=f.x2)+V,(C=f.y2)+V);var Ct=p.overlayBounds=p.overlayBounds||{};yv(Ct,f),ut(Ct,M),Xl(Ct,1);var Be=p.labelBounds=p.labelBounds||{};null!=Be.all?function(r){r.x1=1/0,r.y1=1/0,r.x2=-1/0,r.y2=-1/0,r.w=0,r.h=0}(Be.all):Be.all=Tr(),c&&o.includeLabels&&(o.includeMainLabels&&Xn(f,r,null),v&&(o.includeSourceLabels&&Xn(f,r,"source"),o.includeTargetLabels&&Xn(f,r,"target")))}return f.x1=_r(f.x1),f.y1=_r(f.y1),f.x2=_r(f.x2),f.y2=_r(f.y2),f.w=_r(f.x2-f.x1),f.h=_r(f.y2-f.y1),f.w>0&&f.h>0&&A&&(ut(f,M),Xl(f,1)),f}(r,Ro),u.bbCache=c,u.bbCachePosKey=g):c=u.bbCache,!p){var C=r.isNode();c=Tr(),(o.includeNodes&&C||o.includeEdges&&!C)&&La(c,o.includeOverlays?u.overlayBounds:u.bodyBounds),o.includeLabels&&(o.includeMainLabels&&(!d||o.includeSourceLabels&&o.includeTargetLabels)?La(c,u.labelBounds.all):(o.includeMainLabels&&La(c,u.labelBounds.mainRot),o.includeSourceLabels&&La(c,u.labelBounds.sourceRot),o.includeTargetLabels&&La(c,u.labelBounds.targetRot))),c.w=c.x2-c.x1,c.h=c.y2-c.y1}return c},Ro={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},If=Fa(Ro),Mf=qn(Ro);Qn.boundingBox=function(a){var r;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==a&&void 0!==a.useCache&&!0!==a.useCache){r=Tr();var o=Mf(a=a||Ro),u=this;if(u.cy().styleEnabled())for(var f=0;f<u.length;f++){var p=u[f],g=p._private,v=Ei(p);p.recalculateRenderedStyle(o.useCache&&g.bbCachePosKey===v&&!g.styleDirty)}this.updateCompoundBounds(!a.useCache);for(var D=0;D<u.length;D++)La(r,Tf(u[D],o))}else a=void 0===a?Ro:Mf(a),r=Tf(this[0],a);return r.x1=_r(r.x1),r.y1=_r(r.y1),r.x2=_r(r.x2),r.y2=_r(r.y2),r.w=_r(r.x2-r.x1),r.h=_r(r.y2-r.y1),r},Qn.dirtyBoundingBoxCache=function(){for(var a=0;a<this.length;a++){var r=this[a]._private;r.bbCache=null,r.bbCachePosKey=null,r.bodyBounds=null,r.overlayBounds=null,r.labelBounds.all=null,r.labelBounds.source=null,r.labelBounds.target=null,r.labelBounds.main=null,r.labelBounds.sourceRot=null,r.labelBounds.targetRot=null,r.labelBounds.mainRot=null,r.arrowBounds.source=null,r.arrowBounds.target=null,r.arrowBounds["mid-source"]=null,r.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Qn.boundingBoxAt=function(a){var r=this.nodes(),o=this.cy(),u=o.hasCompoundNodes(),c=o.collection();if(u&&(c=r.filter(function(v){return v.isParent()}),r=r.not(c)),at(a)){var d=a;a=function(){return d}}o.startBatch(),r.forEach(function(m,w){return m._private.bbAtOldPos=a(m,w)}).silentPositions(a),u&&(c.dirtyCompoundBoundsCache(),c.dirtyBoundingBoxCache(),c.updateCompoundBounds(!0));var g=function(r){return{x1:r.x1,x2:r.x2,w:r.w,y1:r.y1,y2:r.y2,h:r.h}}(this.boundingBox({useCache:!1}));return r.silentPositions(function(m){return m._private.bbAtOldPos}),u&&(c.dirtyCompoundBoundsCache(),c.dirtyBoundingBoxCache(),c.updateCompoundBounds(!0)),o.endBatch(),g},Di.boundingbox=Di.bb=Di.boundingBox,Di.renderedBoundingbox=Di.renderedBoundingBox;var Ba,ko,pc=Qn;Ba=ko={};var wu=function(r){r.uppercaseName=Qp(r.name),r.autoName="auto"+r.uppercaseName,r.labelName="label"+r.uppercaseName,r.outerName="outer"+r.uppercaseName,r.uppercaseOuterName=Qp(r.outerName),Ba[r.name]=function(){var u=this[0],c=u._private;if(u){if(c.cy._private.styleEnabled){if(u.isParent())return u.updateCompoundBounds(),c[r.autoName]||0;var p=u.pstyle(r.name);return"label"===p.strValue?(u.recalculateRenderedStyle(),c.rstyle[r.labelName]||0):p.pfValue}return 1}},Ba["outer"+r.uppercaseName]=function(){var u=this[0];if(u)return u._private.cy._private.styleEnabled?u[r.name]()+u.pstyle("border-width").pfValue+2*u.padding():1},Ba["rendered"+r.uppercaseName]=function(){var u=this[0];if(u)return u[r.name]()*this.cy().zoom()},Ba["rendered"+r.uppercaseOuterName]=function(){var u=this[0];if(u)return u[r.outerName]()*this.cy().zoom()}};wu({name:"width"}),wu({name:"height"}),ko.padding=function(){var a=this[0],r=a._private;return a.isParent()?(a.updateCompoundBounds(),void 0!==r.autoPadding?r.autoPadding:a.pstyle("padding").pfValue):a.pstyle("padding").pfValue},ko.paddedHeight=function(){var a=this[0];return a.height()+2*a.padding()},ko.paddedWidth=function(){var a=this[0];return a.width()+2*a.padding()};var Fv=ko,Nf={controlPoints:{get:function(r){return r.renderer().getControlPoints(r)},mult:!0},segmentPoints:{get:function(r){return r.renderer().getSegmentPoints(r)},mult:!0},sourceEndpoint:{get:function(r){return r.renderer().getSourceEndpoint(r)}},targetEndpoint:{get:function(r){return r.renderer().getTargetEndpoint(r)}},midpoint:{get:function(r){return r.renderer().getEdgeMidpoint(r)}}},Va=Object.keys(Nf).reduce(function(a,r){var o=Nf[r],u=function(r){return"rendered"+r[0].toUpperCase()+r.substr(1)}(r);return a[r]=function(){return function(r,o){if(r.isEdge())return o(r)}(this,o.get)},a[u]=o.mult?function(){return function(r,o){if(r.isEdge()){var u=r.cy(),c=u.pan(),d=u.zoom();return o(r).map(function(f){return Ra(f,d,c)})}}(this,o.get)}:function(){return function(r,o){if(r.isEdge()){var u=r.cy();return Ra(o(r),u.zoom(),u.pan())}}(this,o.get)},a},{}),gn=st({},Sf,pc,Fv,Va),Of=function(r,o){this.recycle(r,o)};function hs(){return!1}function bu(){return!0}Of.prototype={instanceString:function(){return"event"},recycle:function(r,o){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=hs,null!=r&&r.preventDefault?(this.type=r.type,this.isDefaultPrevented=r.defaultPrevented?bu:hs):null!=r&&r.type?o=r:this.type=r,null!=o&&(this.originalEvent=o.originalEvent,this.type=null!=o.type?o.type:this.type,this.cy=o.cy,this.target=o.target,this.position=o.position,this.renderedPosition=o.renderedPosition,this.namespace=o.namespace,this.layout=o.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var u=this.position,c=this.cy.zoom(),d=this.cy.pan();this.renderedPosition={x:u.x*c+d.x,y:u.y*c+d.y}}this.timeStamp=r&&r.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=bu;var r=this.originalEvent;r&&r.preventDefault&&r.preventDefault()},stopPropagation:function(){this.isPropagationStopped=bu;var r=this.originalEvent;r&&r.stopPropagation&&r.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bu,this.stopPropagation()},isDefaultPrevented:hs,isPropagationStopped:hs,isImmediatePropagationStopped:hs};var Lf=/^([^.]+)(\.(?:[^.]+))?$/,Ff={qualifierCompare:function(r,o){return r===o},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(r){return r},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},ps=Object.keys(Ff),Du={};function $a(){for(var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Du,r=arguments.length>1?arguments[1]:void 0,o=0;o<ps.length;o++){var u=ps[o];this[u]=a[u]||Ff[u]}this.context=r||this.context,this.listeners=[],this.emitting=0}var Ci=$a.prototype,mc=function(r,o,u,c,d,f,p){Zt(c)&&(d=c,c=null),p&&(f=null==f?p:st({},f,p));for(var g=Kt(u)?u:u.split(/\s+/),v=0;v<g.length;v++){var m=g[v];if(!At(m)){var w=m.match(Lf);if(w&&!1===o(r,m,w[1],w[2]?w[2]:null,c,d,f))break}}},Bf=function(r,o){return r.addEventFields(r.context,o),new Of(o.type,o)};Ci.on=Ci.addListener=function(a,r,o,u,c){return mc(this,function(d,f,p,g,v,m,w){Zt(m)&&d.listeners.push({event:f,callback:m,type:p,namespace:g,qualifier:v,conf:w})},a,r,o,u,c),this},Ci.one=function(a,r,o,u){return this.on(a,r,o,u,{one:!0})},Ci.removeListener=Ci.off=function(a,r,o,u){var c=this;0!==this.emitting&&(this.listeners=function(r){return r.slice()}(this.listeners));for(var d=this.listeners,f=function(v){var m=d[v];mc(c,function(w,D,C,E,T,x){if((m.type===C||"*"===a)&&(!E&&".*"!==m.namespace||m.namespace===E)&&(!T||w.qualifierCompare(m.qualifier,T))&&(!x||m.callback===x))return d.splice(v,1),!1},a,r,o,u)},p=d.length-1;p>=0;p--)f(p);return this},Ci.removeAllListeners=function(){return this.removeListener("*")},Ci.emit=Ci.trigger=function(a,r,o){var u=this.listeners,c=u.length;return this.emitting++,Kt(r)||(r=[r]),function(r,o,u){if(function(r){return"event"===yn(r)}(u))o(r,u);else if(at(u))o(r,Bf(r,u));else for(var c=Kt(u)?u:u.split(/\s+/),d=0;d<c.length;d++){var f=c[d];if(!At(f)){var p=f.match(Lf);p&&o(r,Bf(r,{type:p[1],namespace:p[2]?p[2]:null,target:r.context}))}}}(this,function(d,f){null!=o&&(c=(u=[{event:f.event,type:f.type,namespace:f.namespace,callback:o}]).length);for(var p=function(m){var w=u[m];if(w.type===f.type&&(!w.namespace||w.namespace===f.namespace||".*"===w.namespace)&&d.eventMatches(d.context,w,f)){var D=[f];null!=r&&function(r,o){for(var u=0;u<o.length;u++)r.push(o[u])}(D,r),d.beforeEmit(d.context,w,f),w.conf&&w.conf.one&&(d.listeners=d.listeners.filter(function(T){return T!==w}));var C=d.callbackContext(d.context,w,f),E=w.callback.apply(C,D);d.afterEmit(d.context,w,f),!1===E&&(f.stopPropagation(),f.preventDefault())}},g=0;g<c;g++)p(g);d.bubble(d.context)&&!f.isPropagationStopped()&&d.parent(d.context).emit(f,r)},a),this.emitting--,this};var vs={qualifierCompare:function(r,o){return null==r||null==o?null==r&&null==o:r.sameText(o)},eventMatches:function(r,o,u){var c=o.qualifier;return null==c||r!==u.target&&fo(u.target)&&c.matches(u.target)},addEventFields:function(r,o){o.cy=r.cy(),o.target=r},callbackContext:function(r,o,u){return null!=o.qualifier?u.target:r},beforeEmit:function(r,o){o.conf&&o.conf.once&&o.conf.onceCollection.removeListener(o.event,o.qualifier,o.callback)},bubble:function(){return!0},parent:function(r){return r.isChild()?r.parent():r.cy()}},Eu=function(r){return Le(r)?new ii(r):r},$v={createEmitter:function(){for(var r=0;r<this.length;r++){var o=this[r],u=o._private;u.emitter||(u.emitter=new $a(vs,o))}return this},emitter:function(){return this._private.emitter},on:function(r,o,u){for(var c=Eu(o),d=0;d<this.length;d++)this[d].emitter().on(r,c,u);return this},removeListener:function(r,o,u){for(var c=Eu(o),d=0;d<this.length;d++)this[d].emitter().removeListener(r,c,u);return this},removeAllListeners:function(){for(var r=0;r<this.length;r++)this[r].emitter().removeAllListeners();return this},one:function(r,o,u){for(var c=Eu(o),d=0;d<this.length;d++)this[d].emitter().one(r,c,u);return this},once:function(r,o,u){for(var c=Eu(o),d=0;d<this.length;d++)this[d].emitter().on(r,c,u,{once:!0,onceCollection:this})},emit:function(r,o){for(var u=0;u<this.length;u++)this[u].emitter().emit(r,o);return this},emitAndNotify:function(r,o){if(0!==this.length)return this.cy().notify(r,this),this.emit(r,o),this}};Jt.eventAliasesOn($v);var Cu={nodes:function(r){return this.filter(function(o){return o.isNode()}).filter(r)},edges:function(r){return this.filter(function(o){return o.isEdge()}).filter(r)},byGroup:function(){for(var r=this.spawn(),o=this.spawn(),u=0;u<this.length;u++){var c=this[u];c.isNode()?r.push(c):o.push(c)}return{nodes:r,edges:o}},filter:function(r,o){if(void 0===r)return this;if(Le(r)||Dn(r))return new ii(r).filter(this);if(Zt(r)){for(var u=this.spawn(),c=this,d=0;d<c.length;d++){var f=c[d];(o?r.apply(o,[f,d,c]):r(f,d,c))&&u.push(f)}return u}return this.spawn()},not:function(r){if(r){Le(r)&&(r=this.filter(r));for(var o=this.spawn(),u=0;u<this.length;u++){var c=this[u];r.has(c)||o.push(c)}return o}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(r){if(Le(r))return this.filter(r);for(var u=this.spawn(),f=this.length<r.length,p=f?this:r,g=f?r:this,v=0;v<p.length;v++){var m=p[v];g.has(m)&&u.push(m)}return u},xor:function(r){var o=this._private.cy;Le(r)&&(r=o.$(r));var u=this.spawn(),d=r,f=function(g,v){for(var m=0;m<g.length;m++){var w=g[m];v.hasElementWithId(w._private.data.id)||u.push(w)}};return f(this,d),f(d,this),u},diff:function(r){var o=this._private.cy;Le(r)&&(r=o.$(r));var u=this.spawn(),c=this.spawn(),d=this.spawn(),p=r,g=function(m,w,D){for(var C=0;C<m.length;C++){var E=m[C];w.hasElementWithId(E._private.data.id)?d.merge(E):D.push(E)}};return g(this,p,u),g(p,this,c),{left:u,right:c,both:d}},add:function(r){var o=this._private.cy;if(!r)return this;if(Le(r)){var u=r;r=o.mutableElements().filter(u)}for(var c=this.spawnSelf(),d=0;d<r.length;d++){var f=r[d];!this.has(f)&&c.push(f)}return c},merge:function(r){var o=this._private,u=o.cy;if(!r)return this;if(r&&Le(r)){var c=r;r=u.mutableElements().filter(c)}for(var d=o.map,f=0;f<r.length;f++){var p=r[f],g=p._private.data.id;if(!d.has(g)){var m=this.length++;this[m]=p,d.set(g,{ele:p,index:m})}}return this},unmergeAt:function(r){var u=this[r].id(),d=this._private.map;if(this[r]=void 0,d.delete(u),this.length>1&&r!==this.length-1){var p=this.length-1,g=this[p],v=g._private.data.id;this[p]=void 0,this[r]=g,d.set(v,{ele:g,index:r})}return this.length--,this},unmergeOne:function(r){var d=this._private.map.get((r=r[0])._private.data.id);return d?(this.unmergeAt(d.index),this):this},unmerge:function(r){var o=this._private.cy;if(!r)return this;if(r&&Le(r)){var u=r;r=o.mutableElements().filter(u)}for(var c=0;c<r.length;c++)this.unmergeOne(r[c]);return this},unmergeBy:function(r){for(var o=this.length-1;o>=0;o--)r(this[o])&&this.unmergeAt(o);return this},map:function(r,o){for(var u=[],c=this,d=0;d<c.length;d++){var f=c[d],p=o?r.apply(o,[f,d,c]):r(f,d,c);u.push(p)}return u},reduce:function(r,o){for(var u=o,c=this,d=0;d<c.length;d++)u=r(u,c[d],d,c);return u},max:function(r,o){for(var c,u=-1/0,d=this,f=0;f<d.length;f++){var p=d[f],g=o?r.apply(o,[p,f,d]):r(p,f,d);g>u&&(u=g,c=p)}return{value:u,ele:c}},min:function(r,o){for(var c,u=1/0,d=this,f=0;f<d.length;f++){var p=d[f],g=o?r.apply(o,[p,f,d]):r(p,f,d);g<u&&(u=g,c=p)}return{value:u,ele:c}}},en=Cu;en.u=en["|"]=en["+"]=en.union=en.or=en.add,en["\\"]=en["!"]=en["-"]=en.difference=en.relativeComplement=en.subtract=en.not,en.n=en["&"]=en["."]=en.and=en.intersection=en.intersect,en["^"]=en["(+)"]=en["(-)"]=en.symmetricDifference=en.symdiff=en.xor,en.fnFilter=en.filterFn=en.stdFilter=en.filter,en.complement=en.abscomp=en.absoluteComplement;var r,Vf=function(r,o){var c=r.cy().hasCompoundNodes();function d(m){var w=m.pstyle("z-compound-depth");return"auto"===w.value?c?m.zDepth():0:"bottom"===w.value?-1:"top"===w.value?zl:0}var f=d(r)-d(o);if(0!==f)return f;function p(m){return"auto"===m.pstyle("z-index-compare").value&&m.isNode()?1:0}var g=p(r)-p(o);if(0!==g)return g;var v=r.pstyle("z-index").value-o.pstyle("z-index").value;return 0!==v?v:r.poolIndex()-o.poolIndex()},yc={forEach:function(r,o){if(Zt(r))for(var u=this.length,c=0;c<u;c++){var d=this[c];if(!1===(o?r.apply(o,[d,c,this]):r(d,c,this)))break}return this},toArray:function(){for(var r=[],o=0;o<this.length;o++)r.push(this[o]);return r},slice:function(r,o){var u=[],c=this.length;null==o&&(o=c),null==r&&(r=0),r<0&&(r=c+r),o<0&&(o=c+o);for(var d=r;d>=0&&d<o&&d<c;d++)u.push(this[d]);return this.spawn(u)},size:function(){return this.length},eq:function(r){return this[r]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(r){if(!Zt(r))return this;var o=this.toArray().sort(r);return this.spawn(o)},sortByZIndex:function(){return this.sort(Vf)},zDepth:function(){var r=this[0];if(r){var o=r._private;if("nodes"===o.group){var c=o.data.parent?r.parents().size():0;return r.isParent()?c:zl-1}var f=o.target,p=o.source.zDepth(),g=f.zDepth();return Math.max(p,g,0)}}};yc.each=yc.forEach,r="undefined",(typeof Symbol>"u"?"undefined":qe(Symbol))!=r&&qe(Symbol.iterator)!=r&&(yc[Symbol.iterator]=function(){var u=this,c={value:void 0,done:!1},d=0,f=this.length;return tn({next:function(){return d<f?c.value=u[d++]:(c.value=void 0,c.done=!0),c}},Symbol.iterator,function(){return this})});var wc=qn({nodeDimensionsIncludeLabels:!1}),gs={layoutDimensions:function(r){var o;if(r=wc(r),this.takesUpSpace())if(r.nodeDimensionsIncludeLabels){var u=this.boundingBox();o={w:u.w,h:u.h}}else o={w:this.outerWidth(),h:this.outerHeight()};else o={w:0,h:0};return(0===o.w||0===o.h)&&(o.w=o.h=1),o},layoutPositions:function(r,o,u){var c=this.nodes().filter(function(F){return!F.isParent()}),d=this.cy(),f=o.eles,p=function($){return $.id()},g=Xo(u,p);r.emit({type:"layoutstart",layout:r}),r.animations=[];var m=o.spacingFactor&&1!==o.spacingFactor,D=function(){if(!m)return null;for(var $=Tr(),k=0;k<c.length;k++){var N=g(c[k],k);e0($,N.x,N.y)}return $}(),C=Xo(function(F,$){var k=g(F,$);return m&&(k=function($,k,V){var N_x=k.x1+k.w/2,N_y=k.y1+k.h/2;return{x:N_x+(V.x-N_x)*$,y:N_y+(V.y-N_y)*$}}(Math.abs(o.spacingFactor),D,k)),null!=o.transform&&(k=o.transform(F,k)),k},p);if(o.animate){for(var E=0;E<c.length;E++){var T=c[E],x=C(T,E);if(null==o.animateFilter||o.animateFilter(T,E)){var _=T.animation({position:x,duration:o.animationDuration,easing:o.animationEasing});r.animations.push(_)}else T.position(x)}if(o.fit){var A=d.animation({fit:{boundingBox:f.boundingBoxAt(C),padding:o.padding},duration:o.animationDuration,easing:o.animationEasing});r.animations.push(A)}else if(void 0!==o.zoom&&void 0!==o.pan){var R=d.animation({zoom:o.zoom,pan:o.pan,duration:o.animationDuration,easing:o.animationEasing});r.animations.push(R)}r.animations.forEach(function(F){return F.play()}),r.one("layoutready",o.ready),r.emit({type:"layoutready",layout:r}),cs.all(r.animations.map(function(F){return F.promise()})).then(function(){r.one("layoutstop",o.stop),r.emit({type:"layoutstop",layout:r})})}else c.positions(C),o.fit&&d.fit(o.eles,o.padding),null!=o.zoom&&d.zoom(o.zoom),o.pan&&d.pan(o.pan),r.one("layoutready",o.ready),r.emit({type:"layoutready",layout:r}),r.one("layoutstop",o.stop),r.emit({type:"layoutstop",layout:r});return this},layout:function(r){return this.cy().makeLayout(st({},r,{eles:this}))}};function bc(a,r,o){var d,u=o._private,c=u.styleCache=u.styleCache||[];return null!=(d=c[a])||(d=c[a]=r(o)),d}function va(a,r){return a=oa(a),function(u){return bc(a,r,u)}}function ms(a,r){a=oa(a);var o=function(c){return r.call(c)};return function(){var c=this[0];if(c)return bc(a,o,c)}}gs.createLayout=gs.makeLayout=gs.layout;var Vn={recalculateRenderedStyle:function(r){var o=this.cy(),u=o.renderer(),c=o.styleEnabled();return u&&c&&u.recalculateRenderedStyle(this,r),this},dirtyStyleCache:function(){var u,r=this.cy(),o=function(d){return d._private.styleCache=null};return r.hasCompoundNodes()?((u=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(u.connectedEdges()),u.forEach(o)):this.forEach(function(c){o(c),c.connectedEdges().forEach(o)}),this},updateStyle:function(r){var o=this._private.cy;if(!o.styleEnabled())return this;if(o.batching())return o._private.batchStyleEles.merge(this),this;var d=this;r=!(!r&&void 0!==r),o.hasCompoundNodes()&&(d=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var f=d;return r?f.emitAndNotify("style"):f.emit("style"),d.forEach(function(p){return p._private.styleDirty=!0}),this},cleanStyle:function(){var r=this.cy();if(r.styleEnabled())for(var o=0;o<this.length;o++){var u=this[o];u._private.styleDirty&&(u._private.styleDirty=!1,r.style().apply(u))}},parsedStyle:function(r){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=this[0],c=u.cy();if(c.styleEnabled()&&u)return this.cleanStyle(),u._private.style[r]??(o?c.style().getDefaultProperty(r):null)},numericStyle:function(r){var o=this[0];if(o.cy().styleEnabled()&&o){var u=o.pstyle(r);return void 0!==u.pfValue?u.pfValue:u.value}},numericStyleUnits:function(r){var o=this[0];if(o.cy().styleEnabled()&&o)return o.pstyle(r).units},renderedStyle:function(r){var o=this.cy();if(!o.styleEnabled())return this;var u=this[0];return u?o.style().getRenderedStyle(u,r):void 0},style:function(r,o){var u=this.cy();if(!u.styleEnabled())return this;var d=u.style();if(at(r))d.applyBypass(this,r,!1),this.emitAndNotify("style");else if(Le(r)){if(void 0===o){var p=this[0];return p?d.getStylePropertyValue(p,r):void 0}d.applyBypass(this,r,o,!1),this.emitAndNotify("style")}else if(void 0===r){var g=this[0];return g?d.getRawStyle(g):void 0}return this},removeStyle:function(r){var o=this.cy();if(!o.styleEnabled())return this;var c=o.style(),d=this;if(void 0===r)for(var f=0;f<d.length;f++)c.removeAllBypasses(d[f],!1);else{r=r.split(/\s+/);for(var g=0;g<d.length;g++)c.removeBypasses(d[g],r,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var r=this.cy();if(!r.styleEnabled())return 1;var o=r.hasCompoundNodes(),u=this[0];if(u){var c=u._private,d=u.pstyle("opacity").value;if(!o)return d;var f=c.data.parent?u.parents():null;if(f)for(var p=0;p<f.length;p++)d*=f[p].pstyle("opacity").value;return d}},transparent:function(){if(!this.cy().styleEnabled())return!1;var o=this[0],u=o.cy().hasCompoundNodes();return o?u?0===o.effectiveOpacity():0===o.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function Oo(a,r){var u=a._private.data.parent?a.parents():null;if(u)for(var c=0;c<u.length;c++)if(!r(u[c]))return!1;return!0}function Dc(a){var r=a.ok,o=a.edgeOkViaNode||a.ok,u=a.parentOk||a.ok;return function(){var c=this.cy();if(!c.styleEnabled())return!0;var d=this[0],f=c.hasCompoundNodes();if(d){var p=d._private;if(!r(d))return!1;if(d.isNode())return!f||Oo(d,u);var g=p.source,v=p.target;return o(g)&&(!f||Oo(g,o))&&(g===v||o(v)&&(!f||Oo(v,o)))}}}var Hi=va("eleTakesUpSpace",function(a){return"element"===a.pstyle("display").value&&0!==a.width()&&(!a.isNode()||0!==a.height())});Vn.takesUpSpace=ms("takesUpSpace",Dc({ok:Hi}));var Ec=va("eleInteractive",function(a){return"yes"===a.pstyle("events").value&&"visible"===a.pstyle("visibility").value&&Hi(a)}),Su=va("parentInteractive",function(a){return"visible"===a.pstyle("visibility").value&&Hi(a)});Vn.interactive=ms("interactive",Dc({ok:Ec,parentOk:Su,edgeOkViaNode:Hi})),Vn.noninteractive=function(){var a=this[0];if(a)return!a.interactive()};var l0=va("eleVisible",function(a){return"visible"===a.pstyle("visibility").value&&0!==a.pstyle("opacity").pfValue&&Hi(a)});Vn.visible=ms("visible",Dc({ok:l0,edgeOkViaNode:Hi})),Vn.hidden=function(){var a=this[0];if(a)return!a.visible()},Vn.isBundledBezier=ms("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Vn.bypass=Vn.css=Vn.style,Vn.renderedCss=Vn.renderedStyle,Vn.removeBypass=Vn.removeCss=Vn.removeStyle,Vn.pstyle=Vn.parsedStyle;var Ui={};function zf(a){return function(){var r=arguments,o=[];if(2===r.length)this.on(a.event,r[0],r[1]);else if(1===r.length&&Zt(r[0]))this.on(a.event,r[0]);else if(0===r.length||1===r.length&&Kt(r[0])){for(var f=1===r.length?r[0]:null,p=0;p<this.length;p++){var g=this[p],v=!a.ableField||g._private[a.ableField],m=g._private[a.field]!=a.value;if(a.overrideAble){var w=a.overrideAble(g);if(void 0!==w&&(v=w,!w))return this}v&&(g._private[a.field]=a.value,m&&o.push(g))}var D=this.spawn(o);D.updateStyle(),D.emit(a.event),f&&D.emit(f)}return this}}function yr(a){Ui[a.field]=function(){var r=this[0];if(r){if(a.overrideField){var o=a.overrideField(r);if(void 0!==o)return o}return r._private[a.field]}},Ui[a.on]=zf({event:a.on,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!0}),Ui[a.off]=zf({event:a.off,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!1})}yr({field:"locked",overrideField:function(r){return!!r.cy().autolock()||void 0},on:"lock",off:"unlock"}),yr({field:"grabbable",overrideField:function(r){return!r.cy().autoungrabify()&&!r.pannable()&&void 0},on:"grabify",off:"ungrabify"}),yr({field:"selected",ableField:"selectable",overrideAble:function(r){return!r.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),yr({field:"selectable",overrideField:function(r){return!r.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Ui.deselect=Ui.unselect,Ui.grabbed=function(){var a=this[0];if(a)return a._private.grabbed},yr({field:"active",on:"activate",off:"unactivate"}),yr({field:"pannable",on:"panify",off:"unpanify"}),Ui.inactive=function(){var a=this[0];if(a)return!a._private.active};var or={},ys=function(r){return function(u){for(var d=[],f=0;f<this.length;f++){var p=this[f];if(p.isNode()){for(var g=!1,v=p.connectedEdges(),m=0;m<v.length;m++){var w=v[m],D=w.source(),C=w.target();if(r.noIncomingEdges&&C===p&&D!==p||r.noOutgoingEdges&&D===p&&C!==p){g=!0;break}}g||d.push(p)}}return this.spawn(d,!0).filter(u)}},xu=function(r){return function(o){for(var c=[],d=0;d<this.length;d++){var f=this[d];if(f.isNode())for(var p=f.connectedEdges(),g=0;g<p.length;g++){var v=p[g],m=v.source(),w=v.target();r.outgoing&&m===f?(c.push(v),c.push(w)):r.incoming&&w===f&&(c.push(v),c.push(m))}}return this.spawn(c,!0).filter(o)}},Cc=function(r){return function(o){for(var u=this,c=[],d={};;){var f=r.outgoing?u.outgoers():u.incomers();if(0===f.length)break;for(var p=!1,g=0;g<f.length;g++){var v=f[g],m=v.id();d[m]||(d[m]=!0,c.push(v),p=!0)}if(!p)break;u=f}return this.spawn(c,!0).filter(o)}};function Tu(a){return function(o){for(var u=[],c=0;c<this.length;c++){var f=this[c]._private[a.attr];f&&u.push(f)}return this.spawn(u,!0).filter(o)}}function Iu(a){return function(o){var u=[],c=this._private.cy,d=a||{};Le(o)&&(o=c.$(o));for(var f=0;f<o.length;f++)for(var p=o[f]._private.edges,g=0;g<p.length;g++){var v=p[g],m=v._private.data,w=this.hasElementWithId(m.source)&&o.hasElementWithId(m.target),D=o.hasElementWithId(m.source)&&this.hasElementWithId(m.target);(w||D)&&((d.thisIsSrc||d.thisIsTgt)&&(d.thisIsSrc&&!w||d.thisIsTgt&&!D)||u.push(v))}return this.spawn(u,!0)}}function Hf(a){return a=st({},{codirected:!1},a),function(u){for(var c=[],d=this.edges(),f=a,p=0;p<d.length;p++)for(var v=d[p]._private,m=v.source,w=m._private.data.id,D=v.data.target,C=m._private.edges,E=0;E<C.length;E++){var T=C[E],x=T._private.data,M=x.target,_=x.source,A=M===D&&_===w;(f.codirected&&A||!f.codirected&&(A||w===M&&D===_))&&c.push(T)}return this.spawn(c,!0).filter(u)}}or.clearTraversalCache=function(){for(var a=0;a<this.length;a++)this[a]._private.traversalCache=null},st(or,{roots:ys({noIncomingEdges:!0}),leaves:ys({noOutgoingEdges:!0}),outgoers:Fr(xu({outgoing:!0}),"outgoers"),successors:Cc({outgoing:!0}),incomers:Fr(xu({incoming:!0}),"incomers"),predecessors:Cc({incoming:!0})}),st(or,{neighborhood:Fr(function(a){for(var r=[],o=this.nodes(),u=0;u<o.length;u++)for(var c=o[u],d=c.connectedEdges(),f=0;f<d.length;f++){var p=d[f],g=p.source(),v=p.target(),m=c===g?v:g;m.length>0&&r.push(m[0]),r.push(p[0])}return this.spawn(r,!0).filter(a)},"neighborhood"),closedNeighborhood:function(r){return this.neighborhood().add(this).filter(r)},openNeighborhood:function(r){return this.neighborhood(r)}}),or.neighbourhood=or.neighborhood,or.closedNeighbourhood=or.closedNeighborhood,or.openNeighbourhood=or.openNeighborhood,st(or,{source:Fr(function(r){var u,o=this[0];return o&&(u=o._private.source||o.cy().collection()),u&&r?u.filter(r):u},"source"),target:Fr(function(r){var u,o=this[0];return o&&(u=o._private.target||o.cy().collection()),u&&r?u.filter(r):u},"target"),sources:Tu({attr:"source"}),targets:Tu({attr:"target"})}),st(or,{edgesWith:Fr(Iu(),"edgesWith"),edgesTo:Fr(Iu({thisIsSrc:!0}),"edgesTo")}),st(or,{connectedEdges:Fr(function(a){for(var r=[],u=0;u<this.length;u++){var c=this[u];if(c.isNode())for(var d=c._private.edges,f=0;f<d.length;f++)r.push(d[f])}return this.spawn(r,!0).filter(a)},"connectedEdges"),connectedNodes:Fr(function(a){for(var r=[],u=0;u<this.length;u++){var c=this[u];c.isEdge()&&(r.push(c.source()[0]),r.push(c.target()[0]))}return this.spawn(r,!0).filter(a)},"connectedNodes"),parallelEdges:Fr(Hf(),"parallelEdges"),codirectedEdges:Fr(Hf({codirected:!0}),"codirectedEdges")}),st(or,{components:function(r){var o=this,u=o.cy(),c=u.collection(),d=null==r?o.nodes():r.nodes(),f=[];null!=r&&d.empty()&&(d=r.sources());var p=function(m,w){c.merge(m),d.unmerge(m),w.merge(m)};if(d.empty())return o.spawn();var g=function(){var m=u.collection();f.push(m);var w=d[0];p(w,m),o.bfs({directed:!1,roots:w,visit:function(C){return p(C,m)}}),m.forEach(function(D){D.connectedEdges().forEach(function(C){o.has(C)&&m.has(C.source())&&m.has(C.target())&&m.merge(C)})})};do{g()}while(d.length>0);return f},component:function(){var r=this[0];return r.cy().mutableElements().components(r)[0]}}),or.componentsOf=or.components;var $n=function(r,o){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==r){var d=new pi,f=!1;if(o){if(o.length>0&&at(o[0])&&!fo(o[0])){f=!0;for(var p=[],g=new mo,v=0,m=o.length;v<m;v++){var w=o[v];null==w.data&&(w.data={});var D=w.data;if(null==D.id)D.id=Wd();else if(r.hasElementWithId(D.id)||g.has(D.id))continue;var C=new tu(r,w,!1);p.push(C),g.add(D.id)}o=p}}else o=[];this.length=0;for(var E=0,T=o.length;E<T;E++){var x=o[E][0];if(null!=x){var M=x._private.data.id;(!u||!d.has(M))&&(u&&d.set(M,{index:this.length,ele:x}),this[this.length]=x,this.length++)}}this._private={eles:this,cy:r,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(_){this.lazyMap=_},rebuildMap:function(){for(var A=this.lazyMap=new pi,R=this.eles,F=0;F<R.length;F++){var $=R[F];A.set($.id(),{index:F,ele:$})}}},u&&(this._private.map=d),f&&!c&&this.restore()}else nn("A collection must have a reference to the core")},cn=tu.prototype=$n.prototype=Object.create(Array.prototype);cn.instanceString=function(){return"collection"},cn.spawn=function(a,r){return new $n(this.cy(),a,r)},cn.spawnSelf=function(){return this.spawn(this)},cn.cy=function(){return this._private.cy},cn.renderer=function(){return this._private.cy.renderer()},cn.element=function(){return this[0]},cn.collection=function(){return Al(this)?this:new $n(this._private.cy,[this])},cn.unique=function(){return new $n(this._private.cy,this,!0)},cn.hasElementWithId=function(a){return this._private.map.has(a=""+a)},cn.getElementById=function(a){var r=this._private.cy,o=this._private.map.get(a=""+a);return o?o.ele:new $n(r)},cn.$id=cn.getElementById,cn.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},cn.indexOf=function(a){return this._private.map.get(a[0]._private.data.id).index},cn.indexOfId=function(a){return this._private.map.get(a=""+a).index},cn.json=function(a){var r=this.element(),o=this.cy();if(null==r&&a)return this;if(null!=r){var u=r._private;if(at(a)){if(o.startBatch(),a.data){r.data(a.data);var c=u.data;if(r.isEdge()){var d=!1,f={},p=a.data.source,g=a.data.target;null!=p&&p!=c.source&&(f.source=""+p,d=!0),null!=g&&g!=c.target&&(f.target=""+g,d=!0),d&&(r=r.move(f))}else{var m=a.data.parent;"parent"in a.data&&(null!=m||null!=c.parent)&&m!=c.parent&&(void 0===m&&(m=null),null!=m&&(m=""+m),r=r.move({parent:m}))}}a.position&&r.position(a.position);var w=function(T,x,M){var _=a[T];null!=_&&_!==u[T]&&(_?r[x]():r[M]())};return w("removed","remove","restore"),w("selected","select","unselect"),w("selectable","selectify","unselectify"),w("locked","lock","unlock"),w("grabbable","grabify","ungrabify"),w("pannable","panify","unpanify"),null!=a.classes&&r.classes(a.classes),o.endBatch(),this}if(void 0===a){var D={data:An(u.data),position:An(u.position),group:u.group,removed:u.removed,selected:u.selected,selectable:u.selectable,locked:u.locked,grabbable:u.grabbable,pannable:u.pannable,classes:""},C=0;return u.classes.forEach(function(E){return D.classes+=0==C++?E:" "+E}),D}}},cn.jsons=function(){for(var a=[],r=0;r<this.length;r++){var u=this[r].json();a.push(u)}return a},cn.clone=function(){for(var a=this.cy(),r=[],o=0;o<this.length;o++){var c=this[o].json(),d=new tu(a,c,!1);r.push(d)}return new $n(a,r)},cn.copy=cn.clone,cn.restore=function(){for(var p,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this,u=o.cy(),c=u._private,d=[],f=[],g=0,v=o.length;g<v;g++){var m=o[g];r&&!m.removed()||(m.isNode()?d.push(m):f.push(m))}p=d.concat(f);var w,D=function(){p.splice(w,1),w--};for(w=0;w<p.length;w++){var C=p[w],E=C._private,T=E.data;if(C.clearTraversalCache(),r||E.removed)if(void 0===T.id)T.id=Wd();else if(Ve(T.id))T.id=""+T.id;else{if(At(T.id)||!Le(T.id)){nn("Can not create element with invalid string ID `"+T.id+"`"),D();continue}if(u.hasElementWithId(T.id)){nn("Can not create second element with ID `"+T.id+"`"),D();continue}}var x=T.id;if(C.isNode()){var M=E.position;null==M.x&&(M.x=0),null==M.y&&(M.y=0)}if(C.isEdge()){for(var _=C,A=["source","target"],R=A.length,F=!1,$=0;$<R;$++){var k=A[$],V=T[k];Ve(V)&&(V=T[k]=""+T[k]),null==V||""===V?(nn("Can not create edge `"+x+"` with unspecified "+k),F=!0):u.hasElementWithId(V)||(nn("Can not create edge `"+x+"` with nonexistant "+k+" `"+V+"`"),F=!0)}if(F){D();continue}var N=u.getElementById(T.source),H=u.getElementById(T.target);N.same(H)?N._private.edges.push(_):(N._private.edges.push(_),H._private.edges.push(_)),_._private.source=N,_._private.target=H}E.map=new pi,E.map.set(x,{ele:C,index:0}),E.removed=!1,r&&u.addToPool(C)}for(var U=0;U<d.length;U++){var L=d[U],j=L._private.data;Ve(j.parent)&&(j.parent=""+j.parent);var B=j.parent;if(null!=B||L._private.parent){var W=L._private.parent?u.collection().merge(L._private.parent):u.getElementById(B);if(W.empty())j.parent=void 0;else if(W[0].removed())Dt("Node added with missing parent, reference to parent removed"),j.parent=void 0,L._private.parent=null;else{for(var G=!1,Q=W;!Q.empty();){if(L.same(Q)){G=!0,j.parent=void 0;break}Q=Q.parent()}G||(W[0]._private.children.push(L),L._private.parent=W[0],c.hasCompoundNodes=!0)}}}if(p.length>0){for(var ne=p.length===o.length?o:new $n(u,p),de=0;de<ne.length;de++){var X=ne[de];X.isNode()||(X.parallelEdges().clearTraversalCache(),X.source().clearTraversalCache(),X.target().clearTraversalCache())}(c.hasCompoundNodes?u.collection().merge(ne).merge(ne.connectedNodes()).merge(ne.parent()):ne).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(a),a?ne.emitAndNotify("add"):r&&ne.emit("add")}return o},cn.removed=function(){var a=this[0];return a&&a._private.removed},cn.inside=function(){var a=this[0];return a&&!a._private.removed},cn.remove=function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this,u=[],c={},d=o._private.cy;function g(B){var Y=c[B.id()];r&&B.removed()||Y||(c[B.id()]=!0,B.isNode()?(u.push(B),function f(B){for(var Y=B._private.edges,W=0;W<Y.length;W++)g(Y[W])}(B),function p(B){for(var Y=B._private.children,W=0;W<Y.length;W++)g(Y[W])}(B)):u.unshift(B))}for(var v=0,m=o.length;v<m;v++)g(o[v]);function D(B,Y){qr(B._private.edges,Y),B.clearTraversalCache()}var E=[];function T(B,Y){Y=Y[0];var W=(B=B[0])._private.children,G=B.id();qr(W,Y),Y._private.parent=null,E.ids[G]||(E.ids[G]=!0,E.push(B))}E.ids={},o.dirtyCompoundBoundsCache(),r&&d.removeFromPool(u);for(var x=0;x<u.length;x++){var M=u[x];if(M.isEdge()){var _=M.source()[0],A=M.target()[0];D(_,M),D(A,M);for(var R=M.parallelEdges(),F=0;F<R.length;F++){var $=R[F];$.clearTraversalCache(),$.isBundledBezier()&&$.dirtyBoundingBoxCache()}}else{var k=M.parent();0!==k.length&&T(k,M)}r&&(M._private.removed=!0)}var V=d._private.elements;d._private.hasCompoundNodes=!1;for(var N=0;N<V.length;N++)if(V[N].isParent()){d._private.hasCompoundNodes=!0;break}var U=new $n(this.cy(),u);U.size()>0&&(a?U.emitAndNotify("remove"):r&&U.emit("remove"));for(var L=0;L<E.length;L++){var j=E[L];(!r||!j.removed())&&j.updateStyle()}return U},cn.move=function(a){var r=this._private.cy,o=this,u=!1,c=!1,d=function(E){return null==E?E:""+E};if(void 0!==a.source||void 0!==a.target){var f=d(a.source),p=d(a.target),g=null!=f&&r.hasElementWithId(f),v=null!=p&&r.hasElementWithId(p);(g||v)&&(r.batch(function(){o.remove(u,c),o.emitAndNotify("moveout");for(var C=0;C<o.length;C++){var E=o[C],T=E._private.data;E.isEdge()&&(g&&(T.source=f),v&&(T.target=p))}o.restore(u,c)}),o.emitAndNotify("move"))}else if(void 0!==a.parent){var m=d(a.parent);if(null===m||r.hasElementWithId(m)){var D=null===m?void 0:m;r.batch(function(){var C=o.remove(u,c);C.emitAndNotify("moveout");for(var E=0;E<o.length;E++){var T=o[E],x=T._private.data;T.isNode()&&(x.parent=D)}C.restore(u,c)}),o.emitAndNotify("move")}}return this},[hf,mf,uc,gr,pa,Df,mu,gn,$v,Cu,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var r=this[0];if(r)return r._private.group}},yc,gs,Vn,Ui,or].forEach(function(a){st(cn,a)});var Uf={add:function(r){var o,u=this;if(Dn(r)){var c=r;if(c._private.cy===u)o=c.restore();else{for(var d=[],f=0;f<c.length;f++)d.push(c[f].json());o=new $n(u,d)}}else if(Kt(r))o=new $n(u,r);else if(at(r)&&(Kt(r.nodes)||Kt(r.edges))){for(var v=r,m=[],w=["nodes","edges"],D=0,C=w.length;D<C;D++){var E=w[D],T=v[E];if(Kt(T))for(var x=0,M=T.length;x<M;x++){var _=st({group:E},T[x]);m.push(_)}}o=new $n(u,m)}else o=new tu(u,r).collection();return o},remove:function(r){return Dn(r)||Le(r)&&(r=this.$(r)),r.remove()}};function jf(a,r,o,u){var c=4,d=.001,f=1e-7,p=10,g=11,v=1/(g-1),m=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var w=0;w<4;++w)if("number"!=typeof arguments[w]||isNaN(arguments[w])||!isFinite(arguments[w]))return!1;a=Math.min(a,1),o=Math.min(o,1),a=Math.max(a,0),o=Math.max(o,0);var D=m?new Float32Array(g):new Array(g);function C(H,U){return 1-3*U+3*H}function E(H,U){return 3*U-6*H}function T(H){return 3*H}function x(H,U,L){return((C(U,L)*H+E(U,L))*H+T(U))*H}function M(H,U,L){return 3*C(U,L)*H*H+2*E(U,L)*H+T(U)}var $=!1;var V=function(U){return $||function k(){$=!0,(a!==r||o!==u)&&function A(){for(var H=0;H<g;++H)D[H]=x(H*v,a,o)}()}(),a===r&&o===u?U:0===U?0:1===U?1:x(function F(H){for(var U=0,L=1,j=g-1;L!==j&&D[L]<=H;++L)U+=v;--L;var Y=U+(H-D[L])/(D[L+1]-D[L])*v,W=M(Y,a,o);return W>=d?function _(H,U){for(var L=0;L<c;++L){var j=M(U,a,o);if(0===j)return U;U-=(x(U,a,o)-H)/j}return U}(H,Y):0===W?Y:function R(H,U,L){var j,B,Y=0;do{(j=x(B=U+(L-U)/2,a,o)-H)>0?L=B:U=B}while(Math.abs(j)>f&&++Y<p);return B}(H,U,U+v)}(U),r,u)};V.getControlPoints=function(){return[{x:a,y:r},{x:o,y:u}]};var N="generateBezier("+[a,r,o,u]+")";return V.toString=function(){return N},V}var Hv=function(){function a(u){return-u.tension*u.x-u.friction*u.v}function r(u,c,d){var f={x:u.x+d.dx*c,v:u.v+d.dv*c,tension:u.tension,friction:u.friction};return{dx:f.v,dv:a(f)}}function o(u,c){var d={dx:u.v,dv:a(u)},f=r(u,.5*c,d),p=r(u,.5*c,f),g=r(u,c,p),m=1/6*(d.dv+2*(f.dv+p.dv)+g.dv);return u.x=u.x+1/6*(d.dx+2*(f.dx+p.dx)+g.dx)*c,u.v=u.v+m*c,u}return function u(c,d,f){var D,C,E,p={x:-1,v:0,tension:null,friction:null},g=[0],v=0,m=1e-4;for(c=parseFloat(c)||500,d=parseFloat(d)||20,f=f||null,p.tension=c,p.friction=d,C=(D=null!==f)?(v=u(c,d))/f*.016:.016;E=o(E||p,C),g.push(1+E.x),v+=16,Math.abs(E.x)>m&&Math.abs(E.v)>m;);return D?function(T){return g[T*(g.length-1)|0]}:v}}(),on=function(r,o,u,c){var d=jf(r,o,u,c);return function(f,p,g){return f+(p-f)*d(g)}},Si={linear:function(r,o,u){return r+(o-r)*u},ease:on(.25,.1,.25,1),"ease-in":on(.42,0,1,1),"ease-out":on(0,0,.58,1),"ease-in-out":on(.42,0,.58,1),"ease-in-sine":on(.47,0,.745,.715),"ease-out-sine":on(.39,.575,.565,1),"ease-in-out-sine":on(.445,.05,.55,.95),"ease-in-quad":on(.55,.085,.68,.53),"ease-out-quad":on(.25,.46,.45,.94),"ease-in-out-quad":on(.455,.03,.515,.955),"ease-in-cubic":on(.55,.055,.675,.19),"ease-out-cubic":on(.215,.61,.355,1),"ease-in-out-cubic":on(.645,.045,.355,1),"ease-in-quart":on(.895,.03,.685,.22),"ease-out-quart":on(.165,.84,.44,1),"ease-in-out-quart":on(.77,0,.175,1),"ease-in-quint":on(.755,.05,.855,.06),"ease-out-quint":on(.23,1,.32,1),"ease-in-out-quint":on(.86,0,.07,1),"ease-in-expo":on(.95,.05,.795,.035),"ease-out-expo":on(.19,1,.22,1),"ease-in-out-expo":on(1,0,0,1),"ease-in-circ":on(.6,.04,.98,.335),"ease-out-circ":on(.075,.82,.165,1),"ease-in-out-circ":on(.785,.135,.15,.86),spring:function(r,o,u){if(0===u)return Si.linear;var c=Hv(r,o,u);return function(d,f,p){return d+(f-d)*c(p)}},"cubic-bezier":on};function Gf(a,r,o,u,c){if(1===u||r===o)return o;var d=c(r,o,u);return null==a||((a.roundValue||a.color)&&(d=Math.round(d)),void 0!==a.min&&(d=Math.max(d,a.min)),void 0!==a.max&&(d=Math.min(d,a.max))),d}function Sc(a,r){return null!=a.pfValue||null!=a.value?null==a.pfValue||null!=r&&"%"===r.type.units?a.value:a.pfValue:a}function za(a,r,o,u,c){var d=null!=c?c.type:null;o<0?o=0:o>1&&(o=1);var f=Sc(a,c),p=Sc(r,c);if(Ve(f)&&Ve(p))return Gf(d,f,p,o,u);if(Kt(f)&&Kt(p)){for(var g=[],v=0;v<p.length;v++){var m=f[v],w=p[v];if(null!=m&&null!=w){var D=Gf(d,m,w,o,u);g.push(D)}else g.push(w)}return g}}function Lo(a,r,o,u){var c=!u,d=a._private,f=r._private,p=f.easing,g=f.startTime,m=(u?a:a.cy()).style();if(!f.easingImpl)if(null==p)f.easingImpl=Si.linear;else{var w,C,E;w=Le(p)?m.parse("transition-timing-function",p).value:p,Le(w)?(C=w,E=[]):(C=w[1],E=w.slice(2).map(function(ne){return+ne})),E.length>0?("spring"===C&&E.push(f.duration),f.easingImpl=Si[C].apply(null,E)):f.easingImpl=Si[C]}var x,T=f.easingImpl;if(x=0===f.duration?1:(o-g)/f.duration,f.applying&&(x=f.progress),x<0?x=0:x>1&&(x=1),null==f.delay){var M=f.startPosition,_=f.position;if(_&&c&&!a.locked()){var A={};ws(M.x,_.x)&&(A.x=za(M.x,_.x,x,T)),ws(M.y,_.y)&&(A.y=za(M.y,_.y,x,T)),a.position(A)}var R=f.startPan,F=f.pan,$=d.pan,k=null!=F&&u;k&&(ws(R.x,F.x)&&($.x=za(R.x,F.x,x,T)),ws(R.y,F.y)&&($.y=za(R.y,F.y,x,T)),a.emit("pan"));var V=f.startZoom,N=f.zoom,H=null!=N&&u;H&&(ws(V,N)&&(d.zoom=ru(d.minZoom,za(V,N,x,T),d.maxZoom)),a.emit("zoom")),(k||H)&&a.emit("viewport");var U=f.style;if(U&&U.length>0&&c){for(var L=0;L<U.length;L++){var j=U[L],B=j.name,W=f.startStyle[B],Q=za(W,j,x,T,m.properties[W.name]);m.overrideBypass(a,B,Q)}a.emit("style")}}return f.progress=x,x}function ws(a,r){return!!(null!=a&&null!=r&&(Ve(a)&&Ve(r)||a&&r))}function qf(a,r,o,u){var c=r._private;c.started=!0,c.startTime=o-c.progress*c.duration}function Mu(a,r){var o=r._private.aniEles,u=[];function c(m,w){var D=m._private,C=D.animation.current,E=D.animation.queue,T=!1;if(0===C.length){var x=E.shift();x&&C.push(x)}for(var M=function($){for(var k=$.length-1;k>=0;k--)(0,$[k])();$.splice(0,$.length)},_=C.length-1;_>=0;_--){var A=C[_],R=A._private;R.stopped?(C.splice(_,1),R.hooked=!1,R.playing=!1,R.started=!1,M(R.frames)):!R.playing&&!R.applying||(R.playing&&R.applying&&(R.applying=!1),R.started||qf(0,A,a),Lo(m,A,a,w),R.applying&&(R.applying=!1),M(R.frames),null!=R.step&&R.step(a),A.completed()&&(C.splice(_,1),R.hooked=!1,R.playing=!1,R.started=!1,M(R.completes)),T=!0)}return!w&&0===C.length&&0===E.length&&u.push(m),T}for(var d=!1,f=0;f<o.length;f++){var g=c(o[f]);d=d||g}var v=c(r,!0);(d||v)&&(o.length>0?r.notify("draw",o):r.notify("draw")),o.unmerge(u),r.emit("step")}var Uv={animate:Jt.animate(),animation:Jt.animation(),animated:Jt.animated(),clearQueue:Jt.clearQueue(),delay:Jt.delay(),delayAnimation:Jt.delayAnimation(),stop:Jt.stop(),addToAnimationPool:function(r){this.styleEnabled()&&this._private.aniEles.merge(r)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var r=this;if(r._private.animationsRunning=!0,r.styleEnabled()){var u=r.renderer();u&&u.beforeRender?u.beforeRender(function(d,f){Mu(f,r)},u.beforeRenderPriorities.animations):function o(){r._private.animationsRunning&&Qs(function(d){Mu(d,r),o()})}()}}},Wf={qualifierCompare:function(r,o){return null==r||null==o?null==r&&null==o:r.sameText(o)},eventMatches:function(r,o,u){var c=o.qualifier;return null==c||r!==u.target&&fo(u.target)&&c.matches(u.target)},addEventFields:function(r,o){o.cy=r,o.target=r},callbackContext:function(r,o,u){return null!=o.qualifier?u.target:r}},Ha=function(r){return Le(r)?new ii(r):r},Ua={createEmitter:function(){var r=this._private;return r.emitter||(r.emitter=new $a(Wf,this)),this},emitter:function(){return this._private.emitter},on:function(r,o,u){return this.emitter().on(r,Ha(o),u),this},removeListener:function(r,o,u){return this.emitter().removeListener(r,Ha(o),u),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(r,o,u){return this.emitter().one(r,Ha(o),u),this},once:function(r,o,u){return this.emitter().one(r,Ha(o),u),this},emit:function(r,o){return this.emitter().emit(r,o),this},emitAndNotify:function(r,o){return this.emit(r),this.notify(r,o),this}};Jt.eventAliasesOn(Ua);var ga={png:function(r){return this._private.renderer.png(r=r||{})},jpg:function(r){var o=this._private.renderer;return(r=r||{}).bg=r.bg||"#fff",o.jpg(r)}};ga.jpeg=ga.jpg;var ji={layout:function(r){var o=this;if(null!=r)if(null!=r.name){var d,u=r.name,c=o.extension("layout",u);if(null!=c)return d=Le(r.eles)?o.$(r.eles):null!=r.eles?r.eles:o.$(),new c(st({},r,{cy:o,eles:d}));nn("No such layout `"+u+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else nn("A `name` must be specified to make a layout");else nn("Layout options must be specified to make a layout")}};ji.createLayout=ji.makeLayout=ji.layout;var Kf={notify:function(r,o){var u=this._private;if(this.batching()){u.batchNotifications=u.batchNotifications||{};var c=u.batchNotifications[r]=u.batchNotifications[r]||this.collection();null!=o&&c.merge(o)}else if(u.notificationsEnabled){var d=this.renderer();this.destroyed()||!d||d.notify(r,o)}},notifications:function(r){var o=this._private;return void 0===r?o.notificationsEnabled:(o.notificationsEnabled=!!r,this)},noNotifications:function(r){this.notifications(!1),r(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var r=this._private;return null==r.batchCount&&(r.batchCount=0),0===r.batchCount&&(r.batchStyleEles=this.collection(),r.batchNotifications={}),r.batchCount++,this},endBatch:function(){var r=this._private;if(0===r.batchCount)return this;if(r.batchCount--,0===r.batchCount){r.batchStyleEles.updateStyle();var o=this.renderer();Object.keys(r.batchNotifications).forEach(function(u){var c=r.batchNotifications[u];c.empty()?o.notify(u):o.notify(u,c)})}return this},batch:function(r){return this.startBatch(),r(),this.endBatch(),this},batchData:function(r){var o=this;return this.batch(function(){for(var u=Object.keys(r),c=0;c<u.length;c++){var d=u[c],f=r[d];o.getElementById(d).data(f)}})}},xc=qn({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),ma={renderTo:function(r,o,u,c){return this._private.renderer.renderTo(r,o,u,c),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(r){var o=this,u=o.extension("renderer",r.name);if(null!=u){void 0!==r.wheelSensitivity&&Dt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var c=xc(r);c.cy=o,o._private.renderer=new u(c),this.notify("init")}else nn("Can not initialise: No such renderer `".concat(r.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var r=this;r.notify("destroy");var o=r.container();if(o)for(o._cyreg=null;o.childNodes.length>0;)o.removeChild(o.childNodes[0]);r._private.renderer=null,r.mutableElements().forEach(function(u){var c=u._private;c.rscratch={},c.rstyle={},c.animation.current=[],c.animation.queue=[]})},onRender:function(r){return this.on("render",r)},offRender:function(r){return this.off("render",r)}};ma.invalidateDimensions=ma.resize;var Tc={collection:function(r,o){return Le(r)?this.$(r):Dn(r)?r.collection():Kt(r)?(o||(o={}),new $n(this,r,o.unique,o.removed)):new $n(this)},nodes:function(r){var o=this.$(function(u){return u.isNode()});return r?o.filter(r):o},edges:function(r){var o=this.$(function(u){return u.isEdge()});return r?o.filter(r):o},$:function(r){var o=this._private.elements;return r?o.filter(r):o.spawnSelf()},mutableElements:function(){return this._private.elements}};Tc.elements=Tc.filter=Tc.$;var sr={apply:function(a){for(var r=this,c=r._private.cy.collection(),d=0;d<a.length;d++){var f=a[d],p=r.getContextMeta(f);if(!p.empty){var g=r.getContextStyle(p),v=r.applyContextStyle(p,g,f);f._private.appliedInitStyle?r.updateTransitions(f,v.diffProps):f._private.appliedInitStyle=!0,r.updateStyleHints(f)&&c.push(f)}}return c},getPropertiesDiff:function(a,r){var o=this,u=o._private.propDiffs=o._private.propDiffs||{},c=a+"-"+r,d=u[c];if(d)return d;for(var f=[],p={},g=0;g<o.length;g++){var v=o[g],w="t"===r[g],D="t"===a[g]!==w,C=v.mappedProperties.length>0;if(D||w&&C){var E=void 0;D&&C||D?E=v.properties:C&&(E=v.mappedProperties);for(var T=0;T<E.length;T++){for(var x=E[T],M=x.name,_=!1,A=g+1;A<o.length&&("t"!==r[A]||!(_=null!=o[A].properties[x.name]));A++);!p[M]&&!_&&(p[M]=!0,f.push(M))}}}return u[c]=f,f},getContextMeta:function(a){for(var u,r=this,o="",c=a._private.styleCxtKey||"",d=0;d<r.length;d++){var f=r[d];o+=f.selector&&f.selector.matches(a)?"t":"f"}return u=r.getPropertiesDiff(c,o),a._private.styleCxtKey=o,{key:o,diffPropNames:u,empty:0===u.length}},getContextStyle:function(a){var r=a.key,u=this._private.contextStyles=this._private.contextStyles||{};if(u[r])return u[r];for(var c={_private:{key:r}},d=0;d<this.length;d++){var f=this[d];if("t"===r[d])for(var g=0;g<f.properties.length;g++){var v=f.properties[g];c[v.name]=v}}return u[r]=c,c},applyContextStyle:function(a,r,o){for(var c=a.diffPropNames,d={},f=this.types,p=0;p<c.length;p++){var g=c[p],v=r[g],m=o.pstyle(g);if(!v){if(!m)continue;v=m.bypass?{name:g,deleteBypassed:!0}:{name:g,delete:!0}}if(m!==v){if(v.mapped===f.fn&&null!=m&&null!=m.mapping&&m.mapping.value===v.value){var w=m.mapping;if((w.fnValue=v.value(o))===w.prevFnValue)continue}var C=d[g]={prev:m};this.applyParsedProperty(o,v),C.next=o.pstyle(g),C.next&&C.next.bypass&&(C.next=C.next.bypassed)}}return{diffProps:d}},updateStyleHints:function(a){var u,r=a._private,o=this,c=o.propertyGroupKeys,d=function(ke,Je,Ct){return o.getPropertiesHash(ke,Je,Ct)},f=r.styleKey;if(a.removed())return!1;var ke,p="nodes"===r.group,g=a._private.style;u=Object.keys(g);for(var v=0;v<c.length;v++)r.styleKeys[c[v]]=[ho,Xs];for(var w=function(ke,Je){return r.styleKeys[Je][0]=po(ke,r.styleKeys[Je][0])},D=function(ke,Je){return r.styleKeys[Je][1]=vo(ke,r.styleKeys[Je][1])},C=function(ke,Je){w(ke,Je),D(ke,Je)},E=function(ke,Je){for(var Ct=0;Ct<ke.length;Ct++){var Be=ke.charCodeAt(Ct);w(Be,Je),D(Be,Je)}},M=0;M<u.length;M++){var _=u[M],A=g[_];if(null!=A){var R=this.properties[_],F=R.type,$=R.groupKey,k=void 0;null!=R.hashOverride?k=R.hashOverride(a,A):null!=A.pfValue&&(k=A.pfValue);var V=null==R.enums?A.value:null,N=null!=k,L=A.units;!F.number||!N&&null==V||F.multiple?E(A.strValue,$):(C(-128<(ke=N?k:V)&&ke<128&&Math.floor(ke)!==ke?2e9-(1024*ke|0):ke,$),!N&&null!=L&&E(L,$))}}for(var B=[ho,Xs],Y=0;Y<c.length;Y++){var G=r.styleKeys[c[Y]];B[0]=po(G[0],B[0]),B[1]=vo(G[1],B[1])}r.styleKey=function(r,o){return 2097152*r+o}(B[0],B[1]);var Q=r.styleKeys;r.labelDimsKey=Ni(Q.labelDimensions);var ne=d(a,["label"],Q.labelDimensions);if(r.labelKey=Ni(ne),r.labelStyleKey=Ni(Js(Q.commonLabel,ne)),!p){var de=d(a,["source-label"],Q.labelDimensions);r.sourceLabelKey=Ni(de),r.sourceLabelStyleKey=Ni(Js(Q.commonLabel,de));var X=d(a,["target-label"],Q.labelDimensions);r.targetLabelKey=Ni(X),r.targetLabelStyleKey=Ni(Js(Q.commonLabel,X))}if(p){var ue=r.styleKeys,ye=ue.pie,_e=[ue.nodeBody,ue.nodeBorder,ue.nodeOutline,ue.backgroundImage,ue.compound,ye].filter(function(Ie){return null!=Ie}).reduce(Js,[ho,Xs]);r.nodeKey=Ni(_e),r.hasPie=null!=ye&&ye[0]!==ho&&ye[1]!==Xs}return f!==r.styleKey},clearStyleHints:function(a){var r=a._private;r.styleCxtKey="",r.styleKeys={},r.styleKey=null,r.labelKey=null,r.labelStyleKey=null,r.sourceLabelKey=null,r.sourceLabelStyleKey=null,r.targetLabelKey=null,r.targetLabelStyleKey=null,r.nodeKey=null,r.hasPie=null},applyParsedProperty:function(a,r){var d,o=this,u=r,c=a._private.style,f=o.types,p=o.properties[u.name].type,g=u.bypass,v=c[u.name],m=v&&v.bypass,w=a._private,D="mapping",C=function(oe){return null==oe?null:null!=oe.pfValue?oe.pfValue:oe.value},E=function(){var oe=C(v),be=C(u);o.checkTriggers(a,u.name,oe,be)};if("curve-style"===r.name&&a.isEdge()&&("bezier"!==r.value&&a.isLoop()||"haystack"===r.value&&(a.source().isParent()||a.target().isParent()))&&(u=r=this.parse(r.name,"bezier",g)),u.delete)return c[u.name]=void 0,E(),!0;if(u.deleteBypassed)return v?!!v.bypass&&(v.bypassed=void 0,E(),!0):(E(),!0);if(u.deleteBypass)return v?!!v.bypass&&(c[u.name]=v.bypassed,E(),!0):(E(),!0);var T=function(){Dt("Do not assign mappings to elements without corresponding data (i.e. ele `"+a.id()+"` has no mapping for property `"+u.name+"` with data field `"+u.field+"`); try a `["+u.field+"]` selector to limit scope to elements with `"+u.field+"` defined")};switch(u.mapped){case f.mapData:for(var x=u.field.split("."),M=w.data,_=0;_<x.length&&M;_++)M=M[x[_]];if(null==M)return T(),!1;var R;if(!Ve(M))return Dt("Do not use continuous mappers without specifying numeric data (i.e. `"+u.field+": "+M+"` for `"+a.id()+"` is non-numeric)"),!1;var F=u.fieldMax-u.fieldMin;if((R=0===F?0:(M-u.fieldMin)/F)<0?R=0:R>1&&(R=1),p.color){var $=u.valueMin[0],V=u.valueMin[1],N=u.valueMax[1],H=u.valueMin[2],U=u.valueMax[2],L=null==u.valueMin[3]?1:u.valueMin[3],j=null==u.valueMax[3]?1:u.valueMax[3],B=[Math.round($+(u.valueMax[0]-$)*R),Math.round(V+(N-V)*R),Math.round(H+(U-H)*R),Math.round(L+(j-L)*R)];d={bypass:u.bypass,name:u.name,value:B,strValue:"rgb("+B[0]+", "+B[1]+", "+B[2]+")"}}else{if(!p.number)return!1;d=this.parse(u.name,u.valueMin+(u.valueMax-u.valueMin)*R,u.bypass,D)}if(!d)return T(),!1;d.mapping=u,u=d;break;case f.data:for(var W=u.field.split("."),G=w.data,Q=0;Q<W.length&&G;Q++)G=G[W[Q]];if(null!=G&&(d=this.parse(u.name,G,u.bypass,D)),!d)return T(),!1;d.mapping=u,u=d;break;case f.fn:var X=null!=u.fnValue?u.fnValue:(0,u.value)(a);if(u.prevFnValue=X,null==X)return Dt("Custom function mappers may not return null (i.e. `"+u.name+"` for ele `"+a.id()+"` is null)"),!1;if(!(d=this.parse(u.name,X,u.bypass,D)))return Dt("Custom function mappers may not return invalid values for the property type (i.e. `"+u.name+"` for ele `"+a.id()+"` is invalid)"),!1;d.mapping=An(u),u=d;break;case void 0:break;default:return!1}return g?(u.bypassed=m?v.bypassed:v,c[u.name]=u):m?v.bypassed=u:c[u.name]=u,E(),!0},cleanElements:function(a,r){for(var o=0;o<a.length;o++){var u=a[o];if(this.clearStyleHints(u),u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),r)for(var c=u._private.style,d=Object.keys(c),f=0;f<d.length;f++){var p=d[f],g=c[p];null!=g&&(g.bypass?g.bypassed=null:c[p]=null)}else u._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(a,r){var o=this,u=a._private,c=a.pstyle("transition-property").value,d=a.pstyle("transition-duration").pfValue,f=a.pstyle("transition-delay").pfValue;if(c.length>0&&d>0){for(var p={},g=!1,v=0;v<c.length;v++){var m=c[v],w=a.pstyle(m),D=r[m];if(D){var E=D.prev,T=null!=D.next?D.next:w,x=!1,M=void 0,_=1e-6;E&&(Ve(E.pfValue)&&Ve(T.pfValue)?M=E.pfValue+_*(x=T.pfValue-E.pfValue):Ve(E.value)&&Ve(T.value)?M=E.value+_*(x=T.value-E.value):Kt(E.value)&&Kt(T.value)&&(x=E.value[0]!==T.value[0]||E.value[1]!==T.value[1]||E.value[2]!==T.value[2],M=E.strValue),x&&(p[m]=T.strValue,this.applyBypass(a,m,M),g=!0))}}if(!g)return;u.transitioning=!0,new cs(function(A){f>0?a.delayAnimation(f).play().promise().then(A):A()}).then(function(){return a.animation({style:p,duration:d,easing:a.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){o.removeBypasses(a,c),a.emitAndNotify("style"),u.transitioning=!1})}else u.transitioning&&(this.removeBypasses(a,c),a.emitAndNotify("style"),u.transitioning=!1)},checkTrigger:function(a,r,o,u,c,d){var f=this.properties[r],p=c(f);null!=p&&p(o,u)&&d(f)},checkZOrderTrigger:function(a,r,o,u){var c=this;this.checkTrigger(a,r,o,u,function(d){return d.triggersZOrder},function(){c._private.cy.notify("zorder",a)})},checkBoundsTrigger:function(a,r,o,u){this.checkTrigger(a,r,o,u,function(c){return c.triggersBounds},function(c){a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),c.triggersBoundsOfParallelBeziers&&"curve-style"===r&&("bezier"===o||"bezier"===u)&&a.parallelEdges().forEach(function(d){d.isBundledBezier()&&d.dirtyBoundingBoxCache()}),c.triggersBoundsOfConnectedEdges&&"display"===r&&("none"===o||"none"===u)&&a.connectedEdges().forEach(function(d){d.dirtyBoundingBoxCache()})})},checkTriggers:function(a,r,o,u){a.dirtyStyleCache(),this.checkZOrderTrigger(a,r,o,u),this.checkBoundsTrigger(a,r,o,u)}},_u={applyBypass:function(a,r,o,u){var d=[];if("*"===r||"**"===r){if(void 0!==o)for(var p=0;p<this.properties.length;p++){var m=this.parse(this.properties[p].name,o,!0);m&&d.push(m)}}else if(Le(r)){var w=this.parse(r,o,!0);w&&d.push(w)}else{if(!at(r))return!1;var D=r;u=o;for(var C=Object.keys(D),E=0;E<C.length;E++){var T=C[E],x=D[T];if(void 0===x&&(x=D[Nl(T)]),void 0!==x){var M=this.parse(T,x,!0);M&&d.push(M)}}}if(0===d.length)return!1;for(var _=!1,A=0;A<a.length;A++){for(var R=a[A],F={},$=void 0,k=0;k<d.length;k++){var V=d[k];if(u){var N=R.pstyle(V.name);$=F[V.name]={prev:N}}_=this.applyParsedProperty(R,An(V))||_,u&&($.next=R.pstyle(V.name))}_&&this.updateStyleHints(R),u&&this.updateTransitions(R,F,!0)}return _},overrideBypass:function(a,r,o){r=kl(r);for(var u=0;u<a.length;u++){var c=a[u],d=c._private.style[r],f=this.properties[r].type,p=f.color,g=f.mutiple,v=d?null!=d.pfValue?d.pfValue:d.value:null;d&&d.bypass?(d.value=o,null!=d.pfValue&&(d.pfValue=o),d.strValue=p?"rgb("+o.join(",")+")":g?o.join(" "):""+o,this.updateStyleHints(c)):this.applyBypass(c,r,o),this.checkTriggers(c,r,v,o)}},removeAllBypasses:function(a,r){return this.removeBypasses(a,this.propertyNames,r)},removeBypasses:function(a,r,o){for(var c=0;c<a.length;c++){for(var d=a[c],f={},p=0;p<r.length;p++){var g=r[p],v=this.properties[g],m=d.pstyle(v.name);if(m&&m.bypass){var D=this.parse(g,"",!0),C=f[v.name]={prev:m};this.applyParsedProperty(d,D),C.next=d.pstyle(v.name)}}this.updateStyleHints(d),o&&this.updateTransitions(d,f,!0)}}},Yf={getEmSizeInPixels:function(){var a=this.containerCss("font-size");return null!=a?parseFloat(a):1},containerCss:function(a){var r=this._private.cy,o=r.container(),u=r.window();if(u&&o&&u.getComputedStyle)return u.getComputedStyle(o).getPropertyValue(a)}},Gi={getRenderedStyle:function(a,r){return r?this.getStylePropertyValue(a,r,!0):this.getRawStyle(a,!0)},getRawStyle:function(a,r){var o=this;if(a=a[0]){for(var u={},c=0;c<o.properties.length;c++){var d=o.properties[c],f=o.getStylePropertyValue(a,d.name,r);null!=f&&(u[d.name]=f,u[Nl(d.name)]=f)}return u}},getIndexedStyle:function(a,r,o,u){return a.pstyle(r)[o][u]??a.cy().style().getDefaultProperty(r)[o][0]},getStylePropertyValue:function(a,r,o){if(a=a[0]){var c=this.properties[r];c.alias&&(c=c.pointsTo);var d=c.type,f=a.pstyle(c.name);if(f){var p=f.value,g=f.units,v=f.strValue;if(o&&d.number&&null!=p&&Ve(p)){var m=a.cy().zoom(),w=function(x){return x*m},D=function(x,M){return w(x)+M},C=Kt(p);return(C?g.every(function(T){return null!=T}):null!=g)?C?p.map(function(T,x){return D(T,g[x])}).join(" "):D(p,g):C?p.map(function(T){return Le(T)?T:""+w(T)}).join(" "):""+w(p)}if(null!=v)return v}return null}},getAnimationStartStyle:function(a,r){for(var o={},u=0;u<r.length;u++){var d=r[u].name,f=a.pstyle(d);void 0!==f&&(f=at(f)?this.parse(d,f.strValue):this.parse(d,f)),f&&(o[d]=f)}return o},getPropsList:function(a){var o=[],u=a,c=this.properties;if(u)for(var d=Object.keys(u),f=0;f<d.length;f++){var p=d[f],g=u[p],v=c[p]||c[kl(p)],m=this.parse(v.name,g);m&&o.push(m)}return o},getNonDefaultPropertiesHash:function(a,r,o){var d,f,p,g,v,u=o.slice();for(g=0;g<r.length;g++)if(null!=(d=a.pstyle(r[g],!1)))if(null!=d.pfValue)u[0]=po(p,u[0]),u[1]=vo(p,u[1]);else for(f=d.strValue,v=0;v<f.length;v++)p=f.charCodeAt(v),u[0]=po(p,u[0]),u[1]=vo(p,u[1]);return u}};Gi.getPropertiesHash=Gi.getNonDefaultPropertiesHash;var Ic={appendFromJson:function(a){for(var r=this,o=0;o<a.length;o++){var u=a[o],c=u.selector,d=u.style||u.css,f=Object.keys(d);r.selector(c);for(var p=0;p<f.length;p++){var g=f[p];r.css(g,d[g])}}return r},fromJson:function(a){var r=this;return r.resetToDefault(),r.appendFromJson(a),r},json:function(){for(var a=[],r=this.defaultLength;r<this.length;r++){for(var o=this[r],u=o.selector,c=o.properties,d={},f=0;f<c.length;f++){var p=c[f];d[p.name]=p.strValue}a.push({selector:u?u.toString():"core",style:d})}return a}},Zf={appendFromString:function(a){var c,d,f,o=this,u=""+a;function p(){u=u.length>c.length?u.substr(c.length):""}function g(){d=d.length>f.length?d.substr(f.length):""}for(u=u.replace(/[/][*](\s|.)+?[*][/]/g,"");!u.match(/^\s*$/);){var m=u.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!m){Dt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+u);break}c=m[0];var w=m[1];if("core"!==w&&new ii(w).invalid)Dt("Skipping parsing of block: Invalid selector found in string stylesheet: "+w),p();else{var C=m[2],E=!1;d=C;for(var T=[];!d.match(/^\s*$/);){var M=d.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!M){Dt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+C),E=!0;break}f=M[0];var _=M[1],A=M[2];this.properties[_]?o.parse(_,A)?(T.push({name:_,val:A}),g()):(Dt("Skipping property: Invalid property definition in: "+f),g()):(Dt("Skipping property: Invalid property name in: "+f),g())}if(E){p();break}o.selector(w);for(var $=0;$<T.length;$++){var k=T[$];o.css(k.name,k.val)}p()}}return o},fromString:function(a){var r=this;return r.resetToDefault(),r.appendFromString(a),r}},ur={};(function(){var a=Fn,r=Nd,o=Ol,d=function(_e){return"^"+_e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},f=function(_e){var Ie=a+"|\\w+|"+r+"|"+o+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+_e+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+a+")\\s*\\,\\s*("+a+")\\s*,\\s*("+Ie+")\\s*\\,\\s*("+Ie+")\\)$"},p=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];ur.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:d("data")},layoutData:{mapping:!0,regex:d("layoutData")},scratch:{mapping:!0,regex:d("scratch")},mapData:{mapping:!0,regex:f("mapData")},mapLayoutData:{mapping:!0,regex:f("mapLayoutData")},mapScratch:{mapping:!0,regex:f("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:p,singleRegexMatchValue:!0},urls:{regexes:p,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(_e,Ie){switch(_e.length){case 2:return"deg"!==Ie[0]&&"rad"!==Ie[0]&&"deg"!==Ie[1]&&"rad"!==Ie[1];case 1:return Le(_e[0])||"deg"===Ie[0]||"rad"===Ie[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+a+")\\s*,\\s*("+a+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+a+")\\s*,\\s*("+a+")\\s*,\\s*("+a+")\\s*,\\s*("+a+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(_e){var Ie=_e.length;return 1===Ie||2===Ie||4===Ie}}};var g={zeroNonZero:function(_e,Ie){return(null==_e||null==Ie)&&_e!==Ie||0==_e&&0!=Ie||0!=_e&&0==Ie},any:function(_e,Ie){return _e!=Ie},emptyNonEmpty:function(_e,Ie){var ke=At(_e),Je=At(Ie);return ke&&!Je||!ke&&Je}},v=ur.types,m=[{name:"label",type:v.text,triggersBounds:g.any,triggersZOrder:g.emptyNonEmpty},{name:"text-rotation",type:v.textRotation,triggersBounds:g.any},{name:"text-margin-x",type:v.bidirectionalSize,triggersBounds:g.any},{name:"text-margin-y",type:v.bidirectionalSize,triggersBounds:g.any}],w=[{name:"source-label",type:v.text,triggersBounds:g.any},{name:"source-text-rotation",type:v.textRotation,triggersBounds:g.any},{name:"source-text-margin-x",type:v.bidirectionalSize,triggersBounds:g.any},{name:"source-text-margin-y",type:v.bidirectionalSize,triggersBounds:g.any},{name:"source-text-offset",type:v.size,triggersBounds:g.any}],D=[{name:"target-label",type:v.text,triggersBounds:g.any},{name:"target-text-rotation",type:v.textRotation,triggersBounds:g.any},{name:"target-text-margin-x",type:v.bidirectionalSize,triggersBounds:g.any},{name:"target-text-margin-y",type:v.bidirectionalSize,triggersBounds:g.any},{name:"target-text-offset",type:v.size,triggersBounds:g.any}],C=[{name:"font-family",type:v.fontFamily,triggersBounds:g.any},{name:"font-style",type:v.fontStyle,triggersBounds:g.any},{name:"font-weight",type:v.fontWeight,triggersBounds:g.any},{name:"font-size",type:v.size,triggersBounds:g.any},{name:"text-transform",type:v.textTransform,triggersBounds:g.any},{name:"text-wrap",type:v.textWrap,triggersBounds:g.any},{name:"text-overflow-wrap",type:v.textOverflowWrap,triggersBounds:g.any},{name:"text-max-width",type:v.size,triggersBounds:g.any},{name:"text-outline-width",type:v.size,triggersBounds:g.any},{name:"line-height",type:v.positiveNumber,triggersBounds:g.any}],E=[{name:"text-valign",type:v.valign,triggersBounds:g.any},{name:"text-halign",type:v.halign,triggersBounds:g.any},{name:"color",type:v.color},{name:"text-outline-color",type:v.color},{name:"text-outline-opacity",type:v.zeroOneNumber},{name:"text-background-color",type:v.color},{name:"text-background-opacity",type:v.zeroOneNumber},{name:"text-background-padding",type:v.size,triggersBounds:g.any},{name:"text-border-opacity",type:v.zeroOneNumber},{name:"text-border-color",type:v.color},{name:"text-border-width",type:v.size,triggersBounds:g.any},{name:"text-border-style",type:v.borderStyle,triggersBounds:g.any},{name:"text-background-shape",type:v.textBackgroundShape,triggersBounds:g.any},{name:"text-justification",type:v.justification}],T=[{name:"events",type:v.bool,triggersZOrder:g.any},{name:"text-events",type:v.bool,triggersZOrder:g.any}],x=[{name:"display",type:v.display,triggersZOrder:g.any,triggersBounds:g.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:v.visibility,triggersZOrder:g.any},{name:"opacity",type:v.zeroOneNumber,triggersZOrder:g.zeroNonZero},{name:"text-opacity",type:v.zeroOneNumber},{name:"min-zoomed-font-size",type:v.size},{name:"z-compound-depth",type:v.zCompoundDepth,triggersZOrder:g.any},{name:"z-index-compare",type:v.zIndexCompare,triggersZOrder:g.any},{name:"z-index",type:v.number,triggersZOrder:g.any}],M=[{name:"overlay-padding",type:v.size,triggersBounds:g.any},{name:"overlay-color",type:v.color},{name:"overlay-opacity",type:v.zeroOneNumber,triggersBounds:g.zeroNonZero},{name:"overlay-shape",type:v.overlayShape,triggersBounds:g.any}],_=[{name:"underlay-padding",type:v.size,triggersBounds:g.any},{name:"underlay-color",type:v.color},{name:"underlay-opacity",type:v.zeroOneNumber,triggersBounds:g.zeroNonZero},{name:"underlay-shape",type:v.overlayShape,triggersBounds:g.any}],A=[{name:"transition-property",type:v.propList},{name:"transition-duration",type:v.time},{name:"transition-delay",type:v.time},{name:"transition-timing-function",type:v.easing}],R=function(_e,Ie){return"label"===Ie.value?-_e.poolIndex():Ie.pfValue},F=[{name:"height",type:v.nodeSize,triggersBounds:g.any,hashOverride:R},{name:"width",type:v.nodeSize,triggersBounds:g.any,hashOverride:R},{name:"shape",type:v.nodeShape,triggersBounds:g.any},{name:"shape-polygon-points",type:v.polygonPointList,triggersBounds:g.any},{name:"background-color",type:v.color},{name:"background-fill",type:v.fill},{name:"background-opacity",type:v.zeroOneNumber},{name:"background-blacken",type:v.nOneOneNumber},{name:"background-gradient-stop-colors",type:v.colors},{name:"background-gradient-stop-positions",type:v.percentages},{name:"background-gradient-direction",type:v.gradientDirection},{name:"padding",type:v.sizeMaybePercent,triggersBounds:g.any},{name:"padding-relative-to",type:v.paddingRelativeTo,triggersBounds:g.any},{name:"bounds-expansion",type:v.boundsExpansion,triggersBounds:g.any}],$=[{name:"border-color",type:v.color},{name:"border-opacity",type:v.zeroOneNumber},{name:"border-width",type:v.size,triggersBounds:g.any},{name:"border-style",type:v.borderStyle}],k=[{name:"outline-color",type:v.color},{name:"outline-opacity",type:v.zeroOneNumber},{name:"outline-width",type:v.size,triggersBounds:g.any},{name:"outline-style",type:v.borderStyle},{name:"outline-offset",type:v.size,triggersBounds:g.any}],V=[{name:"background-image",type:v.urls},{name:"background-image-crossorigin",type:v.bgCrossOrigin},{name:"background-image-opacity",type:v.zeroOneNumbers},{name:"background-image-containment",type:v.bgContainment},{name:"background-image-smoothing",type:v.bools},{name:"background-position-x",type:v.bgPos},{name:"background-position-y",type:v.bgPos},{name:"background-width-relative-to",type:v.bgRelativeTo},{name:"background-height-relative-to",type:v.bgRelativeTo},{name:"background-repeat",type:v.bgRepeat},{name:"background-fit",type:v.bgFit},{name:"background-clip",type:v.bgClip},{name:"background-width",type:v.bgWH},{name:"background-height",type:v.bgWH},{name:"background-offset-x",type:v.bgPos},{name:"background-offset-y",type:v.bgPos}],N=[{name:"position",type:v.position,triggersBounds:g.any},{name:"compound-sizing-wrt-labels",type:v.compoundIncludeLabels,triggersBounds:g.any},{name:"min-width",type:v.size,triggersBounds:g.any},{name:"min-width-bias-left",type:v.sizeMaybePercent,triggersBounds:g.any},{name:"min-width-bias-right",type:v.sizeMaybePercent,triggersBounds:g.any},{name:"min-height",type:v.size,triggersBounds:g.any},{name:"min-height-bias-top",type:v.sizeMaybePercent,triggersBounds:g.any},{name:"min-height-bias-bottom",type:v.sizeMaybePercent,triggersBounds:g.any}],H=[{name:"line-style",type:v.lineStyle},{name:"line-color",type:v.color},{name:"line-fill",type:v.fill},{name:"line-cap",type:v.lineCap},{name:"line-opacity",type:v.zeroOneNumber},{name:"line-dash-pattern",type:v.numbers},{name:"line-dash-offset",type:v.number},{name:"line-gradient-stop-colors",type:v.colors},{name:"line-gradient-stop-positions",type:v.percentages},{name:"curve-style",type:v.curveStyle,triggersBounds:g.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:v.zeroOneNumber,triggersBounds:g.any},{name:"source-endpoint",type:v.edgeEndpoint,triggersBounds:g.any},{name:"target-endpoint",type:v.edgeEndpoint,triggersBounds:g.any},{name:"control-point-step-size",type:v.size,triggersBounds:g.any},{name:"control-point-distances",type:v.bidirectionalSizes,triggersBounds:g.any},{name:"control-point-weights",type:v.numbers,triggersBounds:g.any},{name:"segment-distances",type:v.bidirectionalSizes,triggersBounds:g.any},{name:"segment-weights",type:v.numbers,triggersBounds:g.any},{name:"taxi-turn",type:v.bidirectionalSizeMaybePercent,triggersBounds:g.any},{name:"taxi-turn-min-distance",type:v.size,triggersBounds:g.any},{name:"taxi-direction",type:v.axisDirection,triggersBounds:g.any},{name:"edge-distances",type:v.edgeDistances,triggersBounds:g.any},{name:"arrow-scale",type:v.positiveNumber,triggersBounds:g.any},{name:"loop-direction",type:v.angle,triggersBounds:g.any},{name:"loop-sweep",type:v.angle,triggersBounds:g.any},{name:"source-distance-from-node",type:v.size,triggersBounds:g.any},{name:"target-distance-from-node",type:v.size,triggersBounds:g.any}],U=[{name:"ghost",type:v.bool,triggersBounds:g.any},{name:"ghost-offset-x",type:v.bidirectionalSize,triggersBounds:g.any},{name:"ghost-offset-y",type:v.bidirectionalSize,triggersBounds:g.any},{name:"ghost-opacity",type:v.zeroOneNumber}],L=[{name:"selection-box-color",type:v.color},{name:"selection-box-opacity",type:v.zeroOneNumber},{name:"selection-box-border-color",type:v.color},{name:"selection-box-border-width",type:v.size},{name:"active-bg-color",type:v.color},{name:"active-bg-opacity",type:v.zeroOneNumber},{name:"active-bg-size",type:v.size},{name:"outside-texture-bg-color",type:v.color},{name:"outside-texture-bg-opacity",type:v.zeroOneNumber}],j=[];ur.pieBackgroundN=16,j.push({name:"pie-size",type:v.sizeMaybePercent});for(var B=1;B<=ur.pieBackgroundN;B++)j.push({name:"pie-"+B+"-background-color",type:v.color}),j.push({name:"pie-"+B+"-background-size",type:v.percent}),j.push({name:"pie-"+B+"-background-opacity",type:v.zeroOneNumber});var Y=[],W=ur.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:v.arrowShape,triggersBounds:g.any},{name:"arrow-color",type:v.color},{name:"arrow-fill",type:v.arrowFill},{name:"arrow-width",type:v.arrowWidth}].forEach(function(ye){W.forEach(function(_e){Y.push({name:_e+"-"+ye.name,type:ye.type,triggersBounds:ye.triggersBounds})})},{});var G=ur.properties=[].concat(T,A,x,M,_,U,E,C,m,w,D,F,$,k,V,j,N,H,Y,L),Q=ur.propertyGroups={behavior:T,transition:A,visibility:x,overlay:M,underlay:_,ghost:U,commonLabel:E,labelDimensions:C,mainLabel:m,sourceLabel:w,targetLabel:D,nodeBody:F,nodeBorder:$,nodeOutline:k,backgroundImage:V,pie:j,compound:N,edgeLine:H,edgeArrow:Y,core:L},ne=ur.propertyGroupNames={};(ur.propertyGroupKeys=Object.keys(Q)).forEach(function(ye){ne[ye]=Q[ye].map(function(_e){return _e.name}),Q[ye].forEach(function(_e){return _e.groupKey=ye})});var X=ur.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];ur.propertyNames=G.map(function(ye){return ye.name});for(var ue=0;ue<G.length;ue++){var oe=G[ue];G[oe.name]=oe}for(var be=0;be<X.length;be++){var me=X[be],te={name:me.name,alias:!0,pointsTo:G[me.pointsTo]};G.push(te),G[me.name]=te}})(),ur.getDefaultProperty=function(a){return this.getDefaultProperties()[a]},ur.getDefaultProperties=function(){var a=this._private;if(null!=a.defaultProperties)return a.defaultProperties;for(var r=st({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(g,v){for(var m=1;m<=ur.pieBackgroundN;m++)g[v.name.replace("{{i}}",m)]=v.value;return g},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(g,v){return ur.arrowPrefixes.forEach(function(m){g[m+"-"+v.name]=v.value}),g},{})),o={},u=0;u<this.properties.length;u++){var c=this.properties[u];if(!c.pointsTo){var d=c.name,p=this.parse(d,r[d]);o[d]=p}}return a.defaultProperties=o,a.defaultProperties},ur.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var ya={parse:function(a,r,o,u){var c=this;if(Zt(r))return c.parseImplWarn(a,r,o,u);var m,g=$l(a,""+r,o?"t":"f","mapping"===u||!0===u||!1===u||null==u?"dontcare":u),v=c.propCache=c.propCache||[];return(m=v[g])||(m=v[g]=c.parseImplWarn(a,r,o,u)),(o||"mapping"===u)&&(m=An(m))&&(m.value=An(m.value)),m},parseImplWarn:function(a,r,o,u){var c=this.parseImpl(a,r,o,u);return!c&&null!=r&&Dt("The style property `".concat(a,": ").concat(r,"` is invalid")),c&&("width"===c.name||"height"===c.name)&&"label"===r&&Dt("The style value of `label` is deprecated for `"+c.name+"`"),c}};ya.parseImpl=function(a,r,o,u){var c=this;a=kl(a);var d=c.properties[a],f=r,p=c.types;if(!d||void 0===r)return null;d.alias&&(a=(d=d.pointsTo).name);var g=Le(r);g&&(r=r.trim());var m,w,v=d.type;if(!v)return null;if(o&&(""===r||null===r))return{name:a,value:r,bypass:!0,deleteBypass:!0};if(Zt(r))return{name:a,value:r,strValue:"fn",mapped:p.fn,bypass:o};if(!(!g||u||r.length<7||"a"!==r[1])){if(r.length>=7&&"d"===r[0]&&(m=new RegExp(p.data.regex).exec(r)))return!o&&{name:a,value:m,strValue:""+r,mapped:p.data,field:m[1],bypass:o};if(r.length>=10&&"m"===r[0]&&(w=new RegExp(p.mapData.regex).exec(r))){if(o||v.multiple)return!1;var C=p.mapData;if(!v.color&&!v.number)return!1;var E=this.parse(a,w[4]);if(!E||E.mapped)return!1;var T=this.parse(a,w[5]);if(!T||T.mapped)return!1;if(E.pfValue===T.pfValue||E.strValue===T.strValue)return Dt("`"+a+": "+r+"` is not a valid mapper because the output range is zero; converting to `"+a+": "+E.strValue+"`"),this.parse(a,E.strValue);if(v.color){var x=E.value,M=T.value;if(!(x[0]!==M[0]||x[1]!==M[1]||x[2]!==M[2]||x[3]!==M[3]&&(null!=x[3]&&1!==x[3]||null!=M[3]&&1!==M[3])))return!1}return{name:a,value:w,strValue:""+r,mapped:C,field:w[1],fieldMin:parseFloat(w[2]),fieldMax:parseFloat(w[3]),valueMin:E.value,valueMax:T.value,bypass:o}}}if(v.multiple&&"multiple"!==u){var A;if(A=g?r.split(/\s+/):Kt(r)?r:[r],v.evenMultiple&&A.length%2!=0)return null;for(var R=[],F=[],$=[],k="",V=!1,N=0;N<A.length;N++){var H=c.parse(a,A[N],o,"multiple");V=V||Le(H.value),R.push(H.value),$.push(null!=H.pfValue?H.pfValue:H.value),F.push(H.units),k+=(N>0?" ":"")+H.strValue}return v.validate&&!v.validate(R,F)?null:v.singleEnum&&V?1===R.length&&Le(R[0])?{name:a,value:R[0],strValue:R[0],bypass:o}:null:{name:a,value:R,pfValue:$,strValue:k,bypass:o,units:F}}var U=function(){for(var _e=0;_e<v.enums.length;_e++)if(v.enums[_e]===r)return{name:a,value:r,strValue:""+r,bypass:o};return null};if(v.number){var L,j="px";if(v.units&&(L=v.units),v.implicitUnits&&(j=v.implicitUnits),!v.unitless)if(g){var B="px|em"+(v.allowPercent?"|\\%":"");L&&(B=L);var Y=r.match("^("+Fn+")("+B+")?$");Y&&(r=Y[1],L=Y[2]||j)}else(!L||v.implicitUnits)&&(L=j);if(r=parseFloat(r),isNaN(r)&&void 0===v.enums)return null;if(isNaN(r)&&void 0!==v.enums)return r=f,U();if(v.integer&&!function(r){return Ve(r)&&Math.floor(r)===r}(r)||void 0!==v.min&&(r<v.min||v.strictMin&&r===v.min)||void 0!==v.max&&(r>v.max||v.strictMax&&r===v.max))return null;var W={name:a,value:r,strValue:""+r+(L||""),units:L,bypass:o};return W.pfValue=v.unitless||"px"!==L&&"em"!==L?r:"px"!==L&&L?this.getEmSizeInPixels()*r:r,("ms"===L||"s"===L)&&(W.pfValue="ms"===L?r:1e3*r),("deg"===L||"rad"===L)&&(W.pfValue="rad"===L?r:function(r){return Math.PI*r/180}(r)),"%"===L&&(W.pfValue=r/100),W}if(v.propList){var G=[],Q=""+r;if("none"!==Q){for(var ne=Q.split(/\s*,\s*|\s+/),de=0;de<ne.length;de++){var X=ne[de].trim();c.properties[X]?G.push(X):Dt("`"+X+"` is not a valid property name")}if(0===G.length)return null}return{name:a,value:G,strValue:0===G.length?"none":G.join(" "),bypass:o}}if(v.color){var ue=function(r){return(Kt(r)?r:null)||function(r){return iv[r.toLowerCase()]}(r)||function(r){if((4===r.length||7===r.length)&&"#"===r[0]){var u,c,d,f=16;return 4===r.length?(u=parseInt(r[1]+r[1],f),c=parseInt(r[2]+r[2],f),d=parseInt(r[3]+r[3],f)):(u=parseInt(r[1]+r[2],f),c=parseInt(r[3]+r[4],f),d=parseInt(r[5]+r[6],f)),[u,c,d]}}(r)||function(r){var o,u=new RegExp("^"+Xp+"$").exec(r);if(u){o=[];for(var c=[],d=1;d<=3;d++){var f=u[d];if("%"===f[f.length-1]&&(c[d]=!0),f=parseFloat(f),c[d]&&(f=f/100*255),f<0||f>255)return;o.push(Math.floor(f))}if((c[1]||c[2]||c[3])&&!(c[1]&&c[2]&&c[3]))return;var v=u[4];if(void 0!==v){if((v=parseFloat(v))<0||v>1)return;o.push(v)}}return o}(r)||function(r){var o,u,c,d,f,p,g,v;function m(E,T,x){return x<0&&(x+=1),x>1&&(x-=1),x<1/6?E+6*(T-E)*x:x<.5?T:x<2/3?E+(T-E)*(2/3-x)*6:E}var w=new RegExp("^"+Jp+"$").exec(r);if(w){if((u=parseInt(w[1]))<0?u=(360- -1*u%360)%360:u>360&&(u%=360),u/=360,(c=parseFloat(w[2]))<0||c>100||(c/=100,(d=parseFloat(w[3]))<0||d>100)||(d/=100,void 0!==(f=w[4])&&((f=parseFloat(f))<0||f>1)))return;if(0===c)p=g=v=Math.round(255*d);else{var D=d<.5?d*(1+c):d+c-d*c,C=2*d-D;p=Math.round(255*m(C,D,u+1/3)),g=Math.round(255*m(C,D,u)),v=Math.round(255*m(C,D,u-1/3))}o=[p,g,v,f]}return o}(r)}(r);return ue?{name:a,value:ue,pfValue:ue,strValue:"rgb("+ue[0]+","+ue[1]+","+ue[2]+")",bypass:o}:null}if(v.regex||v.regexes){if(v.enums){var oe=U();if(oe)return oe}for(var be=v.regexes?v.regexes:[v.regex],me=0;me<be.length;me++){var te=new RegExp(be[me]).exec(r);if(te)return{name:a,value:v.singleRegexMatchValue?te[1]:te,strValue:""+r,bypass:o}}return null}return v.string?{name:a,value:""+r,strValue:""+r,bypass:o}:v.enums?U():null};var wr=function a(r){if(!(this instanceof a))return new a(r);Tn(r)?(this._private={cy:r,coreStyle:{}},this.length=0,this.resetToDefault()):nn("A style must have a core reference")},br=wr.prototype;br.instanceString=function(){return"style"},br.clear=function(){for(var a=this._private,o=a.cy.elements(),u=0;u<this.length;u++)this[u]=void 0;return this.length=0,a.contextStyles={},a.propDiffs={},this.cleanElements(o,!0),o.forEach(function(c){var d=c[0]._private;d.styleDirty=!0,d.appliedInitStyle=!1}),this},br.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},br.core=function(a){return this._private.coreStyle[a]||this.getDefaultProperty(a)},br.selector=function(a){var r="core"===a?null:new ii(a),o=this.length++;return this[o]={selector:r,properties:[],mappedProperties:[],index:o},this},br.css=function(){var r=arguments;if(1===r.length)for(var o=r[0],u=0;u<this.properties.length;u++){var c=this.properties[u],d=o[c.name];void 0===d&&(d=o[Nl(c.name)]),void 0!==d&&this.cssRule(c.name,d)}else 2===r.length&&this.cssRule(r[0],r[1]);return this},br.style=br.css,br.cssRule=function(a,r){var o=this.parse(a,r);if(o){var u=this.length-1;this[u].properties.push(o),this[u].properties[o.name]=o,o.name.match(/pie-(\d+)-background-size/)&&o.value&&(this._private.hasPie=!0),o.mapped&&this[u].mappedProperties.push(o),!this[u].selector&&(this._private.coreStyle[o.name]=o)}return this},br.append=function(a){return _n(a)?a.appendToStyle(this):Kt(a)?this.appendFromJson(a):Le(a)&&this.appendFromString(a),this},wr.fromJson=function(a,r){var o=new wr(a);return o.fromJson(r),o},wr.fromString=function(a,r){return new wr(a).fromString(r)},[sr,_u,Yf,Gi,Ic,Zf,ur,ya].forEach(function(a){st(br,a)}),wr.types=br.types,wr.properties=br.properties,wr.propertyGroups=br.propertyGroups,wr.propertyGroupNames=br.propertyGroupNames,wr.propertyGroupKeys=br.propertyGroupKeys;var Pn={style:function(r){return r&&this.setStyle(r).update(),this._private.style},setStyle:function(r){var o=this._private;return o.style=_n(r)?r.generateStyle(this):Kt(r)?wr.fromJson(this,r):Le(r)?wr.fromString(this,r):wr(this),o.style},updateStyle:function(){this.mutableElements().updateStyle()}},ai={autolock:function(r){return void 0===r?this._private.autolock:(this._private.autolock=!!r,this)},autoungrabify:function(r){return void 0===r?this._private.autoungrabify:(this._private.autoungrabify=!!r,this)},autounselectify:function(r){return void 0===r?this._private.autounselectify:(this._private.autounselectify=!!r,this)},selectionType:function(r){var o=this._private;return null==o.selectionType&&(o.selectionType="single"),void 0===r?o.selectionType:(("additive"===r||"single"===r)&&(o.selectionType=r),this)},panningEnabled:function(r){return void 0===r?this._private.panningEnabled:(this._private.panningEnabled=!!r,this)},userPanningEnabled:function(r){return void 0===r?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!r,this)},zoomingEnabled:function(r){return void 0===r?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!r,this)},userZoomingEnabled:function(r){return void 0===r?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!r,this)},boxSelectionEnabled:function(r){return void 0===r?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!r,this)},pan:function(){var u,c,d,f,p,r=arguments,o=this._private.pan;switch(r.length){case 0:return o;case 1:if(Le(r[0]))return o[u=r[0]];if(at(r[0])){if(!this._private.panningEnabled)return this;p=(d=r[0]).y,Ve(f=d.x)&&(o.x=f),Ve(p)&&(o.y=p),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;c=r[1],("x"===(u=r[0])||"y"===u)&&Ve(c)&&(o[u]=c),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(r,o){var d,f,p,g,v,u=arguments,c=this._private.pan;if(!this._private.panningEnabled)return this;switch(u.length){case 1:at(r)&&(v=(p=u[0]).y,Ve(g=p.x)&&(c.x+=g),Ve(v)&&(c.y+=v),this.emit("pan viewport"));break;case 2:f=o,("x"===(d=r)||"y"===d)&&Ve(f)&&(c[d]+=f),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(r,o){var u=this.getFitViewport(r,o);if(u){var c=this._private;c.zoom=u.zoom,c.pan=u.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(r,o){var u;if((Ve(r)&&void 0===o&&(o=r,r=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(Le(r)?r=this.$(r):!function(r){return at(r)&&Ve(r.x1)&&Ve(r.x2)&&Ve(r.y1)&&Ve(r.y2)}(r)?Dn(r)||(r=this.mutableElements()):((u={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2}).w=u.x2-u.x1,u.h=u.y2-u.y1),!Dn(r)||!r.empty())){u=u||r.boundingBox();var g,f=this.width(),p=this.height();if(o=Ve(o)?o:0,!isNaN(f)&&!isNaN(p)&&f>0&&p>0&&!isNaN(u.w)&&!isNaN(u.h)&&u.w>0&&u.h>0)return{zoom:g=(g=(g=Math.min((f-2*o)/u.w,(p-2*o)/u.h))>this._private.maxZoom?this._private.maxZoom:g)<this._private.minZoom?this._private.minZoom:g,pan:{x:(f-g*(u.x1+u.x2))/2,y:(p-g*(u.y1+u.y2))/2}}}},zoomRange:function(r,o){var u=this._private;if(null==o){var c=r;r=c.min,o=c.max}return Ve(r)&&Ve(o)&&r<=o?(u.minZoom=r,u.maxZoom=o):Ve(r)&&void 0===o&&r<=u.maxZoom?u.minZoom=r:Ve(o)&&void 0===r&&o>=u.minZoom&&(u.maxZoom=o),this},minZoom:function(r){return void 0===r?this._private.minZoom:this.zoomRange({min:r})},maxZoom:function(r){return void 0===r?this._private.maxZoom:this.zoomRange({max:r})},getZoomedViewport:function(r){var d,f,o=this._private,u=o.pan,c=o.zoom,p=!1;return o.zoomingEnabled||(p=!0),Ve(r)?f=r:at(r)&&(f=r.level,null!=r.position?d=Ra(r.position,c,u):null!=r.renderedPosition&&(d=r.renderedPosition),null!=d&&!o.panningEnabled&&(p=!0)),f=(f=f>o.maxZoom?o.maxZoom:f)<o.minZoom?o.minZoom:f,!p&&Ve(f)&&f!==c&&(null==d||Ve(d.x)&&Ve(d.y))?null!=d?{zoomed:!0,panned:!0,zoom:f,pan:{x:-f/c*(d.x-u.x)+d.x,y:-f/c*(d.y-u.y)+d.y}}:{zoomed:!0,panned:!1,zoom:f,pan:u}:null},zoom:function(r){if(void 0===r)return this._private.zoom;var o=this.getZoomedViewport(r),u=this._private;return null!=o&&o.zoomed?(u.zoom=o.zoom,o.panned&&(u.pan.x=o.pan.x,u.pan.y=o.pan.y),this.emit("zoom"+(o.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(r){var o=this._private,u=!0,c=!0,d=[],f=!1,p=!1;if(!r)return this;if(Ve(r.zoom)||(u=!1),at(r.pan)||(c=!1),!u&&!c)return this;if(u){var g=r.zoom;g<o.minZoom||g>o.maxZoom||!o.zoomingEnabled?f=!0:(o.zoom=g,d.push("zoom"))}if(c&&(!f||!r.cancelOnFailedZoom)&&o.panningEnabled){var v=r.pan;Ve(v.x)&&(o.pan.x=v.x,p=!1),Ve(v.y)&&(o.pan.y=v.y,p=!1),p||d.push("pan")}return d.length>0&&(d.push("viewport"),this.emit(d.join(" ")),this.notify("viewport")),this},center:function(r){var o=this.getCenterPan(r);return o&&(this._private.pan=o,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(r,o){if(this._private.panningEnabled){if(Le(r)){var u=r;r=this.mutableElements().filter(u)}else Dn(r)||(r=this.mutableElements());if(0!==r.length){var c=r.boundingBox(),d=this.width(),f=this.height();return{x:(d-(o=void 0===o?this._private.zoom:o)*(c.x1+c.x2))/2,y:(f-o*(c.y1+c.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var c,d,r=this._private,o=r.container;return r.sizeCache=r.sizeCache||(o?(c=this.window().getComputedStyle(o),{width:o.clientWidth-(d=function(p){return parseFloat(c.getPropertyValue(p))})("padding-left")-d("padding-right"),height:o.clientHeight-d("padding-top")-d("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var r=this._private.pan,o=this._private.zoom,u=this.renderedExtent(),c={x1:(u.x1-r.x)/o,x2:(u.x2-r.x)/o,y1:(u.y1-r.y)/o,y2:(u.y2-r.y)/o};return c.w=c.x2-c.x1,c.h=c.y2-c.y1,c},renderedExtent:function(){var r=this.width(),o=this.height();return{x1:0,y1:0,x2:r,y2:o,w:r,h:o}},multiClickDebounceTime:function(r){return r?(this._private.multiClickDebounceTime=r,this):this._private.multiClickDebounceTime}};ai.centre=ai.center,ai.autolockNodes=ai.autolock,ai.autoungrabifyNodes=ai.autoungrabify;var bs={data:Jt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Jt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Jt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Jt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};bs.attr=bs.data,bs.removeAttr=bs.removeData;var lr=function(r){var o=this,u=(r=st({},r)).container;u&&!Zs(u)&&Zs(u[0])&&(u=u[0]);var c=u?u._cyreg:null;(c=c||{})&&c.cy&&(c.cy.destroy(),c={});var d=c.readies=c.readies||[];u&&(u._cyreg=c),c.cy=o;var f=void 0!==We&&void 0!==u&&!r.headless,p=r;p.layout=st({name:f?"grid":"null"},p.layout),p.renderer=st({name:f?"canvas":"null"},p.renderer);var g=function(E,T,x){return void 0!==T?T:void 0!==x?x:E},v=this._private={container:u,ready:!1,options:p,elements:new $n(this),listeners:[],aniEles:new $n(this),data:p.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:g(!0,p.zoomingEnabled),userZoomingEnabled:g(!0,p.userZoomingEnabled),panningEnabled:g(!0,p.panningEnabled),userPanningEnabled:g(!0,p.userPanningEnabled),boxSelectionEnabled:g(!0,p.boxSelectionEnabled),autolock:g(!1,p.autolock,p.autolockNodes),autoungrabify:g(!1,p.autoungrabify,p.autoungrabifyNodes),autounselectify:g(!1,p.autounselectify),styleEnabled:void 0===p.styleEnabled?f:p.styleEnabled,zoom:Ve(p.zoom)?p.zoom:1,pan:{x:at(p.pan)&&Ve(p.pan.x)?p.pan.x:0,y:at(p.pan)&&Ve(p.pan.y)?p.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:g(250,p.multiClickDebounceTime)};this.createEmitter(),this.selectionType(p.selectionType),this.zoomRange({min:p.minZoom,max:p.maxZoom}),v.styleEnabled&&o.setStyle([]);var w=st({},p,p.renderer);o.initRenderer(w),function(E,T){if(E.some(Rl))return cs.all(E).then(T);T(E)}([p.style,p.elements],function(C){var E=C[0],T=C[1];v.styleEnabled&&o.style().append(E),function(E,T,x){o.notifications(!1);var M=o.mutableElements();M.length>0&&M.remove(),null!=E&&(at(E)||Kt(E))&&o.add(E),o.one("layoutready",function(A){o.notifications(!0),o.emit(A),o.one("load",T),o.emitAndNotify("load")}).one("layoutstop",function(){o.one("done",x),o.emit("done")});var _=st({},o._private.options.layout);_.eles=o.elements(),o.layout(_).run()}(T,function(){o.startAnimationLoop(),v.ready=!0,Zt(p.ready)&&o.on("ready",p.ready);for(var x=0;x<d.length;x++)o.on("ready",d[x]);c&&(c.readies=[]),o.emit("ready")},p.done)})},xi=lr.prototype;st(xi,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(r){return this.isReady()?this.emitter().emit("ready",[],r):this.on("ready",r),this},destroy:function(){var r=this;if(!r.destroyed())return r.stopAnimationLoop(),r.destroyRenderer(),this.emit("destroy"),r._private.destroyed=!0,r},hasElementWithId:function(r){return this._private.elements.hasElementWithId(r)},getElementById:function(r){return this._private.elements.getElementById(r)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(r){return this._private.elements.merge(r),this},removeFromPool:function(r){return this._private.elements.unmerge(r),this},container:function(){return this._private.container||null},window:function(){if(null==this._private.container)return We;var o=this._private.container.ownerDocument;return void 0===o||null==o?We:o.defaultView||We},mount:function(r){if(null!=r){var o=this,u=o._private,c=u.options;return!Zs(r)&&Zs(r[0])&&(r=r[0]),o.stopAnimationLoop(),o.destroyRenderer(),u.container=r,u.styleEnabled=!0,o.invalidateSize(),o.initRenderer(st({},c,c.renderer,{name:"null"===c.renderer.name?"canvas":c.renderer.name})),o.startAnimationLoop(),o.style(c.style),o.emit("mount"),o}},unmount:function(){var r=this;return r.stopAnimationLoop(),r.destroyRenderer(),r.initRenderer({name:"null"}),r.emit("unmount"),r},options:function(){return An(this._private.options)},json:function(r){var o=this,u=o._private,c=o.mutableElements();if(at(r)){if(o.startBatch(),r.elements){var f={},p=function(R,F){for(var $=[],k=[],V=0;V<R.length;V++){var N=R[V];if(N.data.id){var H=""+N.data.id,U=o.getElementById(H);f[H]=!0,0!==U.length?k.push({ele:U,json:N}):(F&&(N.group=F),$.push(N))}else Dt("cy.json() cannot handle elements without an ID attribute")}o.add($);for(var L=0;L<k.length;L++){var j=k[L];j.ele.json(j.json)}};if(Kt(r.elements))p(r.elements);else for(var g=["nodes","edges"],v=0;v<g.length;v++){var m=g[v],w=r.elements[m];Kt(w)&&p(w,m)}var D=o.collection();c.filter(function(A){return!f[A.id()]}).forEach(function(A){A.isParent()?D.merge(A):A.remove()}),D.forEach(function(A){return A.children().move({parent:null})}),D.forEach(function(A){return(R=A,o.getElementById(R.id())).remove();var R})}r.style&&o.style(r.style),null!=r.zoom&&r.zoom!==u.zoom&&o.zoom(r.zoom),r.pan&&(r.pan.x!==u.pan.x||r.pan.y!==u.pan.y)&&o.pan(r.pan),r.data&&o.data(r.data);for(var C=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],E=0;E<C.length;E++){var T=C[E];null!=r[T]&&o[T](r[T])}return o.endBatch(),this}var M={};r?M.elements=this.elements().map(function(A){return A.json()}):(M.elements={},c.forEach(function(A){var R=A.group();M.elements[R]||(M.elements[R]=[]),M.elements[R].push(A.json())})),this._private.styleEnabled&&(M.style=o.style().json()),M.data=An(o.data());var _=u.options;return M.zoomingEnabled=u.zoomingEnabled,M.userZoomingEnabled=u.userZoomingEnabled,M.zoom=u.zoom,M.minZoom=u.minZoom,M.maxZoom=u.maxZoom,M.panningEnabled=u.panningEnabled,M.userPanningEnabled=u.userPanningEnabled,M.pan=An(u.pan),M.boxSelectionEnabled=u.boxSelectionEnabled,M.renderer=An(_.renderer),M.hideEdgesOnViewport=_.hideEdgesOnViewport,M.textureOnViewport=_.textureOnViewport,M.wheelSensitivity=_.wheelSensitivity,M.motionBlur=_.motionBlur,M.multiClickDebounceTime=_.multiClickDebounceTime,M}}),xi.$id=xi.getElementById,[Uf,Uv,Ua,ga,ji,Kf,ma,Tc,Pn,ai,bs].forEach(function(a){st(xi,a)});var Qf={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(r,o){return!0},ready:void 0,stop:void 0,transform:function(r,o){return o}},Au={maximal:!1,acyclic:!1},Ti=function(r){return r.scratch("breadthfirst")},Xf=function(r,o){return r.scratch("breadthfirst",o)};function jv(a){this.options=st({},Qf,Au,a)}jv.prototype.run=function(){var v,a=this.options,r=a,o=a.cy,u=r.eles,c=u.nodes().filter(function(Be){return!Be.isParent()}),d=u,f=r.directed,p=r.acyclic||r.maximal||r.maximalAdjustments>0,g=Tr(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});if(Dn(r.roots))v=r.roots;else if(Kt(r.roots)){for(var m=[],w=0;w<r.roots.length;w++){var C=o.getElementById(r.roots[w]);m.push(C)}v=o.collection(m)}else if(Le(r.roots))v=o.$(r.roots);else if(f)v=c.roots();else{var E=u.components();v=o.collection();for(var T=function(Fe){var tt=E[Fe],nt=tt.maxDegree(!1),Qe=tt.filter(function(rt){return rt.degree(!1)===nt});v=v.add(Qe)},x=0;x<E.length;x++)T(x)}var M=[],_={},A=function(Fe,tt){null==M[tt]&&(M[tt]=[]);var nt=M[tt].length;M[tt].push(Fe),Xf(Fe,{index:nt,depth:tt})};d.bfs({roots:v,directed:r.directed,visit:function(Fe,tt,nt,Qe,rt){var jt=Fe[0],Lt=jt.id();A(jt,rt),_[Lt]=!0}});for(var F=[],$=0;$<c.length;$++){var k=c[$];_[k.id()]||F.push(k)}var V=function(Fe){for(var tt=M[Fe],nt=0;nt<tt.length;nt++){var Qe=tt[nt];null!=Qe?Xf(Qe,{depth:Fe,index:nt}):(tt.splice(nt,1),nt--)}},N=function(){for(var Fe=0;Fe<M.length;Fe++)V(Fe)},H=function(Fe,tt){for(var nt=Ti(Fe),Qe=Fe.incomers().filter(function(O){return O.isNode()&&u.has(O)}),rt=-1,jt=Fe.id(),Lt=0;Lt<Qe.length;Lt++){var Nt=Ti(Qe[Lt]);rt=Math.max(rt,Nt.depth)}if(nt.depth<=rt){if(!r.acyclic&&tt[jt])return null;var re=rt+1;return function(Fe,tt){var nt=Ti(Fe);M[nt.depth][nt.index]=null,A(Fe,tt)}(Fe,re),tt[jt]=re,!0}return!1};if(f&&p){var U=[],L={},j=function(Fe){return U.push(Fe)};for(c.forEach(function(Be){return U.push(Be)});U.length>0;){var Y=U.shift(),W=H(Y,L);if(W)Y.outgoers().filter(function(Be){return Be.isNode()&&u.has(Be)}).forEach(j);else if(null===W){Dt("Detected double maximal shift for node `"+Y.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}N();var G=0;if(r.avoidOverlap)for(var Q=0;Q<c.length;Q++){var de=c[Q].layoutDimensions(r);G=Math.max(G,de.w,de.h)}var oe={},be=function(Fe){if(oe[Fe.id()])return oe[Fe.id()];for(var tt=Ti(Fe).depth,nt=Fe.neighborhood(),Qe=0,rt=0,jt=0;jt<nt.length;jt++){var Lt=nt[jt];if(!Lt.isEdge()&&!Lt.isParent()&&c.has(Lt)){var yt=Ti(Lt);if(null!=yt){var Nt=yt.index,re=yt.depth;null!=Nt&&null!=re&&re<tt&&(Qe+=Nt/M[re].length,rt++)}}}return Qe/=rt=Math.max(1,rt),0===rt&&(Qe=0),oe[Fe.id()]=Qe,Qe},me=function(Fe,tt){var rt=be(Fe)-be(tt);return 0===rt?Fl(Fe.id(),tt.id()):rt};void 0!==r.depthSort&&(me=r.depthSort);for(var De=0;De<M.length;De++)M[De].sort(me),V(De);for(var te=[],ye=0;ye<F.length;ye++)te.push(F[ye]);M.unshift(te),N();for(var _e=0,Ie=0;Ie<M.length;Ie++)_e=Math.max(M[Ie].length,_e);var ke_x=g.x1+g.w/2,ke_y=g.x1+g.h/2,Je=M.reduce(function(Be,Fe){return Math.max(Be,Fe.length)},0);return u.nodes().layoutPositions(this,r,function(Fe){var tt=Ti(Fe),nt=tt.depth,Qe=tt.index,rt=M[nt].length,jt=Math.max(g.w/((r.grid?Je:rt)+1),G),Lt=Math.max(g.h/(M.length+1),G),yt=Math.min(g.w/2/M.length,g.h/2/M.length);if(yt=Math.max(yt,G),r.circle){var re=yt*nt+yt-(M.length>0&&M[0].length<=3?yt/2:0),O=2*Math.PI/M[nt].length*Qe;return 0===nt&&1===M[0].length&&(re=1),{x:ke_x+re*Math.cos(O),y:ke_y+re*Math.sin(O)}}return{x:ke_x+(Qe+1-(rt+1)/2)*jt,y:(nt+1)*Lt}}),this};var Gv={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(r,o){return!0},ready:void 0,stop:void 0,transform:function(r,o){return o}};function qv(a){this.options=st({},Gv,a)}qv.prototype.run=function(){var a=this.options,r=a,o=a.cy,u=r.eles,c=void 0!==r.counterclockwise?!r.counterclockwise:r.clockwise,d=u.nodes().not(":parent");r.sort&&(d=d.sort(r.sort));for(var m,f=Tr(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()}),p={x:f.x1+f.w/2,y:f.y1+f.h/2},v=(void 0===r.sweep?2*Math.PI-2*Math.PI/d.length:r.sweep)/Math.max(1,d.length-1),w=0,D=0;D<d.length;D++){var E=d[D].layoutDimensions(r);w=Math.max(w,E.w,E.h)}if(m=Ve(r.radius)?r.radius:d.length<=1?0:Math.min(f.h,f.w)/2-w,d.length>1&&r.avoidOverlap){w*=1.75;var M=Math.cos(v)-Math.cos(0),_=Math.sin(v)-Math.sin(0),A=Math.sqrt(w*w/(M*M+_*_));m=Math.max(A,m)}return u.nodes().layoutPositions(this,r,function($,k){var V=r.startAngle+k*v*(c?1:-1),N=m*Math.cos(V),H=m*Math.sin(V);return{x:p.x+N,y:p.y+H}}),this};var Vr={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(r){return r.degree()},levelWidth:function(r){return r.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(r,o){return!0},ready:void 0,stop:void 0,transform:function(r,o){return o}};function Pu(a){this.options=st({},Vr,a)}Pu.prototype.run=function(){for(var a=this.options,r=a,o=void 0!==r.counterclockwise?!r.counterclockwise:r.clockwise,u=a.cy,c=r.eles,d=c.nodes().not(":parent"),f=Tr(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:u.width(),h:u.height()}),p={x:f.x1+f.w/2,y:f.y1+f.h/2},g=[],v=0,m=0;m<d.length;m++){var D,w=d[m];D=r.concentric(w),g.push({value:D,node:w}),w._private.scratch.concentric=D}d.updateStyle();for(var C=0;C<d.length;C++){var T=d[C].layoutDimensions(r);v=Math.max(v,T.w,T.h)}g.sort(function(Be,Fe){return Fe.value-Be.value});for(var x=r.levelWidth(d),M=[[]],_=M[0],A=0;A<g.length;A++){var R=g[A];_.length>0&&Math.abs(_[0].value-R.value)>=x&&M.push(_=[]),_.push(R)}var $=v+r.minNodeSpacing;if(!r.avoidOverlap){var k=M.length>0&&M[0].length>1,V=Math.min(f.w,f.h)/2-$;$=Math.min($,V/(M.length+k?1:0))}for(var H=0,U=0;U<M.length;U++){var L=M[U],j=void 0===r.sweep?2*Math.PI-2*Math.PI/L.length:r.sweep,B=L.dTheta=j/Math.max(1,L.length-1);if(L.length>1&&r.avoidOverlap){var Y=Math.cos(B)-Math.cos(0),W=Math.sin(B)-Math.sin(0),G=Math.sqrt($*$/(Y*Y+W*W));H=Math.max(G,H)}L.r=H,H+=$}if(r.equidistant){for(var Q=0,ne=0,de=0;de<M.length;de++)Q=Math.max(Q,M[de].r-ne);ne=0;for(var oe=0;oe<M.length;oe++){var be=M[oe];0===oe&&(ne=be.r),be.r=ne,ne+=Q}}for(var me={},De=0;De<M.length;De++)for(var te=M[De],ye=te.dTheta,_e=te.r,Ie=0;Ie<te.length;Ie++){var ke=te[Ie],Je=r.startAngle+(o?1:-1)*ye*Ie,Ct={x:p.x+_e*Math.cos(Je),y:p.y+_e*Math.sin(Je)};me[ke.node.id()]=Ct}return c.nodes().layoutPositions(this,r,function(Be){var Fe=Be.id();return me[Fe]}),this};var wa,d0={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(r,o){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(r){return 2048},nodeOverlap:4,idealEdgeLength:function(r){return 32},edgeElasticity:function(r){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Ds(a){this.options=st({},d0,a),this.options.layout=this;var r=this.options.eles.nodes(),u=this.options.eles.edges().filter(function(c){var d=c.source().data("id"),f=c.target().data("id"),p=r.some(function(v){return v.data("id")===d}),g=r.some(function(v){return v.data("id")===f});return!p||!g});this.options.eles=this.options.eles.not(u)}Ds.prototype.run=function(){var a=this.options,r=a.cy,o=this;o.stopped=!1,(!0===a.animate||!1===a.animate)&&o.emit({type:"layoutstart",layout:o}),wa=!0===a.debug;var u=Wv(r,o,a);wa&&(void 0)(u),a.randomize&&Qv(u);var c=ki(),d=function(){_c(u,r,a),!0===a.fit&&r.fit(a.padding)},f=function(D){return!(o.stopped||D>=a.numIter||(Ru(u,a),u.temperature=u.temperature*a.coolingFactor,u.temperature<a.minTemp))},p=function(){if(!0===a.animate||!1===a.animate)d(),o.one("layoutstop",a.stop),o.emit({type:"layoutstop",layout:o});else{var D=a.eles.nodes(),C=Jf(u,a,D);D.layoutPositions(o,a,C)}},g=0,v=!0;if(!0===a.animate)!function w(){for(var D=0;v&&D<a.refresh;)v=f(g),g++,D++;v?(ki()-c>=a.animationThreshold&&d(),Qs(w)):(ja(u,a),p())}();else{for(;v;)v=f(g),g++;ja(u,a),p()}return this},Ds.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Ds.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Wv=function(r,o,u){for(var c=u.eles.edges(),d=u.eles.nodes(),f=Tr(u.boundingBox?u.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),p={isCompound:r.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:d.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:c.size(),temperature:u.initialTemp,clientWidth:f.w,clientHeight:f.h,boundingBox:f},g=u.eles.components(),v={},m=0;m<g.length;m++)for(var w=g[m],D=0;D<w.length;D++)v[w[D].id()]=m;for(m=0;m<p.nodeSize;m++){var T=(E=d[m]).layoutDimensions(u);(x={}).isLocked=E.locked(),x.id=E.data("id"),x.parentId=E.data("parent"),x.cmptId=v[E.id()],x.children=[],x.positionX=E.position("x"),x.positionY=E.position("y"),x.offsetX=0,x.offsetY=0,x.height=T.w,x.width=T.h,x.maxX=x.positionX+x.width/2,x.minX=x.positionX-x.width/2,x.maxY=x.positionY+x.height/2,x.minY=x.positionY-x.height/2,x.padLeft=parseFloat(E.style("padding")),x.padRight=parseFloat(E.style("padding")),x.padTop=parseFloat(E.style("padding")),x.padBottom=parseFloat(E.style("padding")),x.nodeRepulsion=Zt(u.nodeRepulsion)?u.nodeRepulsion(E):u.nodeRepulsion,p.layoutNodes.push(x),p.idToIndex[x.id]=m}var M=[],_=0,A=-1,R=[];for(m=0;m<p.nodeSize;m++){var E,F=(E=p.layoutNodes[m]).parentId;null!=F?p.layoutNodes[p.idToIndex[F]].children.push(E.id):(M[++A]=E.id,R.push(E.id))}for(p.graphSet.push(R);_<=A;){var $=M[_++],V=p.layoutNodes[p.idToIndex[$]].children;if(V.length>0)for(p.graphSet.push(V),m=0;m<V.length;m++)M[++A]=V[m]}for(m=0;m<p.graphSet.length;m++){var N=p.graphSet[m];for(D=0;D<N.length;D++)p.indexToGraph[p.idToIndex[N[D]]]=m}for(m=0;m<p.edgeSize;m++){var U=c[m],L={};L.id=U.data("id"),L.sourceId=U.data("source"),L.targetId=U.data("target");var j=Zt(u.idealEdgeLength)?u.idealEdgeLength(U):u.idealEdgeLength,B=Zt(u.edgeElasticity)?u.edgeElasticity(U):u.edgeElasticity,Y=p.idToIndex[L.sourceId],W=p.idToIndex[L.targetId];if(p.indexToGraph[Y]!=p.indexToGraph[W]){for(var ne=Kv(L.sourceId,L.targetId,p),de=p.graphSet[ne],X=0,x=p.layoutNodes[Y];-1===de.indexOf(x.id);)x=p.layoutNodes[p.idToIndex[x.parentId]],X++;for(x=p.layoutNodes[W];-1===de.indexOf(x.id);)x=p.layoutNodes[p.idToIndex[x.parentId]],X++;j*=X*u.nestingFactor}L.idealLength=j,L.elasticity=B,p.layoutEdges.push(L)}return p},Kv=function(r,o,u){var c=Yv(r,o,0,u);return 2>c.count?0:c.graph},Yv=function a(r,o,u,c){var d=c.graphSet[u];if(-1<d.indexOf(r)&&-1<d.indexOf(o))return{count:2,graph:u};for(var f=0,p=0;p<d.length;p++){var m=c.layoutNodes[c.idToIndex[d[p]]].children;if(0!==m.length){var D=a(r,o,c.indexToGraph[c.idToIndex[m[0]]],c);if(0!==D.count){if(1!==D.count)return D;if(2==++f)break}}}return{count:f,graph:u}},Qv=function(r,o){for(var u=r.clientWidth,c=r.clientHeight,d=0;d<r.nodeSize;d++){var f=r.layoutNodes[d];0===f.children.length&&!f.isLocked&&(f.positionX=Math.random()*u,f.positionY=Math.random()*c)}},Jf=function(r,o,u){var c=r.boundingBox,d={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return o.boundingBox&&(u.forEach(function(f){var p=r.layoutNodes[r.idToIndex[f.data("id")]];d.x1=Math.min(d.x1,p.positionX),d.x2=Math.max(d.x2,p.positionX),d.y1=Math.min(d.y1,p.positionY),d.y2=Math.max(d.y2,p.positionY)}),d.w=d.x2-d.x1,d.h=d.y2-d.y1),function(f,p){var g=r.layoutNodes[r.idToIndex[f.data("id")]];return o.boundingBox?{x:c.x1+(g.positionX-d.x1)/d.w*c.w,y:c.y1+(g.positionY-d.y1)/d.h*c.h}:{x:g.positionX,y:g.positionY}}},_c=function(r,o,u){var c=u.layout,d=u.eles.nodes(),f=Jf(r,u,d);d.positions(f),!0!==r.ready&&(r.ready=!0,c.one("layoutready",u.ready),c.emit({type:"layoutready",layout:this}))},Ru=function(r,o,u){Ac(r,o),th(r),Cs(r,o),Nu(r),nh(r)},Ac=function(r,o){for(var u=0;u<r.graphSet.length;u++)for(var c=r.graphSet[u],d=c.length,f=0;f<d;f++)for(var p=r.layoutNodes[r.idToIndex[c[f]]],g=f+1;g<d;g++)eh(p,r.layoutNodes[r.idToIndex[c[g]]],r,o)},Fo=function(r){return-r+2*r*Math.random()},eh=function(r,o,u,c){if(r.cmptId===o.cmptId||u.isCompound){var p=o.positionX-r.positionX,g=o.positionY-r.positionY;0===p&&0===g&&(p=Fo(1),g=Fo(1));var m=Es(r,o,p,g);if(m>0)var C=(w=c.nodeOverlap*m)*p/(D=Math.sqrt(p*p+g*g)),E=w*g/D;else{var w,T=ku(r,p,g),x=ku(o,-1*p,-1*g),M=x.x-T.x,_=x.y-T.y,A=M*M+_*_,D=Math.sqrt(A);C=(w=(r.nodeRepulsion+o.nodeRepulsion)/A)*M/D,E=w*_/D}r.isLocked||(r.offsetX-=C,r.offsetY-=E),o.isLocked||(o.offsetX+=C,o.offsetY+=E)}},Es=function(r,o,u,c){if(u>0)var d=r.maxX-o.minX;else d=o.maxX-r.minX;if(c>0)var f=r.maxY-o.minY;else f=o.maxY-r.minY;return d>=0&&f>=0?Math.sqrt(d*d+f*f):0},ku=function(r,o,u){var c=r.positionX,d=r.positionY,f=r.height||1,p=r.width||1,g=u/o,v=f/p,m={};return 0===o&&0<u||0===o&&0>u?(m.x=c,m.y=d+f/2,m):0<o&&-1*v<=g&&g<=v?(m.x=c+p/2,m.y=d+p*u/2/o,m):0>o&&-1*v<=g&&g<=v?(m.x=c-p/2,m.y=d-p*u/2/o,m):0<u&&(g<=-1*v||g>=v)?(m.x=c+f*o/2/u,m.y=d+f/2,m):(0>u&&(g<=-1*v||g>=v)&&(m.x=c-f*o/2/u,m.y=d-f/2),m)},th=function(r,o){for(var u=0;u<r.edgeSize;u++){var c=r.layoutEdges[u],f=r.layoutNodes[r.idToIndex[c.sourceId]],g=r.layoutNodes[r.idToIndex[c.targetId]],v=g.positionX-f.positionX,m=g.positionY-f.positionY;if(0!==v||0!==m){var w=ku(f,v,m),D=ku(g,-1*v,-1*m),C=D.x-w.x,E=D.y-w.y,T=Math.sqrt(C*C+E*E),x=Math.pow(c.idealLength-T,2)/c.elasticity;if(0!==T)var M=x*C/T,_=x*E/T;else M=0,_=0;f.isLocked||(f.offsetX+=M,f.offsetY+=_),g.isLocked||(g.offsetX-=M,g.offsetY-=_)}}},Cs=function(r,o){if(0!==o.gravity)for(var c=0;c<r.graphSet.length;c++){var d=r.graphSet[c],f=d.length;if(0===c)var p=r.clientHeight/2,g=r.clientWidth/2;else{var m=r.layoutNodes[r.idToIndex[r.layoutNodes[r.idToIndex[d[0]]].parentId]];p=m.positionX,g=m.positionY}for(var w=0;w<f;w++){var D=r.layoutNodes[r.idToIndex[d[w]]];if(!D.isLocked){var C=p-D.positionX,E=g-D.positionY,T=Math.sqrt(C*C+E*E);if(T>1){var M=o.gravity*E/T;D.offsetX+=o.gravity*C/T,D.offsetY+=M}}}}},Nu=function(r,o){var u=[],c=0,d=-1;for(u.push.apply(u,r.graphSet[0]),d+=r.graphSet[0].length;c<=d;){var f=u[c++],g=r.layoutNodes[r.idToIndex[f]],v=g.children;if(0<v.length&&!g.isLocked){for(var m=g.offsetX,w=g.offsetY,D=0;D<v.length;D++){var C=r.layoutNodes[r.idToIndex[v[D]]];C.offsetX+=m,C.offsetY+=w,u[++d]=v[D]}g.offsetX=0,g.offsetY=0}}},nh=function(r,o){for(var u=0;u<r.nodeSize;u++)0<(c=r.layoutNodes[u]).children.length&&(c.maxX=void 0,c.minX=void 0,c.maxY=void 0,c.minY=void 0);for(u=0;u<r.nodeSize;u++)if(!(0<(c=r.layoutNodes[u]).children.length||c.isLocked)){var d=Xv(c.offsetX,c.offsetY,r.temperature);c.positionX+=d.x,c.positionY+=d.y,c.offsetX=0,c.offsetY=0,c.minX=c.positionX-c.width,c.maxX=c.positionX+c.width,c.minY=c.positionY-c.height,c.maxY=c.positionY+c.height,Jv(c,r)}for(u=0;u<r.nodeSize;u++){var c;0<(c=r.layoutNodes[u]).children.length&&!c.isLocked&&(c.positionX=(c.maxX+c.minX)/2,c.positionY=(c.maxY+c.minY)/2,c.width=c.maxX-c.minX,c.height=c.maxY-c.minY)}},Xv=function(r,o,u){var c=Math.sqrt(r*r+o*o);if(c>u)var d={x:u*r/c,y:u*o/c};else d={x:r,y:o};return d},Jv=function a(r,o){var u=r.parentId;if(null!=u){var c=o.layoutNodes[o.idToIndex[u]],d=!1;if((null==c.maxX||r.maxX+c.padRight>c.maxX)&&(c.maxX=r.maxX+c.padRight,d=!0),(null==c.minX||r.minX-c.padLeft<c.minX)&&(c.minX=r.minX-c.padLeft,d=!0),(null==c.maxY||r.maxY+c.padBottom>c.maxY)&&(c.maxY=r.maxY+c.padBottom,d=!0),(null==c.minY||r.minY-c.padTop<c.minY)&&(c.minY=r.minY-c.padTop,d=!0),d)return a(c,o)}},ja=function(r,o){for(var u=r.layoutNodes,c=[],d=0;d<u.length;d++){var f=u[d],p=f.cmptId;(c[p]=c[p]||[]).push(f)}var v=0;for(d=0;d<c.length;d++)if(m=c[d]){m.x1=1/0,m.x2=-1/0,m.y1=1/0,m.y2=-1/0;for(var w=0;w<m.length;w++){var D=m[w];m.x1=Math.min(m.x1,D.positionX-D.width/2),m.x2=Math.max(m.x2,D.positionX+D.width/2),m.y1=Math.min(m.y1,D.positionY-D.height/2),m.y2=Math.max(m.y2,D.positionY+D.height/2)}m.w=m.x2-m.x1,m.h=m.y2-m.y1,v+=m.w*m.h}c.sort(function(_,A){return A.w*A.h-_.w*_.h});var C=0,E=0,T=0,x=0,M=Math.sqrt(v)*r.clientWidth/r.clientHeight;for(d=0;d<c.length;d++){var m;if(m=c[d]){for(w=0;w<m.length;w++)(D=m[w]).isLocked||(D.positionX+=C-m.x1,D.positionY+=E-m.y1);C+=m.w+o.componentSpacing,T+=m.w+o.componentSpacing,x=Math.max(x,m.h),T>M&&(E+=x+o.componentSpacing,C=0,T=0,x=0)}}},Ss={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(r){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(r,o){return!0},ready:void 0,stop:void 0,transform:function(r,o){return o}};function rh(a){this.options=st({},Ss,a)}rh.prototype.run=function(){var a=this.options,r=a,o=a.cy,u=r.eles,c=u.nodes().not(":parent");r.sort&&(c=c.sort(r.sort));var d=Tr(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});if(0===d.h||0===d.w)u.nodes().layoutPositions(this,r,function(oe){return{x:d.x1,y:d.y1}});else{var f=c.size(),p=Math.sqrt(f*d.h/d.w),g=Math.round(p),v=Math.round(d.w/d.h*p),m=function(be){if(null==be)return Math.min(g,v);Math.min(g,v)==g?g=be:v=be},w=function(be){if(null==be)return Math.max(g,v);Math.max(g,v)==g?g=be:v=be},D=r.rows,C=null!=r.cols?r.cols:r.columns;if(null!=D&&null!=C)g=D,v=C;else if(null!=D&&null==C)g=D,v=Math.ceil(f/g);else if(null==D&&null!=C)v=C,g=Math.ceil(f/v);else if(v*g>f){var E=m(),T=w();(E-1)*T>=f?m(E-1):(T-1)*E>=f&&w(T-1)}else for(;v*g<f;){var x=m(),M=w();(M+1)*x>=f?w(M+1):m(x+1)}var _=d.w/v,A=d.h/g;if(r.condense&&(_=0,A=0),r.avoidOverlap)for(var R=0;R<c.length;R++){var F=c[R],$=F._private.position;(null==$.x||null==$.y)&&($.x=0,$.y=0);var k=F.layoutDimensions(r),V=r.avoidOverlapPadding,H=k.h+V;_=Math.max(_,k.w+V),A=Math.max(A,H)}for(var U={},L=function(be,me){return!!U["c-"+be+"-"+me]},j=function(be,me){U["c-"+be+"-"+me]=!0},B=0,Y=0,W=function(){++Y>=v&&(Y=0,B++)},G={},Q=0;Q<c.length;Q++){var ne=c[Q],de=r.position(ne);if(de&&(void 0!==de.row||void 0!==de.col)){var X={row:de.row,col:de.col};if(void 0===X.col)for(X.col=0;L(X.row,X.col);)X.col++;else if(void 0===X.row)for(X.row=0;L(X.row,X.col);)X.row++;G[ne.id()]=X,j(X.row,X.col)}}c.layoutPositions(this,r,function(be,me){var De,te;if(be.locked()||be.isParent())return!1;var ye=G[be.id()];if(ye)De=ye.col*_+_/2+d.x1,te=ye.row*A+A/2+d.y1;else{for(;L(B,Y);)W();De=Y*_+_/2+d.x1,te=B*A+A/2+d.y1,j(B,Y),W()}return{x:De,y:te}})}return this};var f0={ready:function(){},stop:function(){}};function Ou(a){this.options=st({},f0,a)}Ou.prototype.run=function(){var a=this.options,r=a.eles,o=this;return o.emit("layoutstart"),r.nodes().positions(function(){return{x:0,y:0}}),o.one("layoutready",a.ready),o.emit("layoutready"),o.one("layoutstop",a.stop),o.emit("layoutstop"),this},Ou.prototype.stop=function(){return this};var eg={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(r,o){return!0},ready:void 0,stop:void 0,transform:function(r,o){return o}};function tg(a){this.options=st({},eg,a)}tg.prototype.run=function(){var a=this.options,o=a.eles.nodes(),u=Zt(a.positions);return o.layoutPositions(this,a,function(d,f){var p=function c(d){return null==a.positions?function(r){return{x:r.x,y:r.y}}(d.position()):u?a.positions(d):a.positions[d._private.data.id]??null}(d);return!d.locked()&&null!=p&&p}),this};var ng={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(r,o){return!0},ready:void 0,stop:void 0,transform:function(r,o){return o}};function ih(a){this.options=st({},ng,a)}ih.prototype.run=function(){var a=this.options,r=a.cy,o=a.eles,u=Tr(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});return o.nodes().layoutPositions(this,a,function(f,p){return{x:u.x1+Math.round(Math.random()*u.w),y:u.y1+Math.round(Math.random()*u.h)}}),this};var rg=[{name:"breadthfirst",impl:jv},{name:"circle",impl:qv},{name:"concentric",impl:Pu},{name:"cose",impl:Ds},{name:"grid",impl:rh},{name:"null",impl:Ou},{name:"preset",impl:tg},{name:"random",impl:ih}];function xs(a){this.options=a,this.notifications=0}var Pc=function(){},ah=function(){throw new Error("A headless instance can not render images")};xs.prototype={recalculateRenderedStyle:Pc,notify:function(){this.notifications++},init:Pc,isHeadless:function(){return!0},png:ah,jpg:ah};var Lu={arrowShapeWidth:.3,registerArrowShapes:function(){var a=this.arrowShapes={},r=this,o=function(v,m,w,D,C,E,T){return C.x-w/2-T<=v&&v<=C.x+w/2+T&&C.y-w/2-T<=m&&m<=C.y+w/2+T},u=function(v,m,w,D,C){var E=v*Math.cos(D)-m*Math.sin(D),T=v*Math.sin(D)+m*Math.cos(D);return{x:E*w+C.x,y:T*w+C.y}},c=function(v,m,w,D){for(var C=[],E=0;E<v.length;E+=2)C.push(u(v[E],v[E+1],m,w,D));return C},d=function(v){for(var m=[],w=0;w<v.length;w++){var D=v[w];m.push(D.x,D.y)}return m},f=function(v){return v.pstyle("width").pfValue*v.pstyle("arrow-scale").pfValue*2},p=function(v,m){Le(m)&&(m=a[m]),a[v]=st({name:v,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(D,C,E,T,x,M){var _=d(c(this.points,E+2*M,T,x));return rr(D,C,_)},roughCollide:o,draw:function(D,C,E,T){var x=c(this.points,C,E,T);r.arrowShapeImpl("polygon")(D,x)},spacing:function(D){return 0},gap:f},m)};p("none",{collide:Jo,roughCollide:Jo,draw:Hl,spacing:Gd,gap:Gd}),p("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),p("arrow","triangle"),p("triangle-backcurve",{points:a.triangle.points,controlPoint:[0,-.15],roughCollide:o,draw:function(v,m,w,D,C){var E=c(this.points,m,w,D),T=this.controlPoint,x=u(T[0],T[1],m,w,D);r.arrowShapeImpl(this.name)(v,E,x)},gap:function(v){return.8*f(v)}}),p("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(v,m,w,D,C,E,T){var x=d(c(this.points,w+2*T,D,C)),M=d(c(this.pointsTee,w+2*T,D,C));return rr(v,m,x)||rr(v,m,M)},draw:function(v,m,w,D,C){var E=c(this.points,m,w,D),T=c(this.pointsTee,m,w,D);r.arrowShapeImpl(this.name)(v,E,T)}}),p("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(v,m,w,D,C,E,T){var x=C,M=Math.pow(x.x-v,2)+Math.pow(x.y-m,2)<=Math.pow((w+2*T)*this.radius,2),_=d(c(this.points,w+2*T,D,C));return rr(v,m,_)||M},draw:function(v,m,w,D,C){var E=c(this.pointsTr,m,w,D);r.arrowShapeImpl(this.name)(v,E,D.x,D.y,this.radius*m)},spacing:function(v){return r.getArrowWidth(v.pstyle("width").pfValue,v.pstyle("arrow-scale").value)*this.radius}}),p("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(v,m){var w=this.baseCrossLinePts.slice(),D=m/v;return w[3]=w[3]-D,w[5]=w[5]-D,w},collide:function(v,m,w,D,C,E,T){var x=d(c(this.points,w+2*T,D,C)),M=d(c(this.crossLinePts(w,E),w+2*T,D,C));return rr(v,m,x)||rr(v,m,M)},draw:function(v,m,w,D,C){var E=c(this.points,m,w,D),T=c(this.crossLinePts(m,C),m,w,D);r.arrowShapeImpl(this.name)(v,E,T)}}),p("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(v){return.525*f(v)}}),p("circle",{radius:.15,collide:function(v,m,w,D,C,E,T){var x=C;return Math.pow(x.x-v,2)+Math.pow(x.y-m,2)<=Math.pow((w+2*T)*this.radius,2)},draw:function(v,m,w,D,C){r.arrowShapeImpl(this.name)(v,D.x,D.y,this.radius*m)},spacing:function(v){return r.getArrowWidth(v.pstyle("width").pfValue,v.pstyle("arrow-scale").value)*this.radius}}),p("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(v){return 1},gap:function(v){return 1}}),p("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),p("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(v){return v.pstyle("width").pfValue*v.pstyle("arrow-scale").value}}),p("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(v){return.95*v.pstyle("width").pfValue*v.pstyle("arrow-scale").value}})}},Bo={projectIntoViewport:function(a,r){var o=this.cy,u=this.findContainerClientCoords(),c=u[0],d=u[1],f=u[4],p=o.pan(),g=o.zoom();return[((a-c)/f-p.x)/g,((r-d)/f-p.y)/g]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var a=this.container,r=a.getBoundingClientRect(),o=this.cy.window().getComputedStyle(a),u=function(M){return parseFloat(o.getPropertyValue(M))},c_left=u("padding-left"),c_right=u("padding-right"),c_top=u("padding-top"),c_bottom=u("padding-bottom"),d_left=u("border-left-width"),d_right=u("border-right-width"),d_top=u("border-top-width"),f=(u("border-bottom-width"),a.clientWidth);return this.containerBB=[r.left+c_left+d_left,r.top+c_top+d_top,f-(c_left+c_right),a.clientHeight-(c_top+c_bottom),r.width/(f+(d_left+d_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(a,r,o,u){return this.findNearestElements(a,r,o,u)[0]},findNearestElements:function(a,r,o,u){var E,T,c=this,d=this,f=d.getCachedZSortedEles(),p=[],g=d.cy.zoom(),v=d.cy.hasCompoundNodes(),m=(u?24:8)/g,w=(u?8:2)/g,D=(u?8:2)/g,C=1/0;function x(k,V){if(k.isNode()){if(T)return;T=k,p.push(k)}if(k.isEdge()&&(null==V||V<C))if(E){if(E.pstyle("z-compound-depth").value===k.pstyle("z-compound-depth").value&&E.pstyle("z-compound-depth").value===k.pstyle("z-compound-depth").value)for(var N=0;N<p.length;N++)if(p[N].isEdge()){p[N]=k,E=k,C=V??C;break}}else p.push(k),E=k,C=V??C}function M(k){var V=k.outerWidth()+2*w,N=k.outerHeight()+2*w,H=V/2,U=N/2,L=k.position();if(L.x-H<=a&&a<=L.x+H&&L.y-U<=r&&r<=L.y+U&&d.nodeShapes[c.getNodeShape(k)].checkPoint(a,r,0,V,N,L.x,L.y))return x(k,0),!0}function _(k){var Y,V=k._private,N=V.rscratch,H=k.pstyle("width").pfValue,U=k.pstyle("arrow-scale").value,L=H/2+m,j=L*L,B=2*L,Q=V.source,ne=V.target;if("segments"===N.edgeType||"straight"===N.edgeType||"haystack"===N.edgeType){for(var W=N.allpts,G=0;G+3<W.length;G+=2)if(Jd(a,r,W[G],W[G+1],W[G+2],W[G+3],B)&&j>(Y=dt(a,r,W[G],W[G+1],W[G+2],W[G+3])))return x(k,Y),!0}else if("bezier"===N.edgeType||"multibezier"===N.edgeType||"self"===N.edgeType||"compound"===N.edgeType)for(W=N.allpts,G=0;G+5<N.allpts.length;G+=4)if(iu(a,r,W[G],W[G+1],W[G+2],W[G+3],W[G+4],W[G+5],B)&&j>(Y=bv(a,r,W[G],W[G+1],W[G+2],W[G+3],W[G+4],W[G+5])))return x(k,Y),!0;Q=Q||V.source,ne=ne||V.target;var de=c.getArrowWidth(H,U),X=[{name:"source",x:N.arrowStartX,y:N.arrowStartY,angle:N.srcArrowAngle},{name:"target",x:N.arrowEndX,y:N.arrowEndY,angle:N.tgtArrowAngle},{name:"mid-source",x:N.midX,y:N.midY,angle:N.midsrcArrowAngle},{name:"mid-target",x:N.midX,y:N.midY,angle:N.midtgtArrowAngle}];for(G=0;G<X.length;G++){var ue=X[G],oe=d.arrowShapes[k.pstyle(ue.name+"-arrow-shape").value],be=k.pstyle("width").pfValue;if(oe.roughCollide(a,r,de,ue.angle,{x:ue.x,y:ue.y},be,m)&&oe.collide(a,r,de,ue.angle,{x:ue.x,y:ue.y},be,m))return x(k),!0}v&&p.length>0&&(M(Q),M(ne))}function A(k,V,N){return Wr(k,V,N)}function R(k,V){var U,N=k._private,H=D;U=V?V+"-":"",k.boundingBox();var L=N.labelBounds[V||"main"],j=k.pstyle(U+"label").value;if("yes"===k.pstyle("text-events").strValue&&j){var Y=A(N.rscratch,"labelX",V),W=A(N.rscratch,"labelY",V),G=A(N.rscratch,"labelAngle",V),Q=k.pstyle(U+"text-margin-x").pfValue,ne=k.pstyle(U+"text-margin-y").pfValue,de=L.x1-H-Q,X=L.x2+H-Q,ue=L.y1-H-ne,oe=L.y2+H-ne;if(G){var be=Math.cos(G),me=Math.sin(G),De=function(Ct,Be){return{x:(Ct-=Y)*be-(Be-=W)*me+Y,y:Ct*me+Be*be+W}},te=De(de,ue),ye=De(de,oe),_e=De(X,ue),Ie=De(X,oe);if(rr(a,r,[te.x+Q,te.y+ne,_e.x+Q,_e.y+ne,Ie.x+Q,Ie.y+ne,ye.x+Q,ye.y+ne]))return x(k),!0}else if(Oi(L,a,r))return x(k),!0}}o&&(f=f.interactive);for(var F=f.length-1;F>=0;F--){var $=f[F];$.isNode()?M($)||R($):_($)||R($)||R($,"source")||R($,"target")}return p},getAllInBox:function(a,r,o,u){for(var c=this.getCachedZSortedEles().interactive,d=[],f=Math.min(a,o),p=Math.max(a,o),g=Math.min(r,u),v=Math.max(r,u),m=Tr({x1:a=f,y1:r=g,x2:o=p,y2:u=v}),w=0;w<c.length;w++){var D=c[w];if(D.isNode()){var C=D,E=C.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});vi(m,E)&&!Jl(E,m)&&d.push(C)}else{var T=D,x=T._private,M=x.rscratch;if(null!=M.startX&&null!=M.startY&&!Oi(m,M.startX,M.startY)||null!=M.endX&&null!=M.endY&&!Oi(m,M.endX,M.endY))continue;if("bezier"===M.edgeType||"multibezier"===M.edgeType||"self"===M.edgeType||"compound"===M.edgeType||"segments"===M.edgeType||"haystack"===M.edgeType){for(var _=x.rstyle.bezierPts||x.rstyle.linePts||x.rstyle.haystackPts,A=!0,R=0;R<_.length;R++)if(!wv(m,_[R])){A=!1;break}A&&d.push(T)}else("haystack"===M.edgeType||"straight"===M.edgeType)&&d.push(T)}}return d}},Ts={calculateArrowAngles:function(a){var g,v,m,w,D,C,r=a._private.rscratch,o="haystack"===r.edgeType,u="bezier"===r.edgeType,c="multibezier"===r.edgeType,d="segments"===r.edgeType,f="compound"===r.edgeType,p="self"===r.edgeType;o?(m=r.haystackPts[0],w=r.haystackPts[1],D=r.haystackPts[2],C=r.haystackPts[3]):(m=r.arrowStartX,w=r.arrowStartY,D=r.arrowEndX,C=r.arrowEndY),M=r.midX,_=r.midY,d?(g=m-r.segpts[0],v=w-r.segpts[1]):c||f||p||u?(g=m-Wn((E=r.allpts)[0],E[2],E[4],.1),v=w-Wn(E[1],E[3],E[5],.1)):(g=m-M,v=w-_),r.srcArrowAngle=Zl(g,v);var M=r.midX,_=r.midY;if(o&&(M=(m+D)/2,_=(w+C)/2),g=D-m,v=C-w,d)if((E=r.allpts).length/2%2==0)g=E[A=E.length/2]-E[R=A-2],v=E[A+1]-E[R+1];else{var A,R,F=2+(A=E.length/2-1);g=E[A]-E[R=A-2],v=E[A+1]-E[R+1]}else if(c||f||p){var k,V,N,H,L,U,j,E=r.allpts;r.ctrlpts.length/2%2==0?(k=Wn(E[U=E.length/2-1],E[L=U+2],E[j=L+2],0),V=Wn(E[U+1],E[L+1],E[j+1],0),N=Wn(E[U],E[L],E[j],1e-4),H=Wn(E[U+1],E[L+1],E[j+1],1e-4)):(k=Wn(E[U=(L=E.length/2-1)-2],E[L],E[j=L+2],.4999),V=Wn(E[U+1],E[L+1],E[j+1],.4999),N=Wn(E[U],E[L],E[j],.5),H=Wn(E[U+1],E[L+1],E[j+1],.5)),g=N-k,v=H-V}if(r.midtgtArrowAngle=Zl(g,v),r.midDispX=g,r.midDispY=v,g*=-1,v*=-1,d&&(E=r.allpts).length/2%2!=0&&(g=-(E[F=2+(A=E.length/2-1)]-E[A]),v=-(E[F+1]-E[A+1])),r.midsrcArrowAngle=Zl(g,v),d)g=D-r.segpts[r.segpts.length-2],v=C-r.segpts[r.segpts.length-1];else if(c||f||p||u){var B=(E=r.allpts).length;g=D-Wn(E[B-6],E[B-4],E[B-2],.9),v=C-Wn(E[B-5],E[B-3],E[B-1],.9)}else g=D-M,v=C-_;r.tgtArrowAngle=Zl(g,v)}};Ts.getArrowWidth=Ts.getArrowHeight=function(a,r){var o=this.arrowWidthCache=this.arrowWidthCache||{},u=o[a+", "+r];return u||(u=Math.max(Math.pow(13.37*a,.9),29)*r,o[a+", "+r]=u,u)};var Dr={};function oh(a){var r=[];if(null!=a){for(var o=0;o<a.length;o+=2)r.push({x:a[o],y:a[o+1]});return r}}Dr.findMidptPtsEtc=function(a,r){var d,N,H,U,o=r.posPts,u=r.intersectionPts,c=r.vectorNormInverse,f=a.pstyle("source-endpoint"),p=a.pstyle("target-endpoint"),g=null!=f.units&&null!=p.units;switch(a.pstyle("edge-distances").value){case"node-position":d=o;break;case"intersection":d=u;break;case"endpoints":if(g){var D=Tt(this.manualEndptToPx(a.source()[0],f),2),C=D[0],E=D[1],x=Tt(this.manualEndptToPx(a.target()[0],p),2),M=x[0],_=x[1],A={x1:C,y1:E,x2:M,y2:_};H=M-C,c={x:-(N=_-E)/(U=Math.sqrt(H*H+N*N)),y:H/U},d=A}else Dt("Edge ".concat(a.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),d=u}return{midptPts:d,vectorNormInverse:c}},Dr.findHaystackPoints=function(a){for(var r=0;r<a.length;r++){var o=a[r],u=o._private,c=u.rscratch;if(!c.haystack){var d=2*Math.random()*Math.PI;c.source={x:Math.cos(d),y:Math.sin(d)},d=2*Math.random()*Math.PI,c.target={x:Math.cos(d),y:Math.sin(d)}}var f=u.source,p=u.target,g=f.position(),v=p.position(),m=f.width(),w=p.width(),D=f.height(),C=p.height(),T=o.pstyle("haystack-radius").value/2;c.haystackPts=c.allpts=[c.source.x*m*T+g.x,c.source.y*D*T+g.y,c.target.x*w*T+v.x,c.target.y*C*T+v.y],c.midX=(c.allpts[0]+c.allpts[2])/2,c.midY=(c.allpts[1]+c.allpts[3])/2,c.edgeType="haystack",c.haystack=!0,this.storeEdgeProjections(o),this.calculateArrowAngles(o),this.recalculateEdgeLabelProjections(o),this.calculateLabelAngles(o)}},Dr.findSegmentsPoints=function(a,r){var o=a._private.rscratch,u=a.pstyle("segment-weights"),c=a.pstyle("segment-distances"),d=Math.min(u.pfValue.length,c.pfValue.length);o.edgeType="segments",o.segpts=[];for(var f=0;f<d;f++){var p=u.pfValue[f],g=c.pfValue[f],v=1-p,m=p,w=this.findMidptPtsEtc(a,r),D=w.midptPts,C=w.vectorNormInverse,E={x:D.x1*v+D.x2*m,y:D.y1*v+D.y2*m};o.segpts.push(E.x+C.x*g,E.y+C.y*g)}},Dr.findLoopPoints=function(a,r,o,u){var c=a._private.rscratch,d=r.dirCounts,f=r.srcPos,p=a.pstyle("control-point-distances"),g=p?p.pfValue[0]:void 0,v=a.pstyle("loop-direction").pfValue,m=a.pstyle("loop-sweep").pfValue,w=a.pstyle("control-point-step-size").pfValue;c.edgeType="self";var D=o,C=w;u&&(D=0,C=g);var E=v-Math.PI/2,T=E-m/2,x=E+m/2,M=String(v+"_"+m);D=void 0===d[M]?d[M]=0:++d[M],c.ctrlpts=[f.x+1.4*Math.cos(T)*C*(D/3+1),f.y+1.4*Math.sin(T)*C*(D/3+1),f.x+1.4*Math.cos(x)*C*(D/3+1),f.y+1.4*Math.sin(x)*C*(D/3+1)]},Dr.findCompoundLoopPoints=function(a,r,o,u){var c=a._private.rscratch;c.edgeType="compound";var d=r.srcPos,f=r.tgtPos,p=r.srcW,g=r.srcH,v=r.tgtW,m=r.tgtH,w=a.pstyle("control-point-step-size").pfValue,D=a.pstyle("control-point-distances"),E=o,T=w;u&&(E=0,T=D?D.pfValue[0]:void 0);var M={x:d.x-p/2,y:d.y-g/2},_={x:f.x-v/2,y:f.y-m/2},A={x:Math.min(M.x,_.x),y:Math.min(M.y,_.y)},F=Math.max(.5,Math.log(.01*p)),$=Math.max(.5,Math.log(.01*v));c.ctrlpts=[A.x,A.y-(1+Math.pow(50,1.12)/100)*T*(E/3+1)*F,A.x-(1+Math.pow(50,1.12)/100)*T*(E/3+1)*$,A.y]},Dr.findStraightEdgePoints=function(a){a._private.rscratch.edgeType="straight"},Dr.findBezierPoints=function(a,r,o,u,c){var d=a._private.rscratch,f=a.pstyle("control-point-step-size").pfValue,p=a.pstyle("control-point-distances"),g=a.pstyle("control-point-weights"),v=p&&g?Math.min(p.value.length,g.value.length):1,m=p?p.pfValue[0]:void 0,w=g.value[0],D=u;d.edgeType=D?"multibezier":"bezier",d.ctrlpts=[];for(var C=0;C<v;C++){var T,E=(.5-r.eles.length/2+o)*f*(c?-1:1),x=vv(E);D&&(m=p?p.pfValue[C]:f,w=g.value[C]);var M=void 0!==(T=u?m:void 0!==m?x*m:void 0)?T:E,_=1-w,A=w,R=this.findMidptPtsEtc(a,r),F=R.midptPts,$=R.vectorNormInverse,k={x:F.x1*_+F.x2*A,y:F.y1*_+F.y2*A};d.ctrlpts.push(k.x+$.x*M,k.y+$.y*M)}},Dr.findTaxiPoints=function(a,r){var o=a._private.rscratch;o.edgeType="segments";var u="vertical",c="horizontal",d="leftward",f="rightward",p="downward",g="upward",m=r.posPts,w=r.srcW,D=r.srcH,C=r.tgtW,E=r.tgtH,x="node-position"!==a.pstyle("edge-distances").value,M=a.pstyle("taxi-direction").value,_=M,A=a.pstyle("taxi-turn"),R="%"===A.units,F=A.pfValue,$=F<0,k=a.pstyle("taxi-turn-min-distance").pfValue,N=x?(D+E)/2:0,H=m.x2-m.x1,U=m.y2-m.y1,L=function(ce,et){return ce>0?Math.max(ce-et,0):Math.min(ce+et,0)},j=L(H,x?(w+C)/2:0),B=L(U,N),Y=!1;"auto"===_?M=Math.abs(j)>Math.abs(B)?c:u:_===g||_===p?(M=u,Y=!0):(_===d||_===f)&&(M=c,Y=!0);var X,W=M===u,G=W?B:j,Q=W?U:H,ne=vv(Q),de=!1;(!Y||!R&&!$)&&(_===p&&Q<0||_===g&&Q>0||_===d&&Q>0||_===f&&Q<0)&&(G=(ne*=-1)*Math.abs(G),de=!0);var be=function(ce){return Math.abs(ce)<k||Math.abs(ce)>=Math.abs(G)},me=be(X=R?(F<0?1+F:F)*G:(F<0?G:0)+F*ne),De=be(Math.abs(G)-Math.abs(X));if(!me&&!De||de)if(W){var re=m.y1+X+(x?D/2*ne:0);o.segpts=[m.x1,re,m.x2,re]}else{var we=m.x1+X+(x?w/2*ne:0);o.segpts=[we,m.y1,we,m.y2]}else if(W){var ye=Math.abs(Q)<=D/2,_e=Math.abs(H)<=C/2;if(ye){var Ie=(m.x1+m.x2)/2;o.segpts=[Ie,m.y1,Ie,m.y2]}else if(_e){var Ct=(m.y1+m.y2)/2;o.segpts=[m.x1,Ct,m.x2,Ct]}else o.segpts=[m.x1,m.y2]}else{var tt=Math.abs(Q)<=w/2,nt=Math.abs(U)<=E/2;if(tt){var Qe=(m.y1+m.y2)/2;o.segpts=[m.x1,Qe,m.x2,Qe]}else if(nt){var Lt=(m.x1+m.x2)/2;o.segpts=[Lt,m.y1,Lt,m.y2]}else o.segpts=[m.x2,m.y1]}},Dr.tryToCorrectInvalidPoints=function(a,r){var o=a._private.rscratch;if("bezier"===o.edgeType){var u=r.srcPos,c=r.tgtPos,d=r.srcW,f=r.srcH,p=r.tgtW,g=r.tgtH,v=r.srcShape,m=r.tgtShape,w=!Ve(o.startX)||!Ve(o.startY),D=!Ve(o.arrowStartX)||!Ve(o.arrowStartY),C=!Ve(o.endX)||!Ve(o.endY),E=!Ve(o.arrowEndX)||!Ve(o.arrowEndY),M=this.getArrowWidth(a.pstyle("width").pfValue,a.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,_=xr({x:o.ctrlpts[0],y:o.ctrlpts[1]},{x:o.startX,y:o.startY}),A=_<M,R=xr({x:o.ctrlpts[0],y:o.ctrlpts[1]},{x:o.endX,y:o.endY}),F=R<M,$=!1;if(w||D||A){$=!0;var k={x:o.ctrlpts[0]-u.x,y:o.ctrlpts[1]-u.y},V=Math.sqrt(k.x*k.x+k.y*k.y),N={x:k.x/V,y:k.y/V},H=Math.max(d,f),U={x:o.ctrlpts[0]+2*N.x*H,y:o.ctrlpts[1]+2*N.y*H},L=v.intersectLine(u.x,u.y,d,f,U.x,U.y,0);A?(o.ctrlpts[0]=o.ctrlpts[0]+N.x*(M-_),o.ctrlpts[1]=o.ctrlpts[1]+N.y*(M-_)):(o.ctrlpts[0]=L[0]+N.x*M,o.ctrlpts[1]=L[1]+N.y*M)}if(C||E||F){$=!0;var j={x:o.ctrlpts[0]-c.x,y:o.ctrlpts[1]-c.y},B=Math.sqrt(j.x*j.x+j.y*j.y),Y={x:j.x/B,y:j.y/B},W=Math.max(d,f),G={x:o.ctrlpts[0]+2*Y.x*W,y:o.ctrlpts[1]+2*Y.y*W},Q=m.intersectLine(c.x,c.y,p,g,G.x,G.y,0);F?(o.ctrlpts[0]=o.ctrlpts[0]+Y.x*(M-R),o.ctrlpts[1]=o.ctrlpts[1]+Y.y*(M-R)):(o.ctrlpts[0]=Q[0]+Y.x*M,o.ctrlpts[1]=Q[1]+Y.y*M)}$&&this.findEndpoints(a)}},Dr.storeAllpts=function(a){var r=a._private.rscratch;if("multibezier"===r.edgeType||"bezier"===r.edgeType||"self"===r.edgeType||"compound"===r.edgeType){r.allpts=[],r.allpts.push(r.startX,r.startY);for(var o=0;o+1<r.ctrlpts.length;o+=2)r.allpts.push(r.ctrlpts[o],r.ctrlpts[o+1]),o+3<r.ctrlpts.length&&r.allpts.push((r.ctrlpts[o]+r.ctrlpts[o+2])/2,(r.ctrlpts[o+1]+r.ctrlpts[o+3])/2);var u;r.allpts.push(r.endX,r.endY),r.ctrlpts.length/2%2==0?(r.midX=r.allpts[u=r.allpts.length/2-1],r.midY=r.allpts[u+1]):(r.midX=Wn(r.allpts[u=r.allpts.length/2-3],r.allpts[u+2],r.allpts[u+4],.5),r.midY=Wn(r.allpts[u+1],r.allpts[u+3],r.allpts[u+5],.5))}else if("straight"===r.edgeType)r.allpts=[r.startX,r.startY,r.endX,r.endY],r.midX=(r.startX+r.endX+r.arrowStartX+r.arrowEndX)/4,r.midY=(r.startY+r.endY+r.arrowStartY+r.arrowEndY)/4;else if("segments"===r.edgeType)if(r.allpts=[],r.allpts.push(r.startX,r.startY),r.allpts.push.apply(r.allpts,r.segpts),r.allpts.push(r.endX,r.endY),r.segpts.length%4==0){var d=r.segpts.length/2,f=d-2;r.midX=(r.segpts[f]+r.segpts[d])/2,r.midY=(r.segpts[f+1]+r.segpts[d+1])/2}else{var p=r.segpts.length/2-1;r.midX=r.segpts[p],r.midY=r.segpts[p+1]}},Dr.checkForInvalidEdgeWarning=function(a){var r=a[0]._private.rscratch;r.nodesOverlap||Ve(r.startX)&&Ve(r.startY)&&Ve(r.endX)&&Ve(r.endY)?r.loggedErr=!1:r.loggedErr||(r.loggedErr=!0,Dt("Edge `"+a.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},Dr.findEdgeControlPoints=function(a){var r=this;if(a&&0!==a.length){for(var o=this,c=o.cy.hasCompoundNodes(),d={map:new pi,get:function(k){var V=this.map.get(k[0]);return null!=V?V.get(k[1]):null},set:function(k,V){var N=this.map.get(k[0]);null==N&&(N=new pi,this.map.set(k[0],N)),N.set(k[1],V)}},f=[],p=[],g=0;g<a.length;g++){var v=a[g],m=v._private,w=v.pstyle("curve-style").value;if(!v.removed()&&v.takesUpSpace()){if("haystack"===w){p.push(v);continue}var D="unbundled-bezier"===w||"segments"===w||"straight"===w||"straight-triangle"===w||"taxi"===w,C="unbundled-bezier"===w||"bezier"===w,T=m.target,_=[m.source.poolIndex(),T.poolIndex()].sort(),A=d.get(_);null==A&&(d.set(_,A={eles:[]}),f.push(_)),A.eles.push(v),D&&(A.hasUnbundled=!0),C&&(A.hasBezier=!0)}}for(var R=function(k){var N=d.get(f[k]),H=void 0;if(!N.hasUnbundled){var U=N.eles[0].parallelEdges().filter(function(Nt){return Nt.isBundledBezier()});Ul(N.eles),U.forEach(function(Nt){return N.eles.push(Nt)}),N.eles.sort(function(Nt,re){return Nt.poolIndex()-re.poolIndex()})}var L=N.eles[0],j=L.source(),B=L.target();if(j.poolIndex()>B.poolIndex()){var Y=j;j=B,B=Y}var W=N.srcPos=j.position(),G=N.tgtPos=B.position(),Q=N.srcW=j.outerWidth(),ne=N.srcH=j.outerHeight(),de=N.tgtW=B.outerWidth(),X=N.tgtH=B.outerHeight(),ue=N.srcShape=o.nodeShapes[r.getNodeShape(j)],oe=N.tgtShape=o.nodeShapes[r.getNodeShape(B)];N.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var be=0;be<N.eles.length;be++){var me=N.eles[be],De=me[0]._private.rscratch,te=me.pstyle("curve-style").value,ye="unbundled-bezier"===te||"segments"===te||"taxi"===te,_e=!j.same(me.source());if(!N.calculatedIntersection&&j!==B&&(N.hasBezier||N.hasUnbundled)){N.calculatedIntersection=!0;var Ie=ue.intersectLine(W.x,W.y,Q,ne,G.x,G.y,0),ke=N.srcIntn=Ie,Je=oe.intersectLine(G.x,G.y,de,X,W.x,W.y,0),Ct=N.tgtIntn=Je,Be=N.intersectionPts={x1:Ie[0],x2:Je[0],y1:Ie[1],y2:Je[1]},Fe=N.posPts={x1:W.x,x2:G.x,y1:W.y,y2:G.y},tt=Je[1]-Ie[1],nt=Je[0]-Ie[0],Qe=Math.sqrt(nt*nt+tt*tt),rt=N.vector={x:nt,y:tt},jt=N.vectorNorm={x:rt.x/Qe,y:rt.y/Qe},Lt={x:-jt.y,y:jt.x};N.nodesOverlap=!Ve(Qe)||oe.checkPoint(Ie[0],Ie[1],0,de,X,G.x,G.y)||ue.checkPoint(Je[0],Je[1],0,Q,ne,W.x,W.y),N.vectorNormInverse=Lt,H={nodesOverlap:N.nodesOverlap,dirCounts:N.dirCounts,calculatedIntersection:!0,hasBezier:N.hasBezier,hasUnbundled:N.hasUnbundled,eles:N.eles,srcPos:G,tgtPos:W,srcW:de,srcH:X,tgtW:Q,tgtH:ne,srcIntn:Ct,tgtIntn:ke,srcShape:oe,tgtShape:ue,posPts:{x1:Fe.x2,y1:Fe.y2,x2:Fe.x1,y2:Fe.y1},intersectionPts:{x1:Be.x2,y1:Be.y2,x2:Be.x1,y2:Be.y1},vector:{x:-rt.x,y:-rt.y},vectorNorm:{x:-jt.x,y:-jt.y},vectorNormInverse:{x:-Lt.x,y:-Lt.y}}}var yt=_e?H:N;De.nodesOverlap=yt.nodesOverlap,De.srcIntn=yt.srcIntn,De.tgtIntn=yt.tgtIntn,c&&(j.isParent()||j.isChild()||B.isParent()||B.isChild())&&(j.parents().anySame(B)||B.parents().anySame(j)||j.same(B)&&j.isParent())?r.findCompoundLoopPoints(me,yt,be,ye):j===B?r.findLoopPoints(me,yt,be,ye):"segments"===te?r.findSegmentsPoints(me,yt):"taxi"===te?r.findTaxiPoints(me,yt):"straight"===te||!ye&&N.eles.length%2==1&&be===Math.floor(N.eles.length/2)?r.findStraightEdgePoints(me):r.findBezierPoints(me,yt,be,ye,_e),r.findEndpoints(me),r.tryToCorrectInvalidPoints(me,yt),r.checkForInvalidEdgeWarning(me),r.storeAllpts(me),r.storeEdgeProjections(me),r.calculateArrowAngles(me),r.recalculateEdgeLabelProjections(me),r.calculateLabelAngles(me)}},F=0;F<f.length;F++)R(F);this.findHaystackPoints(p)}},Dr.getSegmentPoints=function(a){var r=a[0]._private.rscratch;if("segments"===r.edgeType)return this.recalculateRenderedStyle(a),oh(r.segpts)},Dr.getControlPoints=function(a){var r=a[0]._private.rscratch,o=r.edgeType;if("bezier"===o||"multibezier"===o||"self"===o||"compound"===o)return this.recalculateRenderedStyle(a),oh(r.ctrlpts)},Dr.getEdgeMidpoint=function(a){var r=a[0]._private.rscratch;return this.recalculateRenderedStyle(a),{x:r.midX,y:r.midY}};var Is={manualEndptToPx:function(a,r){var u=a.position(),c=a.outerWidth(),d=a.outerHeight();if(2===r.value.length){var f=[r.pfValue[0],r.pfValue[1]];return"%"===r.units[0]&&(f[0]=f[0]*c),"%"===r.units[1]&&(f[1]=f[1]*d),f[0]+=u.x,f[1]+=u.y,f}var p=r.pfValue[0];p=-Math.PI/2+p;var g=2*Math.max(c,d),v=[u.x+Math.cos(p)*g,u.y+Math.sin(p)*g];return this.nodeShapes[this.getNodeShape(a)].intersectLine(u.x,u.y,c,d,v[0],v[1],0)},findEndpoints:function(a){var o,H,U,L,j,r=this,u=a.source()[0],c=a.target()[0],d=u.position(),f=c.position(),p=a.pstyle("target-arrow-shape").value,g=a.pstyle("source-arrow-shape").value,v=a.pstyle("target-distance-from-node").pfValue,m=a.pstyle("source-distance-from-node").pfValue,w=a.pstyle("curve-style").value,D=a._private.rscratch,C=D.edgeType,T="self"===C||"compound"===C,x="bezier"===C||"multibezier"===C||T,M="bezier"!==C,_="straight"===C||"segments"===C,A="segments"===C,R=x||M||_,F=T||"taxi"===w,$=a.pstyle("source-endpoint"),k=F?"outside-to-node":$.value,V=a.pstyle("target-endpoint"),N=F?"outside-to-node":V.value;if(D.srcManEndpt=$,D.tgtManEndpt=V,x){var B=[D.ctrlpts[0],D.ctrlpts[1]];H=M?[D.ctrlpts[D.ctrlpts.length-2],D.ctrlpts[D.ctrlpts.length-1]]:B,U=B}else if(_){var W=A?D.segpts.slice(0,2):[f.x,f.y];H=A?D.segpts.slice(D.segpts.length-2):[d.x,d.y],U=W}if("inside-to-node"===N)o=[f.x,f.y];else if(V.units)o=this.manualEndptToPx(c,V);else if("outside-to-line"===N)o=D.tgtIntn;else if("outside-to-node"===N||"outside-to-node-or-label"===N?L=H:("outside-to-line"===N||"outside-to-line-or-label"===N)&&(L=[d.x,d.y]),o=r.nodeShapes[this.getNodeShape(c)].intersectLine(f.x,f.y,c.outerWidth(),c.outerHeight(),L[0],L[1],0),"outside-to-node-or-label"===N||"outside-to-line-or-label"===N){var Q=c._private.rscratch,X=Q.labelX,ue=Q.labelY,oe=Q.labelWidth/2,be=Q.labelHeight/2,me=c.pstyle("text-valign").value;"top"===me?ue-=be:"bottom"===me&&(ue+=be);var De=c.pstyle("text-halign").value;"left"===De?X-=oe:"right"===De&&(X+=oe);var te=ka(L[0],L[1],[X-oe,ue-be,X+oe,ue-be,X+oe,ue+be,X-oe,ue+be],f.x,f.y);if(te.length>0){var ye=d,_e=yo(ye,Ht(o)),Ie=yo(ye,Ht(te)),ke=_e;Ie<_e&&(o=te,ke=Ie),te.length>2&&yo(ye,{x:te[2],y:te[3]})<ke&&(o=[te[2],te[3]])}}var Ct=su(o,H,r.arrowShapes[p].spacing(a)+v),Be=su(o,H,r.arrowShapes[p].gap(a)+v);if(D.endX=Be[0],D.endY=Be[1],D.arrowEndX=Ct[0],D.arrowEndY=Ct[1],"inside-to-node"===k)o=[d.x,d.y];else if($.units)o=this.manualEndptToPx(u,$);else if("outside-to-line"===k)o=D.srcIntn;else if("outside-to-node"===k||"outside-to-node-or-label"===k?j=U:("outside-to-line"===k||"outside-to-line-or-label"===k)&&(j=[f.x,f.y]),o=r.nodeShapes[this.getNodeShape(u)].intersectLine(d.x,d.y,u.outerWidth(),u.outerHeight(),j[0],j[1],0),"outside-to-node-or-label"===k||"outside-to-line-or-label"===k){var Fe=u._private.rscratch,Qe=Fe.labelX,rt=Fe.labelY,jt=Fe.labelWidth/2,Lt=Fe.labelHeight/2,yt=u.pstyle("text-valign").value;"top"===yt?rt-=Lt:"bottom"===yt&&(rt+=Lt);var Nt=u.pstyle("text-halign").value;"left"===Nt?Qe-=jt:"right"===Nt&&(Qe+=jt);var re=ka(j[0],j[1],[Qe-jt,rt-Lt,Qe+jt,rt-Lt,Qe+jt,rt+Lt,Qe-jt,rt+Lt],d.x,d.y);if(re.length>0){var O=f,ee=yo(O,Ht(o)),we=yo(O,Ht(re)),se=ee;we<ee&&(o=[re[0],re[1]],se=we),re.length>2&&yo(O,{x:re[2],y:re[3]})<se&&(o=[re[2],re[3]])}}var it=su(o,U,r.arrowShapes[g].spacing(a)+m),ce=su(o,U,r.arrowShapes[g].gap(a)+m);D.startX=ce[0],D.startY=ce[1],D.arrowStartX=it[0],D.arrowStartY=it[1],R&&(D.badLine=!(Ve(D.startX)&&Ve(D.startY)&&Ve(D.endX)&&Ve(D.endY)))},getSourceEndpoint:function(a){var r=a[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(a),r.edgeType)?{x:r.haystackPts[0],y:r.haystackPts[1]}:{x:r.arrowStartX,y:r.arrowStartY}},getTargetEndpoint:function(a){var r=a[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(a),r.edgeType)?{x:r.haystackPts[2],y:r.haystackPts[3]}:{x:r.arrowEndX,y:r.arrowEndY}}},Ms={};function h0(a,r,o){for(var u=function(v,m,w,D){return Wn(v,m,w,D)},d=r._private.rstyle.bezierPts,f=0;f<a.bezierProjPcts.length;f++){var p=a.bezierProjPcts[f];d.push({x:u(o[0],o[2],o[4],p),y:u(o[1],o[3],o[5],p)})}}Ms.storeEdgeProjections=function(a){var r=a._private,o=r.rscratch,u=o.edgeType;if(r.rstyle.bezierPts=null,r.rstyle.linePts=null,r.rstyle.haystackPts=null,"multibezier"===u||"bezier"===u||"self"===u||"compound"===u){r.rstyle.bezierPts=[];for(var c=0;c+5<o.allpts.length;c+=4)h0(this,a,o.allpts.slice(c,c+6))}else if("segments"===u){var d=r.rstyle.linePts=[];for(c=0;c+1<o.allpts.length;c+=2)d.push({x:o.allpts[c],y:o.allpts[c+1]})}else if("haystack"===u){var f=o.haystackPts;r.rstyle.haystackPts=[{x:f[0],y:f[1]},{x:f[2],y:f[3]}]}r.rstyle.arrowWidth=this.getArrowWidth(a.pstyle("width").pfValue,a.pstyle("arrow-scale").value)*this.arrowShapeWidth},Ms.recalculateEdgeProjections=function(a){this.findEdgeControlPoints(a)};var qi={recalculateNodeLabelProjection:function(a){var r=a.pstyle("label").strValue;if(!At(r)){var o,u,c=a._private,d=a.width(),f=a.height(),p=a.padding(),g=a.position(),v=a.pstyle("text-halign").strValue,m=a.pstyle("text-valign").strValue,w=c.rscratch,D=c.rstyle;switch(v){case"left":o=g.x-d/2-p;break;case"right":o=g.x+d/2+p;break;default:o=g.x}switch(m){case"top":u=g.y-f/2-p;break;case"bottom":u=g.y+f/2+p;break;default:u=g.y}w.labelX=o,w.labelY=u,D.labelX=o,D.labelY=u,this.calculateLabelAngles(a),this.applyLabelDimensions(a)}}},Fu=function(r,o){var u=Math.atan(o/r);return 0===r&&u<0&&(u*=-1),u},ig=function(r,o){return Fu(o.x-r.x,o.y-r.y)};qi.recalculateEdgeLabelProjections=function(a){var r,o=a._private,u=o.rscratch,c=this,d={mid:a.pstyle("label").strValue,source:a.pstyle("source-label").strValue,target:a.pstyle("target-label").strValue};if(d.mid||d.source||d.target){var f=function(w,D,C){sa(o.rscratch,w,D,C),sa(o.rstyle,w,D,C)};f("labelX",null,(r={x:u.midX,y:u.midY}).x),f("labelY",null,r.y);var p=Fu(u.midDispX,u.midDispY);f("labelAutoAngle",null,p);var g=function m(){if(m.cache)return m.cache;for(var w=[],D=0;D+5<u.allpts.length;D+=4)w.push({p0:{x:u.allpts[D],y:u.allpts[D+1]},p1:{x:u.allpts[D+2],y:u.allpts[D+3]},p2:{x:u.allpts[D+4],y:u.allpts[D+5]},startDist:0,length:0,segments:[]});var x=o.rstyle.bezierPts,M=c.bezierProjPcts.length;function _(k,V,N,H,U){var L=xr(V,N),j=k.segments[k.segments.length-1];k.segments.push({p0:V,p1:N,t0:H,t1:U,startDist:j?j.startDist+j.length:0,length:L}),k.length+=L}for(var A=0;A<w.length;A++){var R=w[A],F=w[A-1];F&&(R.startDist=F.startDist+F.length),_(R,R.p0,x[A*M],0,c.bezierProjPcts[0]);for(var $=0;$<M-1;$++)_(R,x[A*M+$],x[A*M+$+1],c.bezierProjPcts[$],c.bezierProjPcts[$+1]);_(R,x[A*M+M-1],R.p2,c.bezierProjPcts[M-1],1)}return m.cache=w},v=function(w){var D,C="source"===w;if(d[w]){var E=a.pstyle(w+"-text-offset").pfValue;switch(u.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var x,T=g(),M=0,_=0,A=0;A<T.length;A++){for(var R=T[C?A:T.length-1-A],F=0;F<R.segments.length;F++){var $=R.segments[C?F:R.segments.length-1-F];if(M=_,(_+=$.length)>=E||A===T.length-1&&F===R.segments.length-1){x={cp:R,segment:$};break}}if(x)break}var V=x.cp,N=x.segment,H=(E-M)/N.length,U=N.t1-N.t0,L=C?N.t0+U*H:N.t1-U*H;L=ru(0,L,1),r=ts(V.p0,V.p1,V.p2,L),D=function(r,o,u,c){var d=ru(0,c-.001,1),f=ru(0,c+.001,1),p=ts(r,o,u,d),g=ts(r,o,u,f);return ig(p,g)}(V.p0,V.p1,V.p2,L);break;case"straight":case"segments":case"haystack":for(var B,Y,W,G,j=0,Q=u.allpts.length,ne=0;ne+3<Q&&(C?(W={x:u.allpts[ne],y:u.allpts[ne+1]},G={x:u.allpts[ne+2],y:u.allpts[ne+3]}):(W={x:u.allpts[Q-2-ne],y:u.allpts[Q-1-ne]},G={x:u.allpts[Q-4-ne],y:u.allpts[Q-3-ne]}),Y=j,!((j+=B=xr(W,G))>=E));ne+=2);var X=(E-Y)/B;X=ru(0,X,1),r=function(r,o,u,c){var d_x=o.x-r.x,d_y=o.y-r.y,f=xr(r,o);return u=u??0,{x:r.x+d_x/f*(c=c??u*f),y:r.y+d_y/f*c}}(W,G,X),D=ig(W,G)}f("labelX",w,r.x),f("labelY",w,r.y),f("labelAutoAngle",w,D)}};v("source"),v("target"),this.applyLabelDimensions(a)}},qi.applyLabelDimensions=function(a){this.applyPrefixedLabelDimensions(a),a.isEdge()&&(this.applyPrefixedLabelDimensions(a,"source"),this.applyPrefixedLabelDimensions(a,"target"))},qi.applyPrefixedLabelDimensions=function(a,r){var o=a._private,u=this.getLabelText(a,r),c=this.calculateLabelDimensions(a,u),d=a.pstyle("line-height").pfValue,f=a.pstyle("text-wrap").strValue,p=Wr(o.rscratch,"labelWrapCachedLines",r)||[],g="wrap"!==f?1:Math.max(p.length,1),v=c.height/g,m=v*d,w=c.width,D=c.height+(g-1)*(d-1)*v;sa(o.rstyle,"labelWidth",r,w),sa(o.rscratch,"labelWidth",r,w),sa(o.rstyle,"labelHeight",r,D),sa(o.rscratch,"labelHeight",r,D),sa(o.rscratch,"labelLineHeight",r,m)},qi.getLabelText=function(a,r){var o=a._private,c=a.pstyle((r?r+"-":"")+"label").strValue,d=a.pstyle("text-transform").value,f=function(de,X){return X?(sa(o.rscratch,de,r,X),X):Wr(o.rscratch,de,r)};if(!c)return"";"none"==d||("uppercase"==d?c=c.toUpperCase():"lowercase"==d&&(c=c.toLowerCase()));var p=a.pstyle("text-wrap").value;if("wrap"===p){var g=f("labelKey");if(null!=g&&f("labelWrapKey")===g)return f("labelWrapCachedText");for(var m=c.split("\n"),w=a.pstyle("text-max-width").pfValue,C="anywhere"===a.pstyle("text-overflow-wrap").value,E=[],T=/[\s\u200b]+/,x=C?"":" ",M=0;M<m.length;M++){var _=m[M],R=this.calculateLabelDimensions(a,_).width;if(C){var F=_.split("").join("\u200b");_=F}if(R>w){for(var $=_.split(T),k="",V=0;V<$.length;V++){var N=$[V];this.calculateLabelDimensions(a,0===k.length?N:k+x+N).width<=w?k+=N+x:(k&&E.push(k),k=N+x)}k.match(/^[\s\u200b]+$/)||E.push(k)}else E.push(_)}f("labelWrapCachedLines",E),c=f("labelWrapCachedText",E.join("\n")),f("labelWrapKey",g)}else if("ellipsis"===p){var j=a.pstyle("text-max-width").pfValue,B="",W=!1;if(this.calculateLabelDimensions(a,c).width<j)return c;for(var G=0;G<c.length&&!(this.calculateLabelDimensions(a,B+c[G]+"\u2026").width>j);G++)B+=c[G],G===c.length-1&&(W=!0);return W||(B+="\u2026"),B}return c},qi.getLabelJustification=function(a){var r=a.pstyle("text-justification").strValue,o=a.pstyle("text-halign").strValue;if("auto"!==r)return r;if(!a.isNode())return"center";switch(o){case"left":return"right";case"right":return"left";default:return"center"}},qi.calculateLabelDimensions=function(a,r){var u=oa(r,a._private.labelDimsKey),c=this.labelDimCache||(this.labelDimCache=[]),d=c[u];if(null!=d)return d;var p=a.pstyle("font-style").strValue,g=a.pstyle("font-size").pfValue,v=a.pstyle("font-family").strValue,m=a.pstyle("font-weight").strValue,w=this.labelCalcCanvas,D=this.labelCalcCanvasContext;if(!w){w=this.labelCalcCanvas=document.createElement("canvas"),D=this.labelCalcCanvasContext=w.getContext("2d");var C=w.style;C.position="absolute",C.left="-9999px",C.top="-9999px",C.zIndex="-1",C.visibility="hidden",C.pointerEvents="none"}D.font="".concat(p," ").concat(m," ").concat(g,"px ").concat(v);for(var E=0,T=0,x=r.split("\n"),M=0;M<x.length;M++){var A=D.measureText(x[M]),R=Math.ceil(A.width),F=g;E=Math.max(R,E),T+=F}return c[u]={width:E+=0,height:T+=0}},qi.calculateLabelAngle=function(a,r){var u=a._private.rscratch,c=a.isEdge(),f=a.pstyle((r?r+"-":"")+"text-rotation"),p=f.strValue;return"none"===p?0:c&&"autorotate"===p?u.labelAutoAngle:"autorotate"===p?0:f.pfValue},qi.calculateLabelAngles=function(a){var r=this,o=a.isEdge(),c=a._private.rscratch;c.labelAngle=r.calculateLabelAngle(a),o&&(c.sourceLabelAngle=r.calculateLabelAngle(a,"source"),c.targetLabelAngle=r.calculateLabelAngle(a,"target"))};var ag={},sg=!1;ag.getNodeShape=function(a){var o=a.pstyle("shape").value;if("cutrectangle"===o&&(a.width()<28||a.height()<28))return sg||(Dt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),sg=!0),"rectangle";if(a.isParent())return"rectangle"===o||"roundrectangle"===o||"round-rectangle"===o||"cutrectangle"===o||"cut-rectangle"===o||"barrel"===o?o:"rectangle";if("polygon"===o){var u=a.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(u).name}return o};var _s={updateCachedGrabbedEles:function(){var a=this.cachedZSortedEles;if(a){a.drag=[],a.nondrag=[];for(var r=[],o=0;o<a.length;o++){var c=(u=a[o])._private.rscratch;u.grabbed()&&!u.isParent()?r.push(u):c.inDragLayer?a.drag.push(u):a.nondrag.push(u)}for(o=0;o<r.length;o++){var u;a.drag.push(u=r[o])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(a){if(a||!this.cachedZSortedEles){var r=this.cy.mutableElements().toArray();r.sort(Vf),r.interactive=r.filter(function(o){return o.interactive()}),this.cachedZSortedEles=r,this.updateCachedGrabbedEles()}else r=this.cachedZSortedEles;return r}},Vu={};[Bo,Ts,Dr,Is,Ms,qi,ag,{registerCalculationListeners:function(){var a=this.cy,r=a.collection(),o=this,u=function(f){var p=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(r.merge(f),p)for(var g=0;g<f.length;g++){var w=f[g]._private.rstyle;w.clean=!1,w.cleanConnected=!1}};o.binder(a).on("bounds.* dirty.*",function(f){u(f.target)}).on("style.* background.*",function(f){u(f.target,!1)});var c=function(f){if(f){var p=o.onUpdateEleCalcsFns;r.cleanStyle();for(var g=0;g<r.length;g++){var v=r[g],m=v._private.rstyle;v.isNode()&&!m.cleanConnected&&(u(v.connectedEdges()),m.cleanConnected=!0)}if(p)for(var w=0;w<p.length;w++)(0,p[w])(f,r);o.recalculateRenderedStyle(r),r=a.collection()}};o.flushRenderedStyleQueue=function(){c(!0)},o.beforeRender(c,o.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(a){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(a)},recalculateRenderedStyle:function(a,r){var o=function(R){return R._private.rstyle.cleanConnected},u=[],c=[];if(!this.destroyed){void 0===r&&(r=!0);for(var d=0;d<a.length;d++){var f=a[d],p=f._private,g=p.rstyle;f.isEdge()&&(!o(f.source())||!o(f.target()))&&(g.clean=!1),!(r&&g.clean||f.removed())&&"none"!==f.pstyle("display").value&&("nodes"===p.group?c.push(f):u.push(f),g.clean=!0)}for(var v=0;v<c.length;v++){var m=c[v],D=m._private.rstyle,C=m.position();this.recalculateNodeLabelProjection(m),D.nodeX=C.x,D.nodeY=C.y,D.nodeW=m.pstyle("width").pfValue,D.nodeH=m.pstyle("height").pfValue}this.recalculateEdgeProjections(u);for(var E=0;E<u.length;E++){var x=u[E]._private,M=x.rstyle,_=x.rscratch;M.srcX=_.arrowStartX,M.srcY=_.arrowStartY,M.tgtX=_.arrowEndX,M.tgtY=_.arrowEndY,M.midX=_.midX,M.midY=_.midY,M.labelAngle=_.labelAngle,M.sourceLabelAngle=_.sourceLabelAngle,M.targetLabelAngle=_.targetLabelAngle}}}},_s].forEach(function(a){st(Vu,a)});var Rc={getCachedImage:function(a,r,o){var c=this.imageCache=this.imageCache||{},d=c[a];if(d)return d.image.complete||d.image.addEventListener("load",o),d.image;var f=(d=c[a]=c[a]||{}).image=new Image;f.addEventListener("load",o),f.addEventListener("error",function(){f.error=!0});var p="data:";return a.substring(0,p.length).toLowerCase()===p||(f.crossOrigin=r="null"===r?null:r),f.src=a,f}},Ga={registerBinding:function(a,r,o,u){var c=Array.prototype.slice.apply(arguments,[1]),d=this.binder(a);return d.on.apply(d,c)},binder:function(a){var r=this,o=r.cy.window(),u=a===o||a===o.document||a===o.document.body||function(r){return!(typeof HTMLElement>"u")&&r instanceof HTMLElement}(a);if(null==r.supportsPassiveEvents){var c=!1;try{var d=Object.defineProperty({},"passive",{get:function(){return c=!0,!0}});o.addEventListener("test",null,d)}catch{}r.supportsPassiveEvents=c}var f=function(g,v,m){var w=Array.prototype.slice.call(arguments);return u&&r.supportsPassiveEvents&&(w[2]={capture:m??!1,passive:!1,once:!1}),r.bindings.push({target:a,args:w}),(a.addEventListener||a.on).apply(a,w),this};return{on:f,addEventListener:f,addListener:f,bind:f}},nodeIsDraggable:function(a){return a&&a.isNode()&&!a.locked()&&a.grabbable()},nodeIsGrabbable:function(a){return this.nodeIsDraggable(a)&&a.interactive()}};Ga.load=function(){var a=this,r=a.cy.window(),o=function(O){return O.selected()},u=function(O,ee,we,se){null==O&&(O=a.cy);for(var le=0;le<ee.length;le++)O.emit({originalEvent:we,type:ee[le],position:se})},c=function(O){return O.shiftKey||O.metaKey||O.ctrlKey},d=function(O,ee){var we=!0;if(a.cy.hasCompoundNodes()&&O&&O.pannable()){for(var se=0;ee&&se<ee.length;se++)if((O=ee[se]).isNode()&&O.isParent()&&!O.pannable()){we=!1;break}}else we=!0;return we},g=function(O){O[0]._private.rscratch.inDragLayer=!0},m=function(O){O[0]._private.rscratch.isGrabTarget=!0},D=function(O,ee){var we=ee.addToList;!we.has(O)&&O.grabbable()&&!O.locked()&&(we.merge(O),function(O){O[0]._private.grabbed=!0}(O))},E=function(O,ee){ee=ee||{};var we=O.cy().hasCompoundNodes();ee.inDragLayer&&(O.forEach(g),O.neighborhood().stdFilter(function(se){return!we||se.isEdge()}).forEach(g)),ee.addToList&&O.forEach(function(se){D(se,ee)}),function(O,ee){if(O.cy().hasCompoundNodes()&&(null!=ee.inDragLayer||null!=ee.addToList)){var we=O.descendants();ee.inDragLayer&&(we.forEach(g),we.connectedEdges().forEach(g)),ee.addToList&&D(we,ee)}}(O,ee),M(O,{inDragLayer:ee.inDragLayer}),a.updateCachedGrabbedEles()},T=E,x=function(O){O&&(a.getCachedZSortedEles().forEach(function(ee){(function(O){O[0]._private.grabbed=!1})(ee),function(O){O[0]._private.rscratch.inDragLayer=!1}(ee),function(O){O[0]._private.rscratch.isGrabTarget=!1}(ee)}),a.updateCachedGrabbedEles())},M=function(O,ee){if((null!=ee.inDragLayer||null!=ee.addToList)&&O.cy().hasCompoundNodes()){var we=O.ancestors().orphans();if(!we.same(O)){var se=we.descendants().spawnSelf().merge(we).unmerge(O).unmerge(O.descendants()),le=se.connectedEdges();ee.inDragLayer&&(le.forEach(g),se.forEach(g)),ee.addToList&&se.forEach(function(it){D(it,ee)})}}},_=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},A=typeof MutationObserver<"u",R=typeof ResizeObserver<"u";A?(a.removeObserver=new MutationObserver(function(re){for(var O=0;O<re.length;O++){var we=re[O].removedNodes;if(we)for(var se=0;se<we.length;se++)if(we[se]===a.container){a.destroy();break}}}),a.container.parentNode&&a.removeObserver.observe(a.container.parentNode,{childList:!0})):a.registerBinding(a.container,"DOMNodeRemoved",function(re){a.destroy()});var F=Me.default(function(){a.cy.resize()},100);A&&(a.styleObserver=new MutationObserver(F),a.styleObserver.observe(a.container,{attributes:!0})),a.registerBinding(r,"resize",F),R&&(a.resizeObserver=new ResizeObserver(F),a.resizeObserver.observe(a.container));var k=function(){a.invalidateContainerClientCoordsCache()};(function(O,ee){for(;null!=O;)a.registerBinding(re=O,"transitionend",k),a.registerBinding(re,"animationend",k),a.registerBinding(re,"scroll",k),O=O.parentNode;var re})(a.container),a.registerBinding(a.container,"contextmenu",function(re){re.preventDefault()});var H,U,L,N=function(O){for(var ee=a.findContainerClientCoords(),we=ee[0],se=ee[1],le=ee[2],it=ee[3],ce=O.touches?O.touches:[O],et=!1,Mt=0;Mt<ce.length;Mt++){var Gt=ce[Mt];if(we<=Gt.clientX&&Gt.clientX<=we+le&&se<=Gt.clientY&&Gt.clientY<=se+it){et=!0;break}}if(!et)return!1;for(var xt=a.container,mt=O.target.parentNode,ht=!1;mt;){if(mt===xt){ht=!0;break}mt=mt.parentNode}return!!ht};a.registerBinding(a.container,"mousedown",function(O){if(N(O)){O.preventDefault(),_(),a.hoverData.capture=!0,a.hoverData.which=O.which;var ee=a.cy,we=[O.clientX,O.clientY],se=a.projectIntoViewport(we[0],we[1]),le=a.selection,it=a.findNearestElements(se[0],se[1],!0,!1),ce=it[0],et=a.dragData.possibleDragElements;if(a.hoverData.mdownPos=se,a.hoverData.mdownGPos=we,3==O.which){a.hoverData.cxtStarted=!0;var Gt={originalEvent:O,type:"cxttapstart",position:{x:se[0],y:se[1]}};ce?(ce.activate(),ce.emit(Gt),a.hoverData.down=ce):ee.emit(Gt),a.hoverData.downTime=(new Date).getTime(),a.hoverData.cxtDragged=!1}else if(1==O.which){if(ce&&ce.activate(),null!=ce&&a.nodeIsGrabbable(ce)){var xt=function(mn){return{originalEvent:O,type:mn,position:{x:se[0],y:se[1]}}};if(m(ce),ce.selected()){et=a.dragData.possibleDragElements=ee.collection();var mt=ee.$(function(ht){return ht.isNode()&&ht.selected()&&a.nodeIsGrabbable(ht)});E(mt,{addToList:et}),ce.emit(xt("grabon")),mt.forEach(function(mn){mn.emit(xt("grab"))})}else et=a.dragData.possibleDragElements=ee.collection(),T(ce,{addToList:et}),ce.emit(xt("grabon")).emit(xt("grab"));a.redrawHint("eles",!0),a.redrawHint("drag",!0)}a.hoverData.down=ce,a.hoverData.downs=it,a.hoverData.downTime=(new Date).getTime(),u(ce,["mousedown","tapstart","vmousedown"],O,{x:se[0],y:se[1]}),null==ce?(le[4]=1,a.data.bgActivePosistion={x:se[0],y:se[1]},a.redrawHint("select",!0),a.redraw()):ce.pannable()&&(le[4]=1),a.hoverData.tapholdCancelled=!1,clearTimeout(a.hoverData.tapholdTimeout),a.hoverData.tapholdTimeout=setTimeout(function(){if(!a.hoverData.tapholdCancelled){var mn=a.hoverData.down;mn?mn.emit({originalEvent:O,type:"taphold",position:{x:se[0],y:se[1]}}):ee.emit({originalEvent:O,type:"taphold",position:{x:se[0],y:se[1]}})}},a.tapholdDuration)}le[0]=le[2]=se[0],le[1]=le[3]=se[1]}},!1),a.registerBinding(r,"mousemove",function(O){var Cr;if(a.hoverData.capture||N(O)){var we=!1,se=a.cy,le=se.zoom(),it=[O.clientX,O.clientY],ce=a.projectIntoViewport(it[0],it[1]),et=a.hoverData.mdownPos,Mt=a.hoverData.mdownGPos,Gt=a.selection,xt=null;!a.hoverData.draggingEles&&!a.hoverData.dragging&&!a.hoverData.selecting&&(xt=a.findNearestElement(ce[0],ce[1],!0,!1));var Rn,qt=a.hoverData.last,mt=a.hoverData.down,ht=[ce[0]-Gt[2],ce[1]-Gt[3]],mn=a.dragData.possibleDragElements;if(Mt){var si=it[0]-Mt[0],Hn=it[1]-Mt[1];a.hoverData.isOverThresholdDrag=Rn=si*si+Hn*Hn>=a.desktopTapThreshold2}var Yi=c(O);Rn&&(a.hoverData.tapholdCancelled=!0),we=!0,u(xt,["mousemove","vmousemove","tapdrag"],O,{x:ce[0],y:ce[1]});var Ca=function(){a.data.bgActivePosistion=void 0,a.hoverData.selecting||se.emit({originalEvent:O,type:"boxstart",position:{x:ce[0],y:ce[1]}}),Gt[4]=1,a.hoverData.selecting=!0,a.redrawHint("select",!0),a.redraw()};if(3===a.hoverData.which){if(Rn){var Xa={originalEvent:O,type:"cxtdrag",position:{x:ce[0],y:ce[1]}};mt?mt.emit(Xa):se.emit(Xa),a.hoverData.cxtDragged=!0,(!a.hoverData.cxtOver||xt!==a.hoverData.cxtOver)&&(a.hoverData.cxtOver&&a.hoverData.cxtOver.emit({originalEvent:O,type:"cxtdragout",position:{x:ce[0],y:ce[1]}}),a.hoverData.cxtOver=xt,xt&&xt.emit({originalEvent:O,type:"cxtdragover",position:{x:ce[0],y:ce[1]}}))}}else if(a.hoverData.dragging){if(we=!0,se.panningEnabled()&&se.userPanningEnabled()){var Ja;if(a.hoverData.justStartedPan){var Yu=a.hoverData.mdownPos;Ja={x:(ce[0]-Yu[0])*le,y:(ce[1]-Yu[1])*le},a.hoverData.justStartedPan=!1}else Ja={x:ht[0]*le,y:ht[1]*le};se.panBy(Ja),se.emit("dragpan"),a.hoverData.dragged=!0}ce=a.projectIntoViewport(O.clientX,O.clientY)}else if(1!=Gt[4]||null!=mt&&!mt.pannable()){if(mt&&mt.pannable()&&mt.active()&&mt.unactivate(),(!mt||!mt.grabbed())&&xt!=qt&&(qt&&u(qt,["mouseout","tapdragout"],O,{x:ce[0],y:ce[1]}),xt&&u(xt,["mouseover","tapdragover"],O,{x:ce[0],y:ce[1]}),a.hoverData.last=xt),mt)if(Rn){if(se.boxSelectionEnabled()&&Yi)mt&&mt.grabbed()&&(x(mn),mt.emit("freeon"),mn.emit("free"),a.dragData.didDrag&&(mt.emit("dragfreeon"),mn.emit("dragfree"))),Ca();else if(mt&&mt.grabbed()&&a.nodeIsDraggable(mt)){var $r=!a.dragData.didDrag;$r&&a.redrawHint("eles",!0),a.dragData.didDrag=!0,a.hoverData.draggingEles||E(mn,{inDragLayer:!0});var fr={x:0,y:0};if(Ve(ht[0])&&Ve(ht[1])&&(fr.x+=ht[0],fr.y+=ht[1],$r)){var Un=a.hoverData.dragDelta;Un&&Ve(Un[0])&&Ve(Un[1])&&(fr.x+=Un[0],fr.y+=Un[1])}a.hoverData.draggingEles=!0,mn.silentShift(fr).emit("position drag"),a.redrawHint("drag",!0),a.redraw()}}else 0===(Cr=a.hoverData.dragDelta=a.hoverData.dragDelta||[]).length?(Cr.push(ht[0]),Cr.push(ht[1])):(Cr[0]+=ht[0],Cr[1]+=ht[1]);we=!0}else Rn&&(a.hoverData.dragging||!se.boxSelectionEnabled()||!Yi&&se.panningEnabled()&&se.userPanningEnabled()?!a.hoverData.selecting&&se.panningEnabled()&&se.userPanningEnabled()&&d(mt,a.hoverData.downs)&&(a.hoverData.dragging=!0,a.hoverData.justStartedPan=!0,Gt[4]=0,a.data.bgActivePosistion=Ht(et),a.redrawHint("select",!0),a.redraw()):Ca(),mt&&mt.pannable()&&mt.active()&&mt.unactivate());if(Gt[2]=ce[0],Gt[3]=ce[1],we)return O.stopPropagation&&O.stopPropagation(),O.preventDefault&&O.preventDefault(),!1}},!1),a.registerBinding(r,"mouseup",function(O){if(a.hoverData.capture){a.hoverData.capture=!1;var we=a.cy,se=a.projectIntoViewport(O.clientX,O.clientY),le=a.selection,it=a.findNearestElement(se[0],se[1],!0,!1),ce=a.dragData.possibleDragElements,et=a.hoverData.down,Mt=c(O);if(a.data.bgActivePosistion&&(a.redrawHint("select",!0),a.redraw()),a.hoverData.tapholdCancelled=!0,a.data.bgActivePosistion=void 0,et&&et.unactivate(),3===a.hoverData.which){var Gt={originalEvent:O,type:"cxttapend",position:{x:se[0],y:se[1]}};if(et?et.emit(Gt):we.emit(Gt),!a.hoverData.cxtDragged){var xt={originalEvent:O,type:"cxttap",position:{x:se[0],y:se[1]}};et?et.emit(xt):we.emit(xt)}a.hoverData.cxtDragged=!1,a.hoverData.which=null}else if(1===a.hoverData.which){if(u(it,["mouseup","tapend","vmouseup"],O,{x:se[0],y:se[1]}),!a.dragData.didDrag&&!a.hoverData.dragged&&!a.hoverData.selecting&&!a.hoverData.isOverThresholdDrag&&(u(et,["click","tap","vclick"],O,{x:se[0],y:se[1]}),U=!1,O.timeStamp-L<=we.multiClickDebounceTime()?(H&&clearTimeout(H),U=!0,L=null,u(et,["dblclick","dbltap","vdblclick"],O,{x:se[0],y:se[1]})):(H=setTimeout(function(){U||u(et,["oneclick","onetap","voneclick"],O,{x:se[0],y:se[1]})},we.multiClickDebounceTime()),L=O.timeStamp)),null==et&&!a.dragData.didDrag&&!a.hoverData.selecting&&!a.hoverData.dragged&&!c(O)&&(we.$(o).unselect(["tapunselect"]),ce.length>0&&a.redrawHint("eles",!0),a.dragData.possibleDragElements=ce=we.collection()),it==et&&!a.dragData.didDrag&&!a.hoverData.selecting&&null!=it&&it._private.selectable&&(a.hoverData.dragging||("additive"===we.selectionType()||Mt?it.selected()?it.unselect(["tapunselect"]):it.select(["tapselect"]):Mt||(we.$(o).unmerge(it).unselect(["tapunselect"]),it.select(["tapselect"]))),a.redrawHint("eles",!0)),a.hoverData.selecting){var qt=we.collection(a.getAllInBox(le[0],le[1],le[2],le[3]));a.redrawHint("select",!0),qt.length>0&&a.redrawHint("eles",!0),we.emit({type:"boxend",originalEvent:O,position:{x:se[0],y:se[1]}}),"additive"===we.selectionType()||Mt||we.$(o).unmerge(qt).unselect(),qt.emit("box").stdFilter(function(Rn){return Rn.selectable()&&!Rn.selected()}).select().emit("boxselect"),a.redraw()}if(a.hoverData.dragging&&(a.hoverData.dragging=!1,a.redrawHint("select",!0),a.redrawHint("eles",!0),a.redraw()),!le[4]){a.redrawHint("drag",!0),a.redrawHint("eles",!0);var ht=et&&et.grabbed();x(ce),ht&&(et.emit("freeon"),ce.emit("free"),a.dragData.didDrag&&(et.emit("dragfreeon"),ce.emit("dragfree")))}}le[4]=0,a.hoverData.down=null,a.hoverData.cxtStarted=!1,a.hoverData.draggingEles=!1,a.hoverData.selecting=!1,a.hoverData.isOverThresholdDrag=!1,a.dragData.didDrag=!1,a.hoverData.dragged=!1,a.hoverData.dragDelta=[],a.hoverData.mdownPos=null,a.hoverData.mdownGPos=null}},!1);var j=function(O){if(!a.scrollingPage){var ee=a.cy,we=ee.zoom(),se=ee.pan(),le=a.projectIntoViewport(O.clientX,O.clientY),it=[le[0]*we+se.x,le[1]*we+se.y];if(a.hoverData.draggingEles||a.hoverData.dragging||a.hoverData.cxtStarted||0!==a.selection[4])return void O.preventDefault();if(ee.panningEnabled()&&ee.userPanningEnabled()&&ee.zoomingEnabled()&&ee.userZoomingEnabled()){var ce;O.preventDefault(),a.data.wheelZooming=!0,clearTimeout(a.data.wheelTimeout),a.data.wheelTimeout=setTimeout(function(){a.data.wheelZooming=!1,a.redrawHint("eles",!0),a.redraw()},150),ce=null!=O.deltaY?O.deltaY/-250:null!=O.wheelDeltaY?O.wheelDeltaY/1e3:O.wheelDelta/1e3,ce*=a.wheelSensitivity,1===O.deltaMode&&(ce*=33);var Mt=ee.zoom()*Math.pow(10,ce);"gesturechange"===O.type&&(Mt=a.gestureStartZoom*O.scale),ee.zoom({level:Mt,renderedPosition:{x:it[0],y:it[1]}}),ee.emit("gesturechange"===O.type?"pinchzoom":"scrollzoom")}}};a.registerBinding(a.container,"wheel",j,!0),a.registerBinding(r,"scroll",function(O){a.scrollingPage=!0,clearTimeout(a.scrollingPageTimeout),a.scrollingPageTimeout=setTimeout(function(){a.scrollingPage=!1},250)},!0),a.registerBinding(a.container,"gesturestart",function(O){a.gestureStartZoom=a.cy.zoom(),a.hasTouchStarted||O.preventDefault()},!0),a.registerBinding(a.container,"gesturechange",function(re){a.hasTouchStarted||j(re)},!0),a.registerBinding(a.container,"mouseout",function(O){var ee=a.projectIntoViewport(O.clientX,O.clientY);a.cy.emit({originalEvent:O,type:"mouseout",position:{x:ee[0],y:ee[1]}})},!1),a.registerBinding(a.container,"mouseover",function(O){var ee=a.projectIntoViewport(O.clientX,O.clientY);a.cy.emit({originalEvent:O,type:"mouseover",position:{x:ee[0],y:ee[1]}})},!1);var B,Y,W,G,Q,ne,de,X,ue,oe,be,me,De,_e,Ie,ke,Je,Ct,Be,Fe,te=function(O,ee,we,se){return Math.sqrt((we-O)*(we-O)+(se-ee)*(se-ee))},ye=function(O,ee,we,se){return(we-O)*(we-O)+(se-ee)*(se-ee)};if(a.registerBinding(a.container,"touchstart",_e=function(O){if(a.hasTouchStarted=!0,N(O)){_(),a.touchData.capture=!0,a.data.bgActivePosistion=void 0;var ee=a.cy,we=a.touchData.now,se=a.touchData.earlier;if(O.touches[0]){var le=a.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);we[0]=le[0],we[1]=le[1]}if(O.touches[1]&&(le=a.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY),we[2]=le[0],we[3]=le[1]),O.touches[2]&&(le=a.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY),we[4]=le[0],we[5]=le[1]),O.touches[1]){a.touchData.singleTouchMoved=!0,x(a.dragData.touchDragEles);var it=a.findContainerClientCoords();be=it[2],me=it[3],Y=O.touches[0].clientY-(oe=it[1]),W=O.touches[1].clientX-(ue=it[0]),G=O.touches[1].clientY-oe,De=0<=(B=O.touches[0].clientX-ue)&&B<=be&&0<=W&&W<=be&&0<=Y&&Y<=me&&0<=G&&G<=me;var ce=ee.pan(),et=ee.zoom();if(Q=te(B,Y,W,G),ne=ye(B,Y,W,G),X=[((de=[(B+W)/2,(Y+G)/2])[0]-ce.x)/et,(de[1]-ce.y)/et],ne<4e4&&!O.touches[2]){var xt=a.findNearestElement(we[0],we[1],!0,!0),qt=a.findNearestElement(we[2],we[3],!0,!0);return xt&&xt.isNode()?(xt.activate().emit({originalEvent:O,type:"cxttapstart",position:{x:we[0],y:we[1]}}),a.touchData.start=xt):qt&&qt.isNode()?(qt.activate().emit({originalEvent:O,type:"cxttapstart",position:{x:we[0],y:we[1]}}),a.touchData.start=qt):ee.emit({originalEvent:O,type:"cxttapstart",position:{x:we[0],y:we[1]}}),a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxt=!0,a.touchData.cxtDragged=!1,a.data.bgActivePosistion=void 0,void a.redraw()}}if(O.touches[2])ee.boxSelectionEnabled()&&O.preventDefault();else if(!O.touches[1]&&O.touches[0]){var mt=a.findNearestElements(we[0],we[1],!0,!0),ht=mt[0];if(null!=ht&&(ht.activate(),a.touchData.start=ht,a.touchData.starts=mt,a.nodeIsGrabbable(ht))){var mn=a.dragData.touchDragEles=ee.collection(),Rn=null;a.redrawHint("eles",!0),a.redrawHint("drag",!0),ht.selected()?(Rn=ee.$(function(Er){return Er.selected()&&a.nodeIsGrabbable(Er)}),E(Rn,{addToList:mn})):T(ht,{addToList:mn}),m(ht);var si=function(Yi){return{originalEvent:O,type:Yi,position:{x:we[0],y:we[1]}}};ht.emit(si("grabon")),Rn?Rn.forEach(function(Er){Er.emit(si("grab"))}):ht.emit(si("grab"))}u(ht,["touchstart","tapstart","vmousedown"],O,{x:we[0],y:we[1]}),null==ht&&(a.data.bgActivePosistion={x:le[0],y:le[1]},a.redrawHint("select",!0),a.redraw()),a.touchData.singleTouchMoved=!1,a.touchData.singleTouchStartTime=+new Date,clearTimeout(a.touchData.tapholdTimeout),a.touchData.tapholdTimeout=setTimeout(function(){!1===a.touchData.singleTouchMoved&&!a.pinching&&!a.touchData.selecting&&u(a.touchData.start,["taphold"],O,{x:we[0],y:we[1]})},a.tapholdDuration)}if(O.touches.length>=1){for(var ui=a.touchData.startPosition=[null,null,null,null,null,null],Hn=0;Hn<we.length;Hn++)ui[Hn]=se[Hn]=we[Hn];var er=O.touches[0];a.touchData.startGPosition=[er.clientX,er.clientY]}}},!1),a.registerBinding(window,"touchmove",Ie=function(O){var ee=a.touchData.capture;if(ee||N(O)){var we=a.selection,se=a.cy,le=a.touchData.now,it=a.touchData.earlier,ce=se.zoom();if(O.touches[0]){var et=a.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);le[0]=et[0],le[1]=et[1]}O.touches[1]&&(et=a.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY),le[2]=et[0],le[3]=et[1]),O.touches[2]&&(et=a.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY),le[4]=et[0],le[5]=et[1]);var Gt,Mt=a.touchData.startGPosition;if(ee&&O.touches[0]&&Mt){for(var xt=[],qt=0;qt<le.length;qt++)xt[qt]=le[qt]-it[qt];var mt=O.touches[0].clientX-Mt[0],mn=O.touches[0].clientY-Mt[1];Gt=mt*mt+mn*mn>=a.touchTapThreshold2}if(ee&&a.touchData.cxt){O.preventDefault();var Yi=ye(ui=O.touches[0].clientX-ue,Hn=O.touches[0].clientY-oe,er=O.touches[1].clientX-ue,Er=O.touches[1].clientY-oe);if(Yi/ne>=2.25||Yi>=22500){a.touchData.cxt=!1,a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);var Sa={originalEvent:O,type:"cxttapend",position:{x:le[0],y:le[1]}};a.touchData.start?(a.touchData.start.unactivate().emit(Sa),a.touchData.start=null):se.emit(Sa)}}if(ee&&a.touchData.cxt){Sa={originalEvent:O,type:"cxtdrag",position:{x:le[0],y:le[1]}},a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),a.touchData.start?a.touchData.start.emit(Sa):se.emit(Sa),a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxtDragged=!0;var $r=a.findNearestElement(le[0],le[1],!0,!0);(!a.touchData.cxtOver||$r!==a.touchData.cxtOver)&&(a.touchData.cxtOver&&a.touchData.cxtOver.emit({originalEvent:O,type:"cxtdragout",position:{x:le[0],y:le[1]}}),a.touchData.cxtOver=$r,$r&&$r.emit({originalEvent:O,type:"cxtdragover",position:{x:le[0],y:le[1]}}))}else if(ee&&O.touches[2]&&se.boxSelectionEnabled())O.preventDefault(),a.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,a.touchData.selecting||se.emit({originalEvent:O,type:"boxstart",position:{x:le[0],y:le[1]}}),a.touchData.selecting=!0,a.touchData.didSelect=!0,we[4]=1,we&&0!==we.length&&void 0!==we[0]?(we[2]=(le[0]+le[2]+le[4])/3,we[3]=(le[1]+le[3]+le[5])/3):(we[0]=(le[0]+le[2]+le[4])/3,we[1]=(le[1]+le[3]+le[5])/3,we[2]=(le[0]+le[2]+le[4])/3+1,we[3]=(le[1]+le[3]+le[5])/3+1),a.redrawHint("select",!0),a.redraw();else if(ee&&O.touches[1]&&!a.touchData.didSelect&&se.zoomingEnabled()&&se.panningEnabled()&&se.userZoomingEnabled()&&se.userPanningEnabled()){if(O.preventDefault(),a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),fr=a.dragData.touchDragEles){a.redrawHint("drag",!0);for(var Un=0;Un<fr.length;Un++){var Zu=fr[Un]._private;Zu.grabbed=!1,Zu.rscratch.inDragLayer=!1}}var ui,Hn,er,Er,Cr=a.touchData.start,Zi=te(ui=O.touches[0].clientX-ue,Hn=O.touches[0].clientY-oe,er=O.touches[1].clientX-ue,Er=O.touches[1].clientY-oe),Tg=Zi/Q;if(De){var Xu=(ui-B+(er-W))/2,_g=(Hn-Y+(Er-G))/2,eo=se.zoom(),Bs=eo*Tg,Ju=se.pan(),el=X[0]*eo+Ju.x,to=X[1]*eo+Ju.y,Ag={x:-Bs/eo*(el-Ju.x-Xu)+el,y:-Bs/eo*(to-Ju.y-_g)+to};Cr&&Cr.active()&&(x(fr=a.dragData.touchDragEles),a.redrawHint("drag",!0),a.redrawHint("eles",!0),Cr.unactivate().emit("freeon"),fr.emit("free"),a.dragData.didDrag&&(Cr.emit("dragfreeon"),fr.emit("dragfree"))),se.viewport({zoom:Bs,pan:Ag,cancelOnFailedZoom:!0}),se.emit("pinchzoom"),Q=Zi,B=ui,Y=Hn,W=er,G=Er,a.pinching=!0}O.touches[0]&&(et=a.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY),le[0]=et[0],le[1]=et[1]),O.touches[1]&&(et=a.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY),le[2]=et[0],le[3]=et[1]),O.touches[2]&&(et=a.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY),le[4]=et[0],le[5]=et[1])}else if(O.touches[0]&&!a.touchData.didSelect){var li=a.touchData.start,Zc=a.touchData.last;if(!a.hoverData.draggingEles&&!a.swipePanning&&($r=a.findNearestElement(le[0],le[1],!0,!0)),ee&&null!=li&&O.preventDefault(),ee&&null!=li&&a.nodeIsDraggable(li))if(Gt){var fr=a.dragData.touchDragEles,Ph=!a.dragData.didDrag;Ph&&E(fr,{inDragLayer:!0}),a.dragData.didDrag=!0;var Vs={x:0,y:0};Ve(xt[0])&&Ve(xt[1])&&(Vs.x+=xt[0],Vs.y+=xt[1],Ph)&&(a.redrawHint("eles",!0),(ci=a.touchData.dragDelta)&&Ve(ci[0])&&Ve(ci[1])&&(Vs.x+=ci[0],Vs.y+=ci[1])),a.hoverData.draggingEles=!0,fr.silentShift(Vs).emit("position drag"),a.redrawHint("drag",!0),a.touchData.startPosition[0]==it[0]&&a.touchData.startPosition[1]==it[1]&&a.redrawHint("eles",!0),a.redraw()}else{var ci;0===(ci=a.touchData.dragDelta=a.touchData.dragDelta||[]).length?(ci.push(xt[0]),ci.push(xt[1])):(ci[0]+=xt[0],ci[1]+=xt[1])}if(u(li||$r,["touchmove","tapdrag","vmousemove"],O,{x:le[0],y:le[1]}),(!li||!li.grabbed())&&$r!=Zc&&(Zc&&Zc.emit({originalEvent:O,type:"tapdragout",position:{x:le[0],y:le[1]}}),$r&&$r.emit({originalEvent:O,type:"tapdragover",position:{x:le[0],y:le[1]}})),a.touchData.last=$r,ee)for(Un=0;Un<le.length;Un++)le[Un]&&a.touchData.startPosition[Un]&&Gt&&(a.touchData.singleTouchMoved=!0);ee&&(null==li||li.pannable())&&se.panningEnabled()&&se.userPanningEnabled()&&(d(li,a.touchData.starts)&&(O.preventDefault(),a.data.bgActivePosistion||(a.data.bgActivePosistion=Ht(a.touchData.startPosition)),a.swipePanning?(se.panBy({x:xt[0]*ce,y:xt[1]*ce}),se.emit("dragpan")):Gt&&(a.swipePanning=!0,se.panBy({x:mt*ce,y:mn*ce}),se.emit("dragpan"),li&&(li.unactivate(),a.redrawHint("select",!0),a.touchData.start=null))),et=a.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY),le[0]=et[0],le[1]=et[1])}for(qt=0;qt<le.length;qt++)it[qt]=le[qt];ee&&O.touches.length>0&&!a.hoverData.draggingEles&&!a.swipePanning&&null!=a.data.bgActivePosistion&&(a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),a.redraw())}},!1),a.registerBinding(r,"touchcancel",ke=function(O){var ee=a.touchData.start;a.touchData.capture=!1,ee&&ee.unactivate()}),a.registerBinding(r,"touchend",Je=function(O){var ee=a.touchData.start;if(a.touchData.capture){0===O.touches.length&&(a.touchData.capture=!1),O.preventDefault();var se=a.selection;a.swipePanning=!1,a.hoverData.draggingEles=!1;var Gt,le=a.cy,it=le.zoom(),ce=a.touchData.now,et=a.touchData.earlier;if(O.touches[0]){var Mt=a.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);ce[0]=Mt[0],ce[1]=Mt[1]}if(O.touches[1]&&(Mt=a.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY),ce[2]=Mt[0],ce[3]=Mt[1]),O.touches[2]&&(Mt=a.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY),ce[4]=Mt[0],ce[5]=Mt[1]),ee&&ee.unactivate(),a.touchData.cxt){if(Gt={originalEvent:O,type:"cxttapend",position:{x:ce[0],y:ce[1]}},ee?ee.emit(Gt):le.emit(Gt),!a.touchData.cxtDragged){var xt={originalEvent:O,type:"cxttap",position:{x:ce[0],y:ce[1]}};ee?ee.emit(xt):le.emit(xt)}return a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxt=!1,a.touchData.start=null,void a.redraw()}if(!O.touches[2]&&le.boxSelectionEnabled()&&a.touchData.selecting){a.touchData.selecting=!1;var qt=le.collection(a.getAllInBox(se[0],se[1],se[2],se[3]));se[0]=void 0,se[1]=void 0,se[2]=void 0,se[3]=void 0,se[4]=0,a.redrawHint("select",!0),le.emit({type:"boxend",originalEvent:O,position:{x:ce[0],y:ce[1]}}),qt.emit("box").stdFilter(function(Xa){return Xa.selectable()&&!Xa.selected()}).select().emit("boxselect"),qt.nonempty()&&a.redrawHint("eles",!0),a.redraw()}if(ee?.unactivate(),O.touches[2])a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);else if(!O.touches[1]&&!O.touches[0]&&!O.touches[0]){a.data.bgActivePosistion=void 0,a.redrawHint("select",!0);var ht=a.dragData.touchDragEles;if(null!=ee){var mn=ee._private.grabbed;x(ht),a.redrawHint("drag",!0),a.redrawHint("eles",!0),mn&&(ee.emit("freeon"),ht.emit("free"),a.dragData.didDrag&&(ee.emit("dragfreeon"),ht.emit("dragfree"))),u(ee,["touchend","tapend","vmouseup","tapdragout"],O,{x:ce[0],y:ce[1]}),ee.unactivate(),a.touchData.start=null}else{var Rn=a.findNearestElement(ce[0],ce[1],!0,!0);u(Rn,["touchend","tapend","vmouseup","tapdragout"],O,{x:ce[0],y:ce[1]})}var si=a.touchData.startPosition[0]-ce[0],Hn=a.touchData.startPosition[1]-ce[1],Yi=(si*si+Hn*Hn)*it*it;a.touchData.singleTouchMoved||(ee||le.$(":selected").unselect(["tapunselect"]),u(ee,["tap","vclick"],O,{x:ce[0],y:ce[1]}),Ct=!1,O.timeStamp-Fe<=le.multiClickDebounceTime()?(Be&&clearTimeout(Be),Ct=!0,Fe=null,u(ee,["dbltap","vdblclick"],O,{x:ce[0],y:ce[1]})):(Be=setTimeout(function(){Ct||u(ee,["onetap","voneclick"],O,{x:ce[0],y:ce[1]})},le.multiClickDebounceTime()),Fe=O.timeStamp)),null!=ee&&!a.dragData.didDrag&&ee._private.selectable&&Yi<a.touchTapThreshold2&&!a.pinching&&("single"===le.selectionType()?(le.$(o).unmerge(ee).unselect(["tapunselect"]),ee.select(["tapselect"])):ee.selected()?ee.unselect(["tapunselect"]):ee.select(["tapselect"]),a.redrawHint("eles",!0)),a.touchData.singleTouchMoved=!0}for(var Ea=0;Ea<ce.length;Ea++)et[Ea]=ce[Ea];a.dragData.didDrag=!1,0===O.touches.length&&(a.touchData.dragDelta=[],a.touchData.startPosition=[null,null,null,null,null,null],a.touchData.startGPosition=null,a.touchData.didSelect=!1),O.touches.length<2&&(1===O.touches.length&&(a.touchData.startGPosition=[O.touches[0].clientX,O.touches[0].clientY]),a.pinching=!1,a.redrawHint("eles",!0),a.redraw())}},!1),typeof TouchEvent>"u"){var tt=[],nt=function(O){return{clientX:O.clientX,clientY:O.clientY,force:1,identifier:O.pointerId,pageX:O.pageX,pageY:O.pageY,radiusX:O.width/2,radiusY:O.height/2,screenX:O.screenX,screenY:O.screenY,target:O.target}},jt=function(O){for(var ee=0;ee<tt.length;ee++)if(tt[ee].event.pointerId===O.pointerId)return void tt.splice(ee,1)},yt=function(O){O.touches=tt.map(function(ee){return ee.touch})},Nt=function(O){return"mouse"===O.pointerType||4===O.pointerType};a.registerBinding(a.container,"pointerdown",function(re){Nt(re)||(re.preventDefault(),tt.push(function(O){return{event:O,touch:nt(O)}}(re)),yt(re),_e(re))}),a.registerBinding(a.container,"pointerup",function(re){Nt(re)||(jt(re),yt(re),Je(re))}),a.registerBinding(a.container,"pointercancel",function(re){Nt(re)||(jt(re),yt(re),ke())}),a.registerBinding(a.container,"pointermove",function(re){var O,ee;Nt(re)||(re.preventDefault(),O=re,(ee=tt.filter(function(we){return we.event.pointerId===O.pointerId})[0]).event=O,ee.touch=nt(O),yt(re),Ie(re))})}};var Ii={generatePolygon:function(a,r){return this.nodeShapes[a]={renderer:this,name:a,points:r,draw:function(u,c,d,f,p){this.renderer.nodeShapeImpl("polygon",u,c,d,f,p,this.points)},intersectLine:function(u,c,d,f,p,g,v){return ka(p,g,this.points,u,c,d/2,f/2,v)},checkPoint:function(u,c,d,f,p,g,v){return Li(u,c,this.points,g,v,f,p,[0,-1],d)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(r,o,u,c,d){this.renderer.nodeShapeImpl(this.name,r,o,u,c,d)},intersectLine:function(r,o,u,c,d,f,p){return function(r,o,u,c,d,f){var p=u-r,g=c-o;p/=d,g/=f;var v=Math.sqrt(p*p+g*g),m=v-1;if(m<0)return[];var w=m/v;return[(u-r)*w+r,(c-o)*w+o]}(d,f,r,o,u/2+p,c/2+p)},checkPoint:function(r,o,u,c,d,f,p){return wo(r,o,c,d,f,p,u)}}},generateRoundPolygon:function(a,r){for(var o=new Array(2*r.length),u=0;u<r.length/2;u++){var d,c=2*u;d=u<r.length/2-1?2*(u+1):0,o[4*u]=r[c],o[4*u+1]=r[c+1];var f=r[d]-r[c],p=r[d+1]-r[c+1],g=Math.sqrt(f*f+p*p);o[4*u+2]=f/g,o[4*u+3]=p/g}return this.nodeShapes[a]={renderer:this,name:a,points:o,draw:function(m,w,D,C,E){this.renderer.nodeShapeImpl("round-polygon",m,w,D,C,E,this.points)},intersectLine:function(m,w,D,C,E,T,x){return function(r,o,u,c,d,f,p,g){for(var m,v=[],w=new Array(u.length),D=f/2,C=p/2,E=ua(f,p),T=0;T<u.length/4;T++){var M,x;x=0===T?u.length-2:4*T-2,M=4*T+2;var _=c+D*u[4*T],A=d+C*u[4*T+1],F=E/Math.tan(Math.acos(-u[x]*u[M]-u[x+1]*u[M+1])/2),$=_-F*u[x],k=A-F*u[x+1],V=_+F*u[M],N=A+F*u[M+1];0===T?(w[u.length-2]=$,w[u.length-1]=k):(w[4*T-2]=$,w[4*T-1]=k),w[4*T]=V,w[4*T+1]=N;var H=u[x+1],U=-u[x];H*u[M]+U*u[M+1]<0&&(H*=-1,U*=-1),0!==(m=au(r,o,c,d,$+H*E,k+U*E,E)).length&&v.push(m[0],m[1])}for(var Y=0;Y<w.length/4;Y++)0!==(m=Zr(r,o,c,d,w[4*Y],w[4*Y+1],w[4*Y+2],w[4*Y+3],!1)).length&&v.push(m[0],m[1]);if(v.length>2){for(var W=[v[0],v[1]],G=Math.pow(W[0]-r,2)+Math.pow(W[1]-o,2),Q=1;Q<v.length/2;Q++){var ne=Math.pow(v[2*Q]-r,2)+Math.pow(v[2*Q+1]-o,2);ne<=G&&(W[0]=v[2*Q],W[1]=v[2*Q+1],G=ne)}return W}return v}(E,T,this.points,m,w,D,C)},checkPoint:function(m,w,D,C,E,T,x){return function(r,o,u,c,d,f,p){for(var g=new Array(u.length),v=f/2,m=p/2,w=ua(f,p),D=w*w,C=0;C<u.length/4;C++){var T,E;E=0===C?u.length-2:4*C-2,T=4*C+2;var x=c+v*u[4*C],M=d+m*u[4*C+1],A=w/Math.tan(Math.acos(-u[E]*u[T]-u[E+1]*u[T+1])/2),R=x-A*u[E],F=M-A*u[E+1],$=x+A*u[T],k=M+A*u[T+1];g[4*C]=R,g[4*C+1]=F,g[4*C+2]=$,g[4*C+3]=k;var V=u[E+1],N=-u[E];V*u[T]+N*u[T+1]<0&&(V*=-1,N*=-1);var L=F+N*w;if(Math.pow(R+V*w-r,2)+Math.pow(L-o,2)<=D)return!0}return rr(r,o,g)}(m,w,this.points,T,x,C,E)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:hr(4,0),draw:function(r,o,u,c,d){this.renderer.nodeShapeImpl(this.name,r,o,u,c,d)},intersectLine:function(r,o,u,c,d,f,p){return Xd(d,f,r,o,u,c,p)},checkPoint:function(r,o,u,c,d,f,p){var g=Fi(c,d),v=2*g;return!!(Li(r,o,this.points,f,p,c,d-v,[0,-1],u)||Li(r,o,this.points,f,p,c-v,d,[0,-1],u)||wo(r,o,v,v,f-c/2+g,p-d/2+g,u)||wo(r,o,v,v,f+c/2-g,p-d/2+g,u)||wo(r,o,v,v,f+c/2-g,p+d/2-g,u)||wo(r,o,v,v,f-c/2+g,p+d/2-g,u))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:hr(4,0),draw:function(r,o,u,c,d){this.renderer.nodeShapeImpl(this.name,r,o,u,c,d)},generateCutTrianglePts:function(r,o,u,c){var d=this.cornerLength,f=o/2,p=r/2,g=u-p,v=u+p,m=c-f,w=c+f;return{topLeft:[g,m+d,g+d,m,g+d,m+d],topRight:[v-d,m,v,m+d,v-d,m+d],bottomRight:[v,w-d,v-d,w,v-d,w-d],bottomLeft:[g+d,w,g,w-d,g+d,w-d]}},intersectLine:function(r,o,u,c,d,f,p){var g=this.generateCutTrianglePts(u+2*p,c+2*p,r,o),v=[].concat.apply([],[g.topLeft.splice(0,4),g.topRight.splice(0,4),g.bottomRight.splice(0,4),g.bottomLeft.splice(0,4)]);return ka(d,f,v,r,o)},checkPoint:function(r,o,u,c,d,f,p){if(Li(r,o,this.points,f,p,c,d-2*this.cornerLength,[0,-1],u)||Li(r,o,this.points,f,p,c-2*this.cornerLength,d,[0,-1],u))return!0;var g=this.generateCutTrianglePts(c,d,f,p);return rr(r,o,g.topLeft)||rr(r,o,g.topRight)||rr(r,o,g.bottomRight)||rr(r,o,g.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:hr(4,0),draw:function(r,o,u,c,d){this.renderer.nodeShapeImpl(this.name,r,o,u,c,d)},intersectLine:function(r,o,u,c,d,f,p){var w=this.generateBarrelBezierPts(u+2*p,c+2*p,r,o),D=function(T){var x=ts({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},.15),M=ts({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},.5),_=ts({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},.85);return[T[0],T[1],x.x,x.y,M.x,M.y,_.x,_.y,T[4],T[5]]},C=[].concat(D(w.topLeft),D(w.topRight),D(w.bottomRight),D(w.bottomLeft));return ka(d,f,C,r,o)},generateBarrelBezierPts:function(r,o,u,c){var d=o/2,f=r/2,p=u-f,g=u+f,v=c-d,m=c+d,w=lu(r,o),D=w.heightOffset,C=w.widthOffset,E=w.ctrlPtOffsetPct*r,T={topLeft:[p,v+D,p+E,v,p+C,v],topRight:[g-C,v,g-E,v,g,v+D],bottomRight:[g,m-D,g-E,m,g-C,m],bottomLeft:[p+C,m,p+E,m,p,m-D]};return T.topLeft.isTop=!0,T.topRight.isTop=!0,T.bottomLeft.isBottom=!0,T.bottomRight.isBottom=!0,T},checkPoint:function(r,o,u,c,d,f,p){var g=lu(c,d),m=g.widthOffset;if(Li(r,o,this.points,f,p,c,d-2*g.heightOffset,[0,-1],u)||Li(r,o,this.points,f,p,c-2*m,d,[0,-1],u))return!0;for(var w=this.generateBarrelBezierPts(c,d,f,p),D=function(k,V,N){var H=N[4],U=N[2],L=N[0],j=N[5],B=N[1],Y=Math.min(H,L),W=Math.max(H,L),G=Math.min(j,B),Q=Math.max(j,B);if(Y<=k&&k<=W&&G<=V&&V<=Q){var ne=function(r,o,u){return[r-2*o+u,2*(o-r),r]}(H,U,L),de=function(r,o,u,c){var d=o*o-4*r*(u-=c);if(d<0)return[];var f=Math.sqrt(d),p=2*r;return[(-o+f)/p,(-o-f)/p]}(ne[0],ne[1],ne[2],k),X=de.filter(function(ue){return 0<=ue&&ue<=1});if(X.length>0)return X[0]}return null},C=Object.keys(w),E=0;E<C.length;E++){var x=w[C[E]],M=D(r,o,x);if(null!=M){var F=Wn(x[5],x[3],x[1],M);if(x.isTop&&F<=o||x.isBottom&&o<=F)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:hr(4,0),draw:function(r,o,u,c,d){this.renderer.nodeShapeImpl(this.name,r,o,u,c,d)},intersectLine:function(r,o,u,c,d,f,p){var v=o-(c/2+p),D=Zr(d,f,r,o,r-(u/2+p),v,r+(u/2+p),v,!1);return D.length>0?D:Xd(d,f,r,o,u,c,p)},checkPoint:function(r,o,u,c,d,f,p){var g=Fi(c,d),v=2*g;if(Li(r,o,this.points,f,p,c,d-v,[0,-1],u)||Li(r,o,this.points,f,p,c-v,d,[0,-1],u))return!0;var m=c/2+2*u,w=d/2+2*u;return!!(rr(r,o,[f-m,p-w,f-m,p,f+m,p,f+m,p-w])||wo(r,o,v,v,f+c/2-g,p+d/2-g,u)||wo(r,o,v,v,f-c/2+g,p+d/2-g,u))}}},registerNodeShapes:function(){var a=this.nodeShapes={},r=this;this.generateEllipse(),this.generatePolygon("triangle",hr(3,0)),this.generateRoundPolygon("round-triangle",hr(3,0)),this.generatePolygon("rectangle",hr(4,0)),a.square=a.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var o=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",o),this.generateRoundPolygon("round-diamond",o),this.generatePolygon("pentagon",hr(5,0)),this.generateRoundPolygon("round-pentagon",hr(5,0)),this.generatePolygon("hexagon",hr(6,0)),this.generateRoundPolygon("round-hexagon",hr(6,0)),this.generatePolygon("heptagon",hr(7,0)),this.generateRoundPolygon("round-heptagon",hr(7,0)),this.generatePolygon("octagon",hr(8,0)),this.generateRoundPolygon("round-octagon",hr(8,0));var u=new Array(20),c=uu(5,0),d=uu(5,Math.PI/5),f=.5*(3-Math.sqrt(5));f*=1.57;for(var p=0;p<d.length/2;p++)d[2*p]*=f,d[2*p+1]*=f;for(p=0;p<5;p++)u[4*p]=c[2*p],u[4*p+1]=c[2*p+1],u[4*p+2]=d[2*p],u[4*p+3]=d[2*p+1];u=nf(u),this.generatePolygon("star",u),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var g=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",g),this.generateRoundPolygon("round-tag",g),a.makePolygon=function(v){var D,w="polygon-"+v.join("$");return(D=this[w])?D:r.generatePolygon(w,v)}}},zn={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(a){a=a||eu();var r=this;void 0===r.averageRedrawTime&&(r.averageRedrawTime=0),void 0===r.lastRedrawTime&&(r.lastRedrawTime=0),void 0===r.lastDrawTime&&(r.lastDrawTime=0),r.requestedFrame=!0,r.renderOptions=a},beforeRender:function(a,r){if(!this.destroyed){null==r&&nn("Priority is not optional for beforeRender");var o=this.beforeRenderCallbacks;o.push({fn:a,priority:r}),o.sort(function(u,c){return c.priority-u.priority})}}},sh=function(r,o,u){for(var c=r.beforeRenderCallbacks,d=0;d<c.length;d++)c[d].fn(o,u)};zn.startRenderLoop=function(){var a=this,r=a.cy;a.renderLoopStarted||(a.renderLoopStarted=!0,Qs(function u(c){if(!a.destroyed){if(!r.batching())if(a.requestedFrame&&!a.skipFrame){sh(a,!0,c);var d=ki();a.render(a.renderOptions);var f=a.lastDrawTime=ki();void 0===a.averageRedrawTime&&(a.averageRedrawTime=f-d),void 0===a.redrawCount&&(a.redrawCount=0),a.redrawCount++,void 0===a.redrawTotalTime&&(a.redrawTotalTime=0);var p=f-d;a.redrawTotalTime+=p,a.lastRedrawTime=p,a.averageRedrawTime=a.averageRedrawTime/2+p/2,a.requestedFrame=!1}else sh(a,!1,c);a.skipFrame=!1,Qs(u)}}))};var uh=function(r){this.init(r)},qa=uh.prototype;qa.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],qa.init=function(a){var r=this;r.options=a,r.cy=a.cy;var o=r.container=a.cy.container(),u=r.cy.window();if(u){var c=u.document,d=c.head,f="__________cytoscape_stylesheet",p="__________cytoscape_container",g=null!=c.getElementById(f);if(o.className.indexOf(p)<0&&(o.className=(o.className||"")+" "+p),!g){var v=c.createElement("style");v.id=f,v.textContent="."+p+" { position: relative; }",d.insertBefore(v,d.children[0])}"static"===u.getComputedStyle(o).getPropertyValue("position")&&Dt("A Cytoscape container has style position:static and so can not use UI extensions properly")}r.selection=[void 0,void 0,void 0,void 0,0],r.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],r.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},r.dragData={possibleDragElements:[]},r.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},r.redraws=0,r.showFps=a.showFps,r.debug=a.debug,r.hideEdgesOnViewport=a.hideEdgesOnViewport,r.textureOnViewport=a.textureOnViewport,r.wheelSensitivity=a.wheelSensitivity,r.motionBlurEnabled=a.motionBlur,r.forcedPixelRatio=Ve(a.pixelRatio)?a.pixelRatio:null,r.motionBlur=a.motionBlur,r.motionBlurOpacity=a.motionBlurOpacity,r.motionBlurTransparency=1-r.motionBlurOpacity,r.motionBlurPxRatio=1,r.mbPxRBlurry=1,r.minMbLowQualFrames=4,r.fullQualityMb=!1,r.clearedForMotionBlur=[],r.desktopTapThreshold=a.desktopTapThreshold,r.desktopTapThreshold2=a.desktopTapThreshold*a.desktopTapThreshold,r.touchTapThreshold=a.touchTapThreshold,r.touchTapThreshold2=a.touchTapThreshold*a.touchTapThreshold,r.tapholdDuration=500,r.bindings=[],r.beforeRenderCallbacks=[],r.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},r.registerNodeShapes(),r.registerArrowShapes(),r.registerCalculationListeners()},qa.notify=function(a,r){var o=this,u=o.cy;if(!this.destroyed){if("init"===a)return void o.load();if("destroy"===a)return void o.destroy();("add"===a||"remove"===a||"move"===a&&u.hasCompoundNodes()||"load"===a||"zorder"===a||"mount"===a)&&o.invalidateCachedZSortedEles(),"viewport"===a&&o.redrawHint("select",!0),("load"===a||"resize"===a||"mount"===a)&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container)),o.redrawHint("eles",!0),o.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},qa.destroy=function(){var a=this;a.destroyed=!0,a.cy.stopAnimationLoop();for(var r=0;r<a.bindings.length;r++){var o=a.bindings[r],c=o.target;(c.off||c.removeEventListener).apply(c,o.args)}if(a.bindings=[],a.beforeRenderCallbacks=[],a.onUpdateEleCalcsFns=[],a.removeObserver&&a.removeObserver.disconnect(),a.styleObserver&&a.styleObserver.disconnect(),a.resizeObserver&&a.resizeObserver.disconnect(),a.labelCalcDiv)try{document.body.removeChild(a.labelCalcDiv)}catch{}},qa.isHeadless=function(){return!1},[Lu,Vu,Rc,Ga,Ii,zn].forEach(function(a){st(qa,a)});var As=1e3/60,lh_setupDequeueing=function(r){return function(){var u=this,c=this.renderer;if(!u.dequeueingSetup){u.dequeueingSetup=!0;var d=Me.default(function(){c.redrawHint("eles",!0),c.redrawHint("drag",!0),c.redraw()},r.deqRedrawThreshold);c.beforeRender(function(v,m){var w=ki(),D=c.averageRedrawTime,C=c.lastRedrawTime,E=[],T=c.cy.extent(),x=c.getPixelRatio();for(v||c.flushRenderedStyleQueue();;){var M=ki(),_=M-w,A=M-m;if(C<As){if(A>=r.deqFastCost*(As-(v?D:0)))break}else if(v){if(_>=r.deqCost*C||_>=r.deqAvgCost*D)break}else if(A>=r.deqNoDrawCost*As)break;var F=r.deq(u,x,T);if(!(F.length>0))break;for(var $=0;$<F.length;$++)E.push(F[$])}E.length>0&&(r.onDeqd(u,E),!v&&r.shouldRedraw(u,E,x,T)&&d())},(r.priority||Hl)(u))}}},lg=function(){function a(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jo;$t(this,a),this.idsByKey=new pi,this.keyForId=new pi,this.cachesByLvl=new pi,this.lvls=[],this.getKey=r,this.doesEleInvalidateKey=o}return gt(a,[{key:"getIdsFor",value:function(o){null==o&&nn("Can not get id list for null key");var u=this.idsByKey,c=this.idsByKey.get(o);return c||(c=new mo,u.set(o,c)),c}},{key:"addIdForKey",value:function(o,u){null!=o&&this.getIdsFor(o).add(u)}},{key:"deleteIdForKey",value:function(o,u){null!=o&&this.getIdsFor(o).delete(u)}},{key:"getNumberOfIdsForKey",value:function(o){return null==o?0:this.getIdsFor(o).size}},{key:"updateKeyMappingFor",value:function(o){var u=o.id(),c=this.keyForId.get(u),d=this.getKey(o);this.deleteIdForKey(c,u),this.addIdForKey(d,u),this.keyForId.set(u,d)}},{key:"deleteKeyMappingFor",value:function(o){var u=o.id(),c=this.keyForId.get(u);this.deleteIdForKey(c,u),this.keyForId.delete(u)}},{key:"keyHasChangedFor",value:function(o){var u=o.id();return this.keyForId.get(u)!==this.getKey(o)}},{key:"isInvalid",value:function(o){return this.keyHasChangedFor(o)||this.doesEleInvalidateKey(o)}},{key:"getCachesAt",value:function(o){var u=this.cachesByLvl,c=this.lvls,d=u.get(o);return d||(d=new pi,u.set(o,d),c.push(o)),d}},{key:"getCache",value:function(o,u){return this.getCachesAt(u).get(o)}},{key:"get",value:function(o,u){var c=this.getKey(o),d=this.getCache(c,u);return null!=d&&this.updateKeyMappingFor(o),d}},{key:"getForCachedKey",value:function(o,u){var c=this.keyForId.get(o.id());return this.getCache(c,u)}},{key:"hasCache",value:function(o,u){return this.getCachesAt(u).has(o)}},{key:"has",value:function(o,u){var c=this.getKey(o);return this.hasCache(c,u)}},{key:"setCache",value:function(o,u,c){c.key=o,this.getCachesAt(u).set(o,c)}},{key:"set",value:function(o,u,c){var d=this.getKey(o);this.setCache(d,u,c),this.updateKeyMappingFor(o)}},{key:"deleteCache",value:function(o,u){this.getCachesAt(u).delete(o)}},{key:"delete",value:function(o,u){var c=this.getKey(o);this.deleteCache(c,u)}},{key:"invalidateKey",value:function(o){var u=this;this.lvls.forEach(function(c){return u.deleteCache(o,c)})}},{key:"invalidate",value:function(o){var u=o.id(),c=this.keyForId.get(u);this.deleteKeyMappingFor(o);var d=this.doesEleInvalidateKey(o);return d&&this.invalidateKey(c),d||0===this.getNumberOfIdsForKey(c)}}]),a}(),Vo={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},hg=qn({getKey:null,doesEleInvalidateKey:Jo,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:jd,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Wa=function(r,o){var u=this;u.renderer=r,u.onDequeues=[];var c=hg(o);st(u,c),u.lookup=new lg(c.getKey,c.doesEleInvalidateKey),u.setupDequeueing()},Sn=Wa.prototype;Sn.reasons=Vo,Sn.getTextureQueue=function(a){var r=this;return r.eleImgCaches=r.eleImgCaches||{},r.eleImgCaches[a]=r.eleImgCaches[a]||[]},Sn.getRetiredTextureQueue=function(a){var o=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return o[a]=o[a]||[]},Sn.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new ve.default(function(o,u){return u.reqs-o.reqs})},Sn.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Sn.getElement=function(a,r,o,u,c){var d=this,f=this.renderer,p=f.cy.zoom(),g=this.lookup;if(!r||0===r.w||0===r.h||isNaN(r.w)||isNaN(r.h)||!a.visible()||a.removed()||!d.allowEdgeTxrCaching&&a.isEdge()||!d.allowParentTxrCaching&&a.isParent())return null;if(null==u&&(u=Math.ceil(Ql(p*o))),u<-4)u=-4;else if(p>=7.99||u>3)return null;var v=Math.pow(2,u),m=r.h*v,w=r.w*v,D=f.eleTextBiggerThanMin(a,v);if(!this.isVisible(a,D))return null;var E,C=g.get(a,u);if(C&&C.invalidated&&(C.invalidated=!1,C.texture.invalidatedWidth-=C.width),C)return C;if(E=m<=25?25:m<=50?50:50*Math.ceil(m/50),m>1024||w>1024)return null;var T=d.getTextureQueue(E),x=T[T.length-2],M=function(){return d.recycleTexture(E,w)||d.addTexture(E,w)};x||(x=T[T.length-1]),x||(x=M()),x.width-x.usedWidth<w&&(x=M());for(var $,_=function(W){return W&&W.scaledLabelShown===D},A=c&&c===Vo.dequeue,R=c&&c===Vo.highQuality,F=c&&c===Vo.downscale,k=u+1;k<=3;k++){var V=g.get(a,k);if(V){$=V;break}}var N=$&&$.level===u+1?$:null,H=function(){x.context.drawImage(N.texture.canvas,N.x,0,N.width,N.height,x.usedWidth,0,w,m)};if(x.context.setTransform(1,0,0,1,0,0),x.context.clearRect(x.usedWidth,0,w,E),_(N))H();else if(_($)){if(!R)return d.queueElement(a,$.level-1),$;for(var U=$.level;U>u;U--)N=d.getElement(a,r,o,U,Vo.downscale);H()}else{var L;if(!A&&!R&&!F)for(var j=u-1;j>=-4;j--){var B=g.get(a,j);if(B){L=B;break}}if(_(L))return d.queueElement(a,u),L;x.context.translate(x.usedWidth,0),x.context.scale(v,v),this.drawElement(x.context,a,r,D,!1),x.context.scale(1/v,1/v),x.context.translate(-x.usedWidth,0)}return C={x:x.usedWidth,texture:x,level:u,scale:v,width:w,height:m,scaledLabelShown:D},x.usedWidth+=Math.ceil(w+8),x.eleCaches.push(C),g.set(a,u,C),d.checkTextureFullness(x),C},Sn.invalidateElements=function(a){for(var r=0;r<a.length;r++)this.invalidateElement(a[r])},Sn.invalidateElement=function(a){var r=this,o=r.lookup,u=[];if(o.isInvalid(a)){for(var d=-4;d<=3;d++){var f=o.getForCachedKey(a,d);f&&u.push(f)}if(o.invalidate(a))for(var g=0;g<u.length;g++){var v=u[g],m=v.texture;m.invalidatedWidth+=v.width,v.invalidated=!0,r.checkTextureUtility(m)}r.removeFromQueue(a)}},Sn.checkTextureUtility=function(a){a.invalidatedWidth>=.2*a.width&&this.retireTexture(a)},Sn.checkTextureFullness=function(a){var o=this.getTextureQueue(a.height);a.usedWidth/a.width>.8&&a.fullnessChecks>=10?qr(o,a):a.fullnessChecks++},Sn.retireTexture=function(a){var o=a.height,u=this.getTextureQueue(o),c=this.lookup;qr(u,a),a.retired=!0;for(var d=a.eleCaches,f=0;f<d.length;f++){var p=d[f];c.deleteCache(p.key,p.level)}Ul(d),this.getRetiredTextureQueue(o).push(a)},Sn.addTexture=function(a,r){var c={};return this.getTextureQueue(a).push(c),c.eleCaches=[],c.height=a,c.width=Math.max(1024,r),c.usedWidth=0,c.invalidatedWidth=0,c.fullnessChecks=0,c.canvas=this.renderer.makeOffscreenCanvas(c.width,c.height),c.context=c.canvas.getContext("2d"),c},Sn.recycleTexture=function(a,r){for(var u=this.getTextureQueue(a),c=this.getRetiredTextureQueue(a),d=0;d<c.length;d++){var f=c[d];if(f.width>=r)return f.retired=!1,f.usedWidth=0,f.invalidatedWidth=0,f.fullnessChecks=0,Ul(f.eleCaches),f.context.setTransform(1,0,0,1,0,0),f.context.clearRect(0,0,f.width,f.height),qr(c,f),u.push(f),f}},Sn.queueElement=function(a,r){var u=this.getElementQueue(),c=this.getElementKeyToQueue(),d=this.getKey(a),f=c[d];if(f)f.level=Math.max(f.level,r),f.eles.merge(a),f.reqs++,u.updateItem(f);else{var p={eles:a.spawn().merge(a),level:r,reqs:1,key:d};u.push(p),c[d]=p}},Sn.dequeue=function(a){for(var r=this,o=r.getElementQueue(),u=r.getElementKeyToQueue(),c=[],d=r.lookup,f=0;f<1&&o.size()>0;f++){var p=o.pop(),g=p.key,v=p.eles[0],m=d.hasCache(v,p.level);if(u[g]=null,!m){c.push(p);var w=r.getBoundingBox(v);r.getElement(v,w,a,p.level,Vo.dequeue)}}return c},Sn.removeFromQueue=function(a){var o=this.getElementQueue(),u=this.getElementKeyToQueue(),c=this.getKey(a),d=u[c];null!=d&&(1===d.eles.length?(d.reqs=zl,o.updateItem(d),o.pop(),u[c]=null):d.eles.unmerge(a))},Sn.onDequeue=function(a){this.onDequeues.push(a)},Sn.offDequeue=function(a){qr(this.onDequeues,a)},Sn.setupDequeueing=lh_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(r,o,u){return r.dequeue(o,u)},onDeqd:function(r,o){for(var u=0;u<r.onDequeues.length;u++)(0,r.onDequeues[u])(o)},shouldRedraw:function(r,o,u,c){for(var d=0;d<o.length;d++)for(var f=o[d].eles,p=0;p<f.length;p++){var g=f[p].boundingBox();if(vi(g,c))return!0}return!1},priority:function(r){return r.renderer.beforeRenderPriorities.eleTxrDeq}});var wh=function(r){var o=this,u=o.renderer=r,c=u.cy;o.layersByLevel={},o.firstGet=!0,o.lastInvalidationTime=ki()-500,o.skipping=!1,o.eleTxrDeqs=c.collection(),o.scheduleElementRefinement=Me.default(function(){o.refineElementTextures(o.eleTxrDeqs),o.eleTxrDeqs.unmerge(o.eleTxrDeqs)},50),u.beforeRender(function(f,p){o.skipping=p-o.lastInvalidationTime<=250},u.beforeRenderPriorities.lyrTxrSkip),o.layersQueue=new ve.default(function(p,g){return g.reqs-p.reqs}),o.setupDequeueing()},Jn=wh.prototype,bh=0,wg=Math.pow(2,53)-1;Jn.makeLayer=function(a,r){var o=Math.pow(2,r),u=Math.ceil(a.w*o),c=Math.ceil(a.h*o),d=this.renderer.makeOffscreenCanvas(u,c),f={id:bh=++bh%wg,bb:a,level:r,width:u,height:c,canvas:d,context:d.getContext("2d"),eles:[],elesQueue:[],reqs:0},p=f.context,g=-f.bb.x1,v=-f.bb.y1;return p.scale(o,o),p.translate(g,v),f},Jn.getLayers=function(a,r,o){var u=this,f=u.renderer.cy.zoom(),p=u.firstGet;if(u.firstGet=!1,null==o)if((o=Math.ceil(Ql(f*r)))<-4)o=-4;else if(f>=3.99||o>2)return null;u.validateLayersElesOrdering(o,a);var w,C,g=u.layersByLevel,v=Math.pow(2,o),m=g[o]=g[o]||[];if(u.levelIsComplete(o,a))return m;!function(){var H=function(Y){if(u.validateLayersElesOrdering(Y,a),u.levelIsComplete(Y,a))return C=g[Y],!0},U=function(Y){if(!C)for(var W=o+Y;-4<=W&&W<=2&&!H(W);W+=Y);};U(1),U(-1);for(var L=m.length-1;L>=0;L--){var j=m[L];j.invalid&&qr(m,j)}}();var x=function(H){var U=(H=H||{}).after;if(function(){if(!w){w=Tr();for(var H=0;H<a.length;H++)mv(w,a[H].boundingBox())}}(),w.w*v*(w.h*v)>16e6)return null;var j=u.makeLayer(w,o);if(null!=U){var B=m.indexOf(U)+1;m.splice(B,0,j)}else(void 0===H.insert||H.insert)&&m.unshift(j);return j};if(u.skipping&&!p)return null;for(var M=null,_=a.length/1,A=!p,R=0;R<a.length;R++){var F=a[R],$=F._private.rscratch,k=$.imgLayerCaches=$.imgLayerCaches||{},V=k[o];if(V)M=V;else{if((!M||M.eles.length>=_||!Jl(M.bb,F.boundingBox()))&&!(M=x({insert:!0,after:M})))return null;C||A?u.queueLayer(M,F):u.drawEleInLayer(M,F,o,r),M.eles.push(F),k[o]=M}}return C||(A?null:m)},Jn.getEleLevelForLayerLevel=function(a,r){return a},Jn.drawEleInLayer=function(a,r,o,u){var d=this.renderer,f=a.context,p=r.boundingBox();0===p.w||0===p.h||!r.visible()||(o=this.getEleLevelForLayerLevel(o,u),d.setImgSmoothing(f,!1),d.drawCachedElement(f,r,null,null,o,!0),d.setImgSmoothing(f,!0))},Jn.levelIsComplete=function(a,r){var u=this.layersByLevel[a];if(!u||0===u.length)return!1;for(var c=0,d=0;d<u.length;d++){var f=u[d];if(f.reqs>0||f.invalid)return!1;c+=f.eles.length}return c===r.length},Jn.validateLayersElesOrdering=function(a,r){var o=this.layersByLevel[a];if(o)for(var u=0;u<o.length;u++){for(var c=o[u],d=-1,f=0;f<r.length;f++)if(c.eles[0]===r[f]){d=f;break}if(d<0)this.invalidateLayer(c);else{var p=d;for(f=0;f<c.eles.length;f++)if(c.eles[f]!==r[p+f]){this.invalidateLayer(c);break}}}},Jn.updateElementsInLayers=function(a,r){for(var u=fo(a[0]),c=0;c<a.length;c++)for(var d=u?null:a[c],f=u?a[c]:a[c].ele,p=f._private.rscratch,g=p.imgLayerCaches=p.imgLayerCaches||{},v=-4;v<=2;v++){var m=g[v];m&&(d&&this.getEleLevelForLayerLevel(m.level)!==d.level||r(m,f,d))}},Jn.haveLayers=function(){for(var r=!1,o=-4;o<=2;o++){var u=this.layersByLevel[o];if(u&&u.length>0){r=!0;break}}return r},Jn.invalidateElements=function(a){var r=this;0!==a.length&&(r.lastInvalidationTime=ki(),0!==a.length&&r.haveLayers()&&r.updateElementsInLayers(a,function(u,c,d){r.invalidateLayer(u)}))},Jn.invalidateLayer=function(a){if(this.lastInvalidationTime=ki(),!a.invalid){var r=a.level,o=a.eles;qr(this.layersByLevel[r],a),a.elesQueue=[],a.invalid=!0,a.replacement&&(a.replacement.invalid=!0);for(var c=0;c<o.length;c++){var d=o[c]._private.rscratch.imgLayerCaches;d&&(d[r]=null)}}},Jn.refineElementTextures=function(a){var r=this;r.updateElementsInLayers(a,function(u,c,d){var f=u.replacement;if(f||((f=u.replacement=r.makeLayer(u.bb,u.level)).replaces=u,f.eles=u.eles),!f.reqs)for(var p=0;p<f.eles.length;p++)r.queueLayer(f,f.eles[p])})},Jn.enqueueElementRefinement=function(a){this.eleTxrDeqs.merge(a),this.scheduleElementRefinement()},Jn.queueLayer=function(a,r){var u=this.layersQueue,c=a.elesQueue,d=c.hasId=c.hasId||{};if(!a.replacement){if(r){if(d[r.id()])return;c.push(r),d[r.id()]=!0}a.reqs?(a.reqs++,u.updateItem(a)):(a.reqs=1,u.push(a))}},Jn.dequeue=function(a){for(var r=this,o=r.layersQueue,u=[],c=0;c<1&&0!==o.size();){var d=o.peek();if(d.replacement)o.pop();else if(d.replaces&&d!==d.replaces.replacement)o.pop();else if(d.invalid)o.pop();else{var f=d.elesQueue.shift();f&&(r.drawEleInLayer(d,f,d.level,a),c++),0===u.length&&u.push(!0),0===d.elesQueue.length&&(o.pop(),d.reqs=0,d.replaces&&r.applyLayerReplacement(d),r.requestRedraw())}}return u},Jn.applyLayerReplacement=function(a){var o=this.layersByLevel[a.level],u=a.replaces,c=o.indexOf(u);if(!(c<0||u.invalid)){o[c]=a;for(var d=0;d<a.eles.length;d++){var f=a.eles[d]._private,p=f.imgLayerCaches=f.imgLayerCaches||{};p&&(p[a.level]=a)}this.requestRedraw()}},Jn.requestRedraw=Me.default(function(){var a=this.renderer;a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},100),Jn.setupDequeueing=lh_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(r,o){return r.dequeue(o)},onDeqd:Hl,shouldRedraw:jd,priority:function(r){return r.renderer.beforeRenderPriorities.lyrTxrDeq}});var Uu,Vc={};function Dh(a,r){for(var o=0;o<r.length;o++){var u=r[o];a.lineTo(u.x,u.y)}}function $c(a,r,o){for(var u,c=0;c<r.length;c++){var d=r[c];0===c&&(u=d),a.lineTo(d.x,d.y)}a.quadraticCurveTo(o.x,o.y,u.x,u.y)}function Eh(a,r,o){a.beginPath&&a.beginPath();for(var u=r,c=0;c<u.length;c++)a.lineTo((d=u[c]).x,d.y);var f=o,p=o[0];for(a.moveTo(p.x,p.y),c=1;c<f.length;c++){var d;a.lineTo((d=f[c]).x,d.y)}a.closePath&&a.closePath()}function bg(a,r,o,u,c){a.beginPath&&a.beginPath(),a.arc(o,u,c,0,2*Math.PI,!1);var d=r,f=d[0];a.moveTo(f.x,f.y);for(var p=0;p<d.length;p++){var g=d[p];a.lineTo(g.x,g.y)}a.closePath&&a.closePath()}function Ch(a,r,o,u){a.arc(r,o,u,0,2*Math.PI,!1)}Vc.arrowShapeImpl=function(a){return(Uu||(Uu={polygon:Dh,"triangle-backcurve":$c,"triangle-tee":Eh,"circle-triangle":bg,"triangle-cross":Eh,circle:Ch}))[a]};var oi={drawElement:function(a,r,o,u,c,d){r.isNode()?this.drawNode(a,r,o,u,c,d):this.drawEdge(a,r,o,u,c,d)},drawElementOverlay:function(a,r){r.isNode()?this.drawNodeOverlay(a,r):this.drawEdgeOverlay(a,r)},drawElementUnderlay:function(a,r){r.isNode()?this.drawNodeUnderlay(a,r):this.drawEdgeUnderlay(a,r)},drawCachedElementPortion:function(a,r,o,u,c,d,f,p){var g=this,v=o.getBoundingBox(r);if(0!==v.w&&0!==v.h){var m=o.getElement(r,v,u,c,d);if(null!=m){var w=p(g,r);if(0===w)return;var M,_,A,R,F,V,D=f(g,r),C=v.x1,E=v.y1,T=v.w,x=v.h;if(0!==D){var $=o.getRotationPoint(r);a.translate(A=$.x,R=$.y),a.rotate(D),(F=g.getImgSmoothing(a))||g.setImgSmoothing(a,!0);var k=o.getRotationOffset(r);M=k.x,_=k.y}else M=C,_=E;1!==w&&(a.globalAlpha=(V=a.globalAlpha)*w),a.drawImage(m.texture.canvas,m.x,0,m.width,m.height,M,_,T,x),1!==w&&(a.globalAlpha=V),0!==D&&(a.rotate(-D),a.translate(-A,-R),F||g.setImgSmoothing(a,!1))}else o.drawElement(a,r)}}},Ka=function(){return 0},Sh=function(r,o){return r.getTextAngle(o,null)},xh=function(r,o){return r.getTextAngle(o,"source")},Dg=function(r,o){return r.getTextAngle(o,"target")},v0=function(r,o){return o.effectiveOpacity()},zo=function(r,o){return o.pstyle("text-opacity").pfValue*o.effectiveOpacity()};oi.drawCachedElement=function(a,r,o,u,c,d){var f=this,p=f.data,g=p.eleTxrCache,v=p.lblTxrCache,m=p.slbTxrCache,w=p.tlbTxrCache,D=r.boundingBox(),C=!0===d?g.reasons.highQuality:null;if(0!==D.w&&0!==D.h&&r.visible()&&(!u||vi(D,u))){var E=r.isEdge(),T=r.element()._private.rscratch.badLine;f.drawElementUnderlay(a,r),f.drawCachedElementPortion(a,r,g,o,c,C,Ka,v0),(!E||!T)&&f.drawCachedElementPortion(a,r,v,o,c,C,Sh,zo),E&&!T&&(f.drawCachedElementPortion(a,r,m,o,c,C,xh,zo),f.drawCachedElementPortion(a,r,w,o,c,C,Dg,zo)),f.drawElementOverlay(a,r)}},oi.drawElements=function(a,r){for(var u=0;u<r.length;u++)this.drawElement(a,r[u])},oi.drawCachedElements=function(a,r,o,u){for(var d=0;d<r.length;d++)this.drawCachedElement(a,r[d],o,u)},oi.drawCachedNodes=function(a,r,o,u){for(var d=0;d<r.length;d++){var f=r[d];f.isNode()&&this.drawCachedElement(a,f,o,u)}},oi.drawLayeredElements=function(a,r,o,u){var d=this.data.lyrTxrCache.getLayers(r,o);if(d)for(var f=0;f<d.length;f++){var p=d[f],g=p.bb;0===g.w||0===g.h||a.drawImage(p.canvas,g.x1,g.y1,g.w,g.h)}else this.drawCachedElements(a,r,o,u)};var Ki={drawEdge:function(a,r,o){var u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],f=this,p=r._private.rscratch;if((!d||r.visible())&&!p.badLine&&null!=p.allpts&&!isNaN(p.allpts[0])){var g;o&&a.translate(-(g=o).x1,-g.y1);var v=d?r.pstyle("opacity").value:1,m=d?r.pstyle("line-opacity").value:1,w=r.pstyle("curve-style").value,D=r.pstyle("line-style").value,C=r.pstyle("width").pfValue,E=r.pstyle("line-cap").value,T=v*m,x=v*m,M=function(){var L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;"straight-triangle"===w?(f.eleStrokeStyle(a,r,L),f.drawEdgeTrianglePath(r,a,p.allpts)):(a.lineWidth=C,a.lineCap=E,f.eleStrokeStyle(a,r,L),f.drawEdgePath(r,a,p.allpts,D),a.lineCap="butt")},R=function(){f.drawArrowheads(a,r,arguments.length>0&&void 0!==arguments[0]?arguments[0]:x)};if(a.lineJoin="round","yes"===r.pstyle("ghost").value){var k=r.pstyle("ghost-offset-x").pfValue,V=r.pstyle("ghost-offset-y").pfValue,N=r.pstyle("ghost-opacity").value,H=T*N;a.translate(k,V),M(H),R(H),a.translate(-k,-V)}c&&f.drawEdgeUnderlay(a,r),M(),R(),c&&f.drawEdgeOverlay(a,r),f.drawElementText(a,r,null,u),o&&a.translate(g.x1,g.y1)}}},zc=function(r){if(!["overlay","underlay"].includes(r))throw new Error("Invalid state");return function(o,u){if(u.visible()){var c=u.pstyle("".concat(r,"-opacity")).value;if(0!==c){var d=this,f=d.usePaths(),p=u._private.rscratch,v=2*u.pstyle("".concat(r,"-padding")).pfValue,m=u.pstyle("".concat(r,"-color")).value;o.lineWidth=v,o.lineCap="self"!==p.edgeType||f?"round":"butt",d.colorStrokeStyle(o,m[0],m[1],m[2],c),d.drawEdgePath(u,o,p.allpts,"solid")}}}};Ki.drawEdgeOverlay=zc("overlay"),Ki.drawEdgeUnderlay=zc("underlay"),Ki.drawEdgePath=function(a,r,o,u){var f,c=a._private.rscratch,d=r,p=!1,g=this.usePaths(),v=a.pstyle("line-dash-pattern").pfValue,m=a.pstyle("line-dash-offset").pfValue;if(g){var w=o.join("$");c.pathCacheKey&&c.pathCacheKey===w?(f=r=c.pathCache,p=!0):(f=r=new Path2D,c.pathCacheKey=w,c.pathCache=f)}if(d.setLineDash)switch(u){case"dotted":d.setLineDash([1,1]);break;case"dashed":d.setLineDash(v),d.lineDashOffset=m;break;case"solid":d.setLineDash([])}if(!p&&!c.badLine)switch(r.beginPath&&r.beginPath(),r.moveTo(o[0],o[1]),c.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var C=2;C+3<o.length;C+=4)r.quadraticCurveTo(o[C],o[C+1],o[C+2],o[C+3]);break;case"straight":case"segments":case"haystack":for(var E=2;E+1<o.length;E+=2)r.lineTo(o[E],o[E+1])}r=d,g?r.stroke(f):r.stroke(),r.setLineDash&&r.setLineDash([])},Ki.drawEdgeTrianglePath=function(a,r,o){r.fillStyle=r.strokeStyle;for(var u=a.pstyle("width").pfValue,c=0;c+1<o.length;c+=2){var d=[o[c+2]-o[c],o[c+3]-o[c+1]],f=Math.sqrt(d[0]*d[0]+d[1]*d[1]),p=[d[1]/f,-d[0]/f],g=[p[0]*u/2,p[1]*u/2];r.beginPath(),r.moveTo(o[c]-g[0],o[c+1]-g[1]),r.lineTo(o[c]+g[0],o[c+1]+g[1]),r.lineTo(o[c+2],o[c+3]),r.closePath(),r.fill()}},Ki.drawArrowheads=function(a,r,o){var u=r._private.rscratch,c="haystack"===u.edgeType;c||this.drawArrowhead(a,r,"source",u.arrowStartX,u.arrowStartY,u.srcArrowAngle,o),this.drawArrowhead(a,r,"mid-target",u.midX,u.midY,u.midtgtArrowAngle,o),this.drawArrowhead(a,r,"mid-source",u.midX,u.midY,u.midsrcArrowAngle,o),c||this.drawArrowhead(a,r,"target",u.arrowEndX,u.arrowEndY,u.tgtArrowAngle,o)},Ki.drawArrowhead=function(a,r,o,u,c,d,f){if(!(isNaN(u)||null==u||isNaN(c)||null==c||isNaN(d)||null==d)){var p=this,g=r.pstyle(o+"-arrow-shape").value;if("none"!==g){var v="hollow"===r.pstyle(o+"-arrow-fill").value?"both":"filled",m=r.pstyle(o+"-arrow-fill").value,w=r.pstyle("width").pfValue,D=r.pstyle(o+"-arrow-width"),C="match-line"===D.value?w:D.pfValue;"%"===D.units&&(C*=w);var E=r.pstyle("opacity").value;void 0===f&&(f=E);var T=a.globalCompositeOperation;(1!==f||"hollow"===m)&&(a.globalCompositeOperation="destination-out",p.colorFillStyle(a,255,255,255,1),p.colorStrokeStyle(a,255,255,255,1),p.drawArrowShape(r,a,v,w,g,C,u,c,d),a.globalCompositeOperation=T);var x=r.pstyle(o+"-arrow-color").value;p.colorFillStyle(a,x[0],x[1],x[2],f),p.colorStrokeStyle(a,x[0],x[1],x[2],f),p.drawArrowShape(r,a,m,w,g,C,u,c,d)}}},Ki.drawArrowShape=function(a,r,o,u,c,d,f,p,g){var D,v=this,m=this.usePaths()&&"triangle-cross"!==c,w=!1,C=r,E={x:f,y:p},T=a.pstyle("arrow-scale").value,x=this.getArrowWidth(u,T),M=v.arrowShapes[c];if(m){var _=v.arrowPathCache=v.arrowPathCache||[],A=oa(c),R=_[A];null!=R?(D=r=R,w=!0):(D=r=new Path2D,_[A]=D)}w||(r.beginPath&&r.beginPath(),m?M.draw(r,1,0,{x:0,y:0},1):M.draw(r,x,g,E,u),r.closePath&&r.closePath()),r=C,m&&(r.translate(f,p),r.rotate(g),r.scale(x,x)),("filled"===o||"both"===o)&&(m?r.fill(D):r.fill()),("hollow"===o||"both"===o)&&(r.lineWidth=d/(m?x:1),r.lineJoin="miter",m?r.stroke(D):r.stroke()),m&&(r.scale(1/x,1/x),r.rotate(-g),r.translate(-f,-p))};var ju={safeDrawImage:function(a,r,o,u,c,d,f,p,g,v){if(!(c<=0||d<=0||g<=0||v<=0))try{a.drawImage(r,o,u,c,d,f,p,g,v)}catch(m){Dt(m)}},drawInscribedImage:function(a,r,o,u,c){var d=this,f=o.position(),p=f.x,g=f.y,v=o.cy().style(),m=v.getIndexedStyle.bind(v),w=m(o,"background-fit","value",u),D=m(o,"background-repeat","value",u),C=o.width(),E=o.height(),T=2*o.padding(),x=C+("inner"===m(o,"background-width-relative-to","value",u)?0:T),M=E+("inner"===m(o,"background-height-relative-to","value",u)?0:T),_=o._private.rscratch,R="node"===m(o,"background-clip","value",u),F=m(o,"background-image-opacity","value",u)*c,$=m(o,"background-image-smoothing","value",u),k=r.width||r.cachedW,V=r.height||r.cachedH;(null==k||null==V)&&(document.body.appendChild(r),k=r.cachedW=r.width||r.offsetWidth,V=r.cachedH=r.height||r.offsetHeight,document.body.removeChild(r));var N=k,H=V;if("auto"!==m(o,"background-width","value",u)&&(N="%"===m(o,"background-width","units",u)?m(o,"background-width","pfValue",u)*x:m(o,"background-width","pfValue",u)),"auto"!==m(o,"background-height","value",u)&&(H="%"===m(o,"background-height","units",u)?m(o,"background-height","pfValue",u)*M:m(o,"background-height","pfValue",u)),0!==N&&0!==H){if("contain"===w)N*=U=Math.min(x/N,M/H),H*=U;else if("cover"===w){var U;N*=U=Math.max(x/N,M/H),H*=U}var L=p-x/2,j=m(o,"background-position-x","units",u),B=m(o,"background-position-x","pfValue",u);L+="%"===j?(x-N)*B:B;var Y=m(o,"background-offset-x","units",u),W=m(o,"background-offset-x","pfValue",u);L+="%"===Y?(x-N)*W:W;var G=g-M/2,Q=m(o,"background-position-y","units",u),ne=m(o,"background-position-y","pfValue",u);G+="%"===Q?(M-H)*ne:ne;var de=m(o,"background-offset-y","units",u),X=m(o,"background-offset-y","pfValue",u);G+="%"===de?(M-H)*X:X,_.pathCache&&(L-=p,G-=g,p=0,g=0);var ue=a.globalAlpha;a.globalAlpha=F;var oe=d.getImgSmoothing(a),be=!1;if("no"===$&&oe?(d.setImgSmoothing(a,!1),be=!0):"yes"===$&&!oe&&(d.setImgSmoothing(a,!0),be=!0),"no-repeat"===D)R&&(a.save(),_.pathCache?a.clip(_.pathCache):(d.nodeShapes[d.getNodeShape(o)].draw(a,p,g,x,M),a.clip())),d.safeDrawImage(a,r,0,0,k,V,L,G,N,H),R&&a.restore();else{var me=a.createPattern(r,D);a.fillStyle=me,d.nodeShapes[d.getNodeShape(o)].draw(a,p,g,x,M),a.translate(L,G),a.fill(),a.translate(-L,-G)}a.globalAlpha=ue,be&&d.setImgSmoothing(a,oe)}}},ba={};function ks(a,r,o,u,c){var d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,f=arguments.length>6?arguments[6]:void 0;a.beginPath(),a.moveTo(r+d,o),a.lineTo(r+u-d,o),a.quadraticCurveTo(r+u,o,r+u,o+d),a.lineTo(r+u,o+c-d),a.quadraticCurveTo(r+u,o+c,r+u-d,o+c),a.lineTo(r+d,o+c),a.quadraticCurveTo(r,o+c,r,o+c-d),a.lineTo(r,o+d),a.quadraticCurveTo(r,o,r+d,o),a.closePath(),f?a.stroke():a.fill()}ba.eleTextBiggerThanMin=function(a,r){if(!r){var o=a.cy().zoom(),u=this.getPixelRatio(),c=Math.ceil(Ql(o*u));r=Math.pow(2,c)}return!(a.pstyle("font-size").pfValue*r<a.pstyle("min-zoomed-font-size").pfValue)},ba.drawElementText=function(a,r,o,u,c){var d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],f=this;if(null==u){if(d&&!f.eleTextBiggerThanMin(r))return}else if(!1===u)return;if(r.isNode()){var p=r.pstyle("label");if(!p||!p.value)return;var g=f.getLabelJustification(r);a.textAlign=g,a.textBaseline="bottom"}else{var v=r.element()._private.rscratch.badLine,m=r.pstyle("label"),w=r.pstyle("source-label"),D=r.pstyle("target-label");if(v||(!m||!m.value)&&(!w||!w.value)&&(!D||!D.value))return;a.textAlign="center",a.textBaseline="bottom"}var E,C=!o;o&&a.translate(-(E=o).x1,-E.y1),null==c?(f.drawText(a,r,null,C,d),r.isEdge()&&(f.drawText(a,r,"source",C,d),f.drawText(a,r,"target",C,d))):f.drawText(a,r,c,C,d),o&&a.translate(E.x1,E.y1)},ba.getFontCache=function(a){var r;this.fontCaches=this.fontCaches||[];for(var o=0;o<this.fontCaches.length;o++)if((r=this.fontCaches[o]).context===a)return r;return this.fontCaches.push(r={context:a}),r},ba.setupTextStyle=function(a,r){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=r.pstyle("font-style").strValue,c=r.pstyle("font-size").pfValue+"px",d=r.pstyle("font-family").strValue,f=r.pstyle("font-weight").strValue,p=o?r.effectiveOpacity()*r.pstyle("text-opacity").value:1,g=r.pstyle("text-outline-opacity").value*p,v=r.pstyle("color").value,m=r.pstyle("text-outline-color").value;a.font=u+" "+f+" "+c+" "+d,a.lineJoin="round",this.colorFillStyle(a,v[0],v[1],v[2],p),this.colorStrokeStyle(a,m[0],m[1],m[2],g)},ba.getTextAngle=function(a,r){var c=a._private.rscratch,f=a.pstyle((r?r+"-":"")+"text-rotation"),p=Wr(c,"labelAngle",r);return"autorotate"===f.strValue?a.isEdge()?p:0:"none"===f.strValue?0:f.pfValue},ba.drawText=function(a,r,o){var u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],f=r._private.rscratch,p=c?r.effectiveOpacity():1;if(!c||0!==p&&0!==r.pstyle("text-opacity").value){"main"===o&&(o=null);var m,w,g=Wr(f,"labelX",o),v=Wr(f,"labelY",o),D=this.getLabelText(r,o);if(null!=D&&""!==D&&!isNaN(g)&&!isNaN(v)){this.setupTextStyle(a,r,c);var F,C=o?o+"-":"",E=Wr(f,"labelWidth",o),T=Wr(f,"labelHeight",o),x=r.pstyle(C+"text-margin-x").pfValue,M=r.pstyle(C+"text-margin-y").pfValue,_=r.isEdge(),A=r.pstyle("text-halign").value,R=r.pstyle("text-valign").value;switch(_&&(A="center",R="center"),g+=x,v+=M,0!==(F=u?this.getTextAngle(r,o):0)&&(a.translate(m=g,w=v),a.rotate(F),g=0,v=0),R){case"top":break;case"center":v+=T/2;break;case"bottom":v+=T}var $=r.pstyle("text-background-opacity").value,k=r.pstyle("text-border-opacity").value,V=r.pstyle("text-border-width").pfValue,N=r.pstyle("text-background-padding").pfValue,U=0===r.pstyle("text-background-shape").strValue.indexOf("round");if($>0||V>0&&k>0){var j=g-N;switch(A){case"left":j-=E;break;case"center":j-=E/2}var B=v-T-N,Y=E+2*N,W=T+2*N;if($>0){var G=a.fillStyle,Q=r.pstyle("text-background-color").value;a.fillStyle="rgba("+Q[0]+","+Q[1]+","+Q[2]+","+$*p+")",U?ks(a,j,B,Y,W,2):a.fillRect(j,B,Y,W),a.fillStyle=G}if(V>0&&k>0){var ne=a.strokeStyle,de=a.lineWidth,X=r.pstyle("text-border-color").value,ue=r.pstyle("text-border-style").value;if(a.strokeStyle="rgba("+X[0]+","+X[1]+","+X[2]+","+k*p+")",a.lineWidth=V,a.setLineDash)switch(ue){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"double":a.lineWidth=V/4,a.setLineDash([]);break;case"solid":a.setLineDash([])}if(U?ks(a,j,B,Y,W,2,"stroke"):a.strokeRect(j,B,Y,W),"double"===ue){var oe=V/2;U?ks(a,j+oe,B+oe,Y-2*oe,W-2*oe,2,"stroke"):a.strokeRect(j+oe,B+oe,Y-2*oe,W-2*oe)}a.setLineDash&&a.setLineDash([]),a.lineWidth=de,a.strokeStyle=ne}}var be=2*r.pstyle("text-outline-width").pfValue;if(be>0&&(a.lineWidth=be),"wrap"===r.pstyle("text-wrap").value){var me=Wr(f,"labelWrapCachedLines",o),De=Wr(f,"labelLineHeight",o),te=E/2,ye=this.getLabelJustification(r);switch("auto"===ye||("left"===A?"left"===ye?g+=-E:"center"===ye&&(g+=-te):"center"===A?"left"===ye?g+=-te:"right"===ye&&(g+=te):"right"===A&&("center"===ye?g+=te:"right"===ye&&(g+=E))),R){case"top":case"center":case"bottom":v-=(me.length-1)*De}for(var _e=0;_e<me.length;_e++)be>0&&a.strokeText(me[_e],g,v),a.fillText(me[_e],g,v),v+=De}else be>0&&a.strokeText(D,g,v),a.fillText(D,g,v);0!==F&&(a.rotate(-F),a.translate(-m,-w))}}};var Ya={drawNode:function(a,r,o){var p,g,u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],f=this,v=r._private,m=v.rscratch,w=r.position();if(Ve(w.x)&&Ve(w.y)&&(!d||r.visible())){var E,M,D=d?r.effectiveOpacity():1,C=f.usePaths(),T=!1,x=r.padding();p=r.width()+2*x,g=r.height()+2*x,o&&a.translate(-(M=o).x1,-M.y1);for(var A=r.pstyle("background-image").value,R=new Array(A.length),F=new Array(A.length),$=0,k=0;k<A.length;k++){var V=A[k];if(R[k]=null!=V&&"none"!==V){var H=r.cy().style().getIndexedStyle(r,"background-image-crossorigin","value",k);$++,F[k]=f.getCachedImage(V,H,function(){v.backgroundTimestamp=Date.now(),r.emitAndNotify("background")})}}var U=r.pstyle("background-blacken").value,L=r.pstyle("border-width").pfValue,j=r.pstyle("background-opacity").value*D,B=r.pstyle("border-color").value,Y=r.pstyle("border-style").value,W=r.pstyle("border-opacity").value*D,G=r.pstyle("outline-width").pfValue,Q=r.pstyle("outline-color").value,ne=r.pstyle("outline-style").value,de=r.pstyle("outline-opacity").value*D,X=r.pstyle("outline-offset").value;a.lineJoin="miter";var ue=function(){f.eleFillStyle(a,r,arguments.length>0&&void 0!==arguments[0]?arguments[0]:j)},oe=function(){f.colorStrokeStyle(a,B[0],B[1],B[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:W)},be=function(){f.colorStrokeStyle(a,Q[0],Q[1],Q[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:de)},me=function(re,O,ee,we){var ce,se=f.nodePathCache=f.nodePathCache||[],le=$l("polygon"===ee?ee+","+we.join(","):ee,""+O,""+re),it=se[le],et=!1;return null!=it?(et=!0,m.pathCache=ce=it):(ce=new Path2D,se[le]=m.pathCache=ce),{path:ce,cacheHit:et}},De=r.pstyle("shape").strValue,te=r.pstyle("shape-polygon-points").pfValue;if(C){a.translate(w.x,w.y);var ye=me(p,g,De,te);E=ye.path,T=ye.cacheHit}var _e=function(){if(!T){var re=w;C&&(re={x:0,y:0}),f.nodeShapes[f.getNodeShape(r)].draw(E||a,re.x,re.y,p,g)}C?a.fill(E):a.fill()},Ie=function(){for(var re=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,O=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],ee=v.backgrounding,we=0,se=0;se<F.length;se++){var le=r.cy().style().getIndexedStyle(r,"background-image-containment","value",se);O&&"over"===le||!O&&"inside"===le?we++:R[se]&&F[se].complete&&!F[se].error&&(we++,f.drawInscribedImage(a,F[se],r,se,re))}v.backgrounding=we!==$,ee!==v.backgrounding&&r.updateStyle(!1)},ke=function(){var re=arguments.length>0&&void 0!==arguments[0]&&arguments[0],O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D;f.hasPie(r)&&(f.drawPie(a,r,O),re&&(C||f.nodeShapes[f.getNodeShape(r)].draw(a,w.x,w.y,p,g)))},Je=function(){var ee=U>0?0:255;0!==U&&(f.colorFillStyle(a,ee,ee,ee,(U>0?U:-U)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:D)),C?a.fill(E):a.fill())},Ct=function(){if(L>0){if(a.lineWidth=L,a.lineCap="butt",a.setLineDash)switch(Y){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"solid":case"double":a.setLineDash([])}if(C?a.stroke(E):a.stroke(),"double"===Y){a.lineWidth=L/3;var re=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",C?a.stroke(E):a.stroke(),a.globalCompositeOperation=re}a.setLineDash&&a.setLineDash([])}},Be=function(){if(G>0){if(a.lineWidth=G,a.lineCap="butt",a.setLineDash)switch(ne){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([4,2]);break;case"solid":case"double":a.setLineDash([])}var re=w;C&&(re={x:0,y:0});var ce,O=f.getNodeShape(r),ee=(p+L+(G+X))/p,we=(g+L+(G+X))/g,se=p*ee,le=g*we,it=f.nodeShapes[O].points;if(C&&(ce=me(se,le,O,it).path),"ellipse"===O)f.drawEllipsePath(ce||a,re.x,re.y,se,le);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(O)){var Mt=0,Gt=0,xt=0;"round-diamond"===O?Mt=1.4*(L+X+G):"round-heptagon"===O?(Mt=1.075*(L+X+G),xt=-(L/2+X+G)/35):"round-hexagon"===O?Mt=1.12*(L+X+G):"round-pentagon"===O?(Mt=1.13*(L+X+G),xt=-(L/2+X+G)/15):"round-tag"===O?(Mt=1.12*(L+X+G),Gt=.07*(L/2+G+X)):"round-triangle"===O&&(Mt=(L+X+G)*(Math.PI/2),xt=-(L+X/2+G)/Math.PI),0!==Mt&&(ee=(p+Mt)/p,we=(g+Mt)/g),f.drawRoundPolygonPath(ce||a,re.x+Gt,re.y+xt,p*ee,g*we,it)}else["roundrectangle","round-rectangle"].includes(O)?f.drawRoundRectanglePath(ce||a,re.x,re.y,se,le):["cutrectangle","cut-rectangle"].includes(O)?f.drawCutRectanglePath(ce||a,re.x,re.y,se,le):["bottomroundrectangle","bottom-round-rectangle"].includes(O)?f.drawBottomRoundRectanglePath(ce||a,re.x,re.y,se,le):"barrel"===O?f.drawBarrelPath(ce||a,re.x,re.y,se,le):O.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(O)?(it=ns(tc(it,(L+G+X)/p)),f.drawPolygonPath(ce||a,re.x,re.y,p,g,it)):(it=ns(tc(it,-(L+G+X)/p)),f.drawPolygonPath(ce||a,re.x,re.y,p,g,it));if(C?a.stroke(ce):a.stroke(),"double"===ne){a.lineWidth=L/3;var ht=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",C?a.stroke(ce):a.stroke(),a.globalCompositeOperation=ht}a.setLineDash&&a.setLineDash([])}};if("yes"===r.pstyle("ghost").value){var rt=r.pstyle("ghost-offset-x").pfValue,jt=r.pstyle("ghost-offset-y").pfValue,Lt=r.pstyle("ghost-opacity").value,yt=Lt*D;a.translate(rt,jt),be(),Be(),ue(Lt*j),_e(),Ie(yt,!0),oe(Lt*W),Ct(),ke(0!==U||0!==L),Ie(yt,!1),Je(yt),a.translate(-rt,-jt)}C&&a.translate(-w.x,-w.y),c&&f.drawNodeUnderlay(a,r,w,p,g),C&&a.translate(w.x,w.y),be(),Be(),ue(),_e(),Ie(D,!0),oe(),Ct(),ke(0!==U||0!==L),Ie(D,!1),Je(),C&&a.translate(-w.x,-w.y),f.drawElementText(a,r,null,u),c&&f.drawNodeOverlay(a,r,w,p,g),o&&a.translate(M.x1,M.y1)}}},Ns=function(r){if(!["overlay","underlay"].includes(r))throw new Error("Invalid state");return function(o,u,c,d,f){if(u.visible()){var g=u.pstyle("".concat(r,"-padding")).pfValue,v=u.pstyle("".concat(r,"-opacity")).value,m=u.pstyle("".concat(r,"-color")).value,w=u.pstyle("".concat(r,"-shape")).value;if(v>0){if(c=c||u.position(),null==d||null==f){var D=u.padding();d=u.width()+2*D,f=u.height()+2*D}this.colorFillStyle(o,m[0],m[1],m[2],v),this.nodeShapes[w].draw(o,c.x,c.y,d+2*g,f+2*g),o.fill()}}}};Ya.drawNodeOverlay=Ns("overlay"),Ya.drawNodeUnderlay=Ns("underlay"),Ya.hasPie=function(a){return(a=a[0])._private.hasPie},Ya.drawPie=function(a,r,o,u){r=r[0],u=u||r.position();var c=r.cy().style(),d=r.pstyle("pie-size"),f=u.x,p=u.y,g=r.width(),v=r.height(),m=Math.min(g,v)/2,w=0;this.usePaths()&&(f=0,p=0),"%"===d.units?m*=d.pfValue:void 0!==d.pfValue&&(m=d.pfValue/2);for(var C=1;C<=c.pieBackgroundN;C++){var E=r.pstyle("pie-"+C+"-background-size").value,T=r.pstyle("pie-"+C+"-background-color").value,x=r.pstyle("pie-"+C+"-background-opacity").value*o,M=E/100;M+w>1&&(M=1-w);var _=1.5*Math.PI+2*Math.PI*w,R=_+2*Math.PI*M;0===E||w>=1||w+M>1||(a.beginPath(),a.moveTo(f,p),a.arc(f,p,m,_,R),a.closePath(),this.colorFillStyle(a,T[0],T[1],T[2],x),a.fill(),w+=M)}};for(var dr={getPixelRatio:function(){var a=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(a.backingStorePixelRatio||a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)},paintCache:function(a){for(var u,r=this.paintCaches=this.paintCaches||[],o=!0,c=0;c<r.length;c++)if((u=r[c]).context===a){o=!1;break}return o&&r.push(u={context:a}),u},createGradientStyleFor:function(a,r,o,u,c){var d,f=this.usePaths(),p=o.pstyle(r+"-gradient-stop-colors").value,g=o.pstyle(r+"-gradient-stop-positions").pfValue;if("radial-gradient"===u)if(o.isEdge()){var v=o.sourceEndpoint(),m=o.targetEndpoint(),w=o.midpoint(),D=xr(v,w),C=xr(m,w);d=a.createRadialGradient(w.x,w.y,0,w.x,w.y,Math.max(D,C))}else{var E=f?{x:0,y:0}:o.position(),T=o.paddedWidth(),x=o.paddedHeight();d=a.createRadialGradient(E.x,E.y,0,E.x,E.y,Math.max(T,x))}else if(o.isEdge()){var M=o.sourceEndpoint(),_=o.targetEndpoint();d=a.createLinearGradient(M.x,M.y,_.x,_.y)}else{var A=f?{x:0,y:0}:o.position(),$=o.paddedWidth()/2,k=o.paddedHeight()/2;switch(o.pstyle("background-gradient-direction").value){case"to-bottom":d=a.createLinearGradient(A.x,A.y-k,A.x,A.y+k);break;case"to-top":d=a.createLinearGradient(A.x,A.y+k,A.x,A.y-k);break;case"to-left":d=a.createLinearGradient(A.x+$,A.y,A.x-$,A.y);break;case"to-right":d=a.createLinearGradient(A.x-$,A.y,A.x+$,A.y);break;case"to-bottom-right":case"to-right-bottom":d=a.createLinearGradient(A.x-$,A.y-k,A.x+$,A.y+k);break;case"to-top-right":case"to-right-top":d=a.createLinearGradient(A.x-$,A.y+k,A.x+$,A.y-k);break;case"to-bottom-left":case"to-left-bottom":d=a.createLinearGradient(A.x+$,A.y-k,A.x-$,A.y+k);break;case"to-top-left":case"to-left-top":d=a.createLinearGradient(A.x+$,A.y+k,A.x-$,A.y-k)}}if(!d)return null;for(var N=g.length===p.length,H=p.length,U=0;U<H;U++)d.addColorStop(N?g[U]:U/(H-1),"rgba("+p[U][0]+","+p[U][1]+","+p[U][2]+","+c+")");return d},gradientFillStyle:function(a,r,o,u){var c=this.createGradientStyleFor(a,"background",r,o,u);if(!c)return null;a.fillStyle=c},colorFillStyle:function(a,r,o,u,c){a.fillStyle="rgba("+r+","+o+","+u+","+c+")"},eleFillStyle:function(a,r,o){var u=r.pstyle("background-fill").value;if("linear-gradient"===u||"radial-gradient"===u)this.gradientFillStyle(a,r,u,o);else{var c=r.pstyle("background-color").value;this.colorFillStyle(a,c[0],c[1],c[2],o)}},gradientStrokeStyle:function(a,r,o,u){var c=this.createGradientStyleFor(a,"line",r,o,u);if(!c)return null;a.strokeStyle=c},colorStrokeStyle:function(a,r,o,u,c){a.strokeStyle="rgba("+r+","+o+","+u+","+c+")"},eleStrokeStyle:function(a,r,o){var u=r.pstyle("line-fill").value;if("linear-gradient"===u||"radial-gradient"===u)this.gradientStrokeStyle(a,r,u,o);else{var c=r.pstyle("line-color").value;this.colorStrokeStyle(a,c[0],c[1],c[2],o)}},matchCanvasSize:function(a){var r=this,o=r.data,u=r.findContainerClientCoords(),c=u[2],d=u[3],f=r.getPixelRatio();(a===r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_NODE]||a===r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_DRAG])&&(f=r.motionBlurPxRatio);var m,g=c*f,v=d*f;if(g!==r.canvasWidth||v!==r.canvasHeight){r.fontCaches=null;var w=o.canvasContainer;w.style.width=c+"px",w.style.height=d+"px";for(var D=0;D<r.CANVAS_LAYERS;D++)(m=o.canvases[D]).width=g,m.height=v,m.style.width=c+"px",m.style.height=d+"px";for(D=0;D<r.BUFFER_COUNT;D++)(m=o.bufferCanvases[D]).width=g,m.height=v,m.style.width=c+"px",m.style.height=d+"px";r.textureMult=1,f<=1&&(m=o.bufferCanvases[r.TEXTURE_BUFFER],r.textureMult=2,m.width=g*r.textureMult,m.height=v*r.textureMult),r.canvasWidth=g,r.canvasHeight=v}},renderTo:function(a,r,o,u){this.render({forcedContext:a,forcedZoom:r,forcedPan:o,drawAllLayers:!0,forcedPxRatio:u})},render:function(a){var r=(a=a||eu()).forcedContext,o=a.drawAllLayers,u=a.drawOnlyNodeLayer,c=a.forcedZoom,d=a.forcedPan,f=this,p=void 0===a.forcedPxRatio?this.getPixelRatio():a.forcedPxRatio,g=f.cy,v=f.data,m=v.canvasNeedsRedraw,w=f.textureOnViewport&&!r&&(f.pinching||f.hoverData.dragging||f.swipePanning||f.data.wheelZooming),D=void 0!==a.motionBlur?a.motionBlur:f.motionBlur,C=f.motionBlurPxRatio,E=g.hasCompoundNodes(),T=f.hoverData.draggingEles,M=D=D&&!r&&f.motionBlurEnabled&&!(f.hoverData.selecting||f.touchData.selecting);r||(f.prevPxRatio!==p&&(f.invalidateContainerClientCoordsCache(),f.matchCanvasSize(f.container),f.redrawHint("eles",!0),f.redrawHint("drag",!0)),f.prevPxRatio=p),!r&&f.motionBlurTimeout&&clearTimeout(f.motionBlurTimeout),D&&(null==f.mbFrames&&(f.mbFrames=0),f.mbFrames++,f.mbFrames<3&&(M=!1),f.mbFrames>f.minMbLowQualFrames&&(f.motionBlurPxRatio=f.mbPxRBlurry)),f.clearingMotionBlur&&(f.motionBlurPxRatio=1),f.textureDrawLastFrame&&!w&&(m[f.NODE]=!0,m[f.SELECT_BOX]=!0);var _=g.style(),A=g.zoom(),R=void 0!==c?c:A,F=g.pan(),$={x:F.x,y:F.y},k={zoom:A,pan:{x:F.x,y:F.y}},V=f.prevViewport;!(void 0===V||k.zoom!==V.zoom||k.pan.x!==V.pan.x||k.pan.y!==V.pan.y)&&!(T&&!E)&&(f.motionBlurPxRatio=1),d&&($=d),R*=p,$.x*=p,$.y*=p;var H=f.getCachedZSortedEles();function U(Be,Fe,tt,nt,Qe){var rt=Be.globalCompositeOperation;Be.globalCompositeOperation="destination-out",f.colorFillStyle(Be,255,255,255,f.motionBlurTransparency),Be.fillRect(Fe,tt,nt,Qe),Be.globalCompositeOperation=rt}function L(Be,Fe){var tt,nt,Qe,rt;f.clearingMotionBlur||Be!==v.bufferContexts[f.MOTIONBLUR_BUFFER_NODE]&&Be!==v.bufferContexts[f.MOTIONBLUR_BUFFER_DRAG]?(tt=$,nt=R,Qe=f.canvasWidth,rt=f.canvasHeight):(tt={x:F.x*C,y:F.y*C},nt=A*C,Qe=f.canvasWidth*C,rt=f.canvasHeight*C),Be.setTransform(1,0,0,1,0,0),"motionBlur"===Fe?U(Be,0,0,Qe,rt):!r&&(void 0===Fe||Fe)&&Be.clearRect(0,0,Qe,rt),o||(Be.translate(tt.x,tt.y),Be.scale(nt,nt)),d&&Be.translate(d.x,d.y),c&&Be.scale(c,c)}if(w||(f.textureDrawLastFrame=!1),w){if(f.textureDrawLastFrame=!0,!f.textureCache){f.textureCache={},f.textureCache.bb=g.mutableElements().boundingBox(),f.textureCache.texture=f.data.bufferCanvases[f.TEXTURE_BUFFER];var j=f.data.bufferContexts[f.TEXTURE_BUFFER];j.setTransform(1,0,0,1,0,0),j.clearRect(0,0,f.canvasWidth*f.textureMult,f.canvasHeight*f.textureMult),f.render({forcedContext:j,drawOnlyNodeLayer:!0,forcedPxRatio:p*f.textureMult}),(k=f.textureCache.viewport={zoom:g.zoom(),pan:g.pan(),width:f.canvasWidth,height:f.canvasHeight}).mpan={x:(0-k.pan.x)/k.zoom,y:(0-k.pan.y)/k.zoom}}m[f.DRAG]=!1,m[f.NODE]=!1;var Y=f.textureCache.texture;k=f.textureCache.viewport,(B=v.contexts[f.NODE]).setTransform(1,0,0,1,0,0),D?U(B,0,0,k.width,k.height):B.clearRect(0,0,k.width,k.height);var W=_.core("outside-texture-bg-color").value,G=_.core("outside-texture-bg-opacity").value;f.colorFillStyle(B,W[0],W[1],W[2],G),B.fillRect(0,0,k.width,k.height),A=g.zoom(),L(B,!1),B.clearRect(k.mpan.x,k.mpan.y,k.width/k.zoom/p,k.height/k.zoom/p),B.drawImage(Y,k.mpan.x,k.mpan.y,k.width/k.zoom/p,k.height/k.zoom/p)}else f.textureOnViewport&&!r&&(f.textureCache=null);var Q=g.extent(),ne=f.pinching||f.hoverData.dragging||f.swipePanning||f.data.wheelZooming||f.hoverData.draggingEles||f.cy.animated(),de=f.hideEdgesOnViewport&&ne,X=[];if(X[f.NODE]=!m[f.NODE]&&D&&!f.clearedForMotionBlur[f.NODE]||f.clearingMotionBlur,X[f.NODE]&&(f.clearedForMotionBlur[f.NODE]=!0),X[f.DRAG]=!m[f.DRAG]&&D&&!f.clearedForMotionBlur[f.DRAG]||f.clearingMotionBlur,X[f.DRAG]&&(f.clearedForMotionBlur[f.DRAG]=!0),m[f.NODE]||o||u||X[f.NODE]){var ue=D&&!X[f.NODE]&&1!==C;L(B=r||(ue?f.data.bufferContexts[f.MOTIONBLUR_BUFFER_NODE]:v.contexts[f.NODE]),D&&!ue?"motionBlur":void 0),de?f.drawCachedNodes(B,H.nondrag,p,Q):f.drawLayeredElements(B,H.nondrag,p,Q),f.debug&&f.drawDebugPoints(B,H.nondrag),!o&&!D&&(m[f.NODE]=!1)}if(!u&&(m[f.DRAG]||o||X[f.DRAG])&&(ue=D&&!X[f.DRAG]&&1!==C,L(B=r||(ue?f.data.bufferContexts[f.MOTIONBLUR_BUFFER_DRAG]:v.contexts[f.DRAG]),D&&!ue?"motionBlur":void 0),de?f.drawCachedNodes(B,H.drag,p,Q):f.drawCachedElements(B,H.drag,p,Q),f.debug&&f.drawDebugPoints(B,H.drag),!o&&!D&&(m[f.DRAG]=!1)),f.showFps||!u&&m[f.SELECT_BOX]&&!o){var B;if(L(B=r||v.contexts[f.SELECT_BOX]),1==f.selection[4]&&(f.hoverData.selecting||f.touchData.selecting)){A=f.cy.zoom();var be=_.core("selection-box-border-width").value/A;B.lineWidth=be,B.fillStyle="rgba("+_.core("selection-box-color").value[0]+","+_.core("selection-box-color").value[1]+","+_.core("selection-box-color").value[2]+","+_.core("selection-box-opacity").value+")",B.fillRect(f.selection[0],f.selection[1],f.selection[2]-f.selection[0],f.selection[3]-f.selection[1]),be>0&&(B.strokeStyle="rgba("+_.core("selection-box-border-color").value[0]+","+_.core("selection-box-border-color").value[1]+","+_.core("selection-box-border-color").value[2]+","+_.core("selection-box-opacity").value+")",B.strokeRect(f.selection[0],f.selection[1],f.selection[2]-f.selection[0],f.selection[3]-f.selection[1]))}if(v.bgActivePosistion&&!f.hoverData.selecting){A=f.cy.zoom();var me=v.bgActivePosistion;B.fillStyle="rgba("+_.core("active-bg-color").value[0]+","+_.core("active-bg-color").value[1]+","+_.core("active-bg-color").value[2]+","+_.core("active-bg-opacity").value+")",B.beginPath(),B.arc(me.x,me.y,_.core("active-bg-size").pfValue/A,0,2*Math.PI),B.fill()}var De=f.lastRedrawTime;if(f.showFps&&De){De=Math.round(De);var te=Math.round(1e3/De);B.setTransform(1,0,0,1,0,0),B.fillStyle="rgba(255, 0, 0, 0.75)",B.strokeStyle="rgba(255, 0, 0, 0.75)",B.lineWidth=1,B.fillText("1 frame = "+De+" ms = "+te+" fps",0,20),B.strokeRect(0,30,250,20),B.fillRect(0,30,250*Math.min(te/60,1),20)}o||(m[f.SELECT_BOX]=!1)}if(D&&1!==C){var ke=v.contexts[f.DRAG],Je=f.data.bufferCanvases[f.MOTIONBLUR_BUFFER_DRAG],Ct=function(Fe,tt,nt){Fe.setTransform(1,0,0,1,0,0),nt||!M?Fe.clearRect(0,0,f.canvasWidth,f.canvasHeight):U(Fe,0,0,f.canvasWidth,f.canvasHeight),Fe.drawImage(tt,0,0,f.canvasWidth*C,f.canvasHeight*C,0,0,f.canvasWidth,f.canvasHeight)};(m[f.NODE]||X[f.NODE])&&(Ct(v.contexts[f.NODE],f.data.bufferCanvases[f.MOTIONBLUR_BUFFER_NODE],X[f.NODE]),m[f.NODE]=!1),(m[f.DRAG]||X[f.DRAG])&&(Ct(ke,Je,X[f.DRAG]),m[f.DRAG]=!1)}f.prevViewport=k,f.clearingMotionBlur&&(f.clearingMotionBlur=!1,f.motionBlurCleared=!0,f.motionBlur=!0),D&&(f.motionBlurTimeout=setTimeout(function(){f.motionBlurTimeout=null,f.clearedForMotionBlur[f.NODE]=!1,f.clearedForMotionBlur[f.DRAG]=!1,f.motionBlur=!1,f.clearingMotionBlur=!w,f.mbFrames=0,m[f.NODE]=!0,m[f.DRAG]=!0,f.redraw()},100)),r||g.emit("render")}},Mi={drawPolygonPath:function(a,r,o,u,c,d){var f=u/2,p=c/2;a.beginPath&&a.beginPath(),a.moveTo(r+f*d[0],o+p*d[1]);for(var g=1;g<d.length/2;g++)a.lineTo(r+f*d[2*g],o+p*d[2*g+1]);a.closePath()},drawRoundPolygonPath:function(a,r,o,u,c,d){var f=u/2,p=c/2,g=ua(u,c);a.beginPath&&a.beginPath();for(var v=0;v<d.length/4;v++){var w,m;m=0===v?d.length-2:4*v-2,w=4*v+2;var D=r+f*d[4*v],C=o+p*d[4*v+1],T=g/Math.tan(Math.acos(-d[m]*d[w]-d[m+1]*d[w+1])/2),x=D-T*d[m],M=C-T*d[m+1],_=D+T*d[w],A=C+T*d[w+1];0===v?a.moveTo(x,M):a.lineTo(x,M),a.arcTo(D,C,_,A,g)}a.closePath()},drawRoundRectanglePath:function(a,r,o,u,c){var d=u/2,f=c/2,p=Fi(u,c);a.beginPath&&a.beginPath(),a.moveTo(r,o-f),a.arcTo(r+d,o-f,r+d,o,p),a.arcTo(r+d,o+f,r,o+f,p),a.arcTo(r-d,o+f,r-d,o,p),a.arcTo(r-d,o-f,r,o-f,p),a.lineTo(r,o-f),a.closePath()},drawBottomRoundRectanglePath:function(a,r,o,u,c){var d=u/2,f=c/2,p=Fi(u,c);a.beginPath&&a.beginPath(),a.moveTo(r,o-f),a.lineTo(r+d,o-f),a.lineTo(r+d,o),a.arcTo(r+d,o+f,r,o+f,p),a.arcTo(r-d,o+f,r-d,o,p),a.lineTo(r-d,o-f),a.lineTo(r,o-f),a.closePath()},drawCutRectanglePath:function(a,r,o,u,c){var d=u/2,f=c/2;a.beginPath&&a.beginPath(),a.moveTo(r-d+8,o-f),a.lineTo(r+d-8,o-f),a.lineTo(r+d,o-f+8),a.lineTo(r+d,o+f-8),a.lineTo(r+d-8,o+f),a.lineTo(r-d+8,o+f),a.lineTo(r-d,o+f-8),a.lineTo(r-d,o-f+8),a.closePath()},drawBarrelPath:function(a,r,o,u,c){var d=u/2,f=c/2,p=r-d,g=r+d,v=o-f,m=o+f,w=lu(u,c),D=w.widthOffset,C=w.heightOffset,E=w.ctrlPtOffsetPct*D;a.beginPath&&a.beginPath(),a.moveTo(p,v+C),a.lineTo(p,m-C),a.quadraticCurveTo(p+E,m,p+D,m),a.lineTo(g-D,m),a.quadraticCurveTo(g-E,m,g,m-C),a.lineTo(g,v+C),a.quadraticCurveTo(g-E,v,g-D,v),a.lineTo(p+D,v),a.quadraticCurveTo(p+E,v,p,v+C),a.closePath()}},Gu=Math.sin(0),qu=Math.cos(0),Za={},Hc={},Uc=Math.PI/40,Ho=0*Math.PI;Ho<2*Math.PI;Ho+=Uc)Za[Ho]=Math.sin(Ho),Hc[Ho]=Math.cos(Ho);Mi.drawEllipsePath=function(a,r,o,u,c){if(a.beginPath&&a.beginPath(),a.ellipse)a.ellipse(r,o,u/2,c/2,0,0,2*Math.PI);else for(var d,f,p=u/2,g=c/2,v=0*Math.PI;v<2*Math.PI;v+=Uc)d=r-p*Za[v]*Gu+p*Hc[v]*qu,f=o+g*Hc[v]*Gu+g*Za[v]*qu,0===v?a.moveTo(d,f):a.lineTo(d,f);a.closePath()};var Os={};function jc(a){var r=a.indexOf(",");return a.substr(r+1)}function Gc(a,r,o){var u=function(){return r.toDataURL(o,a.quality)};switch(a.output){case"blob-promise":return new cs(function(c,d){try{r.toBlob(function(f){null!=f?c(f):d(new Error("`canvas.toBlob()` sent a null value in its callback"))},o,a.quality)}catch(f){d(f)}});case"blob":return function Eg(a,r){for(var o=atob(a),u=new ArrayBuffer(o.length),c=new Uint8Array(u),d=0;d<o.length;d++)c[d]=o.charCodeAt(d);return new Blob([u],{type:r})}(jc(u()),o);case"base64":return jc(u());default:return u()}}Os.createBuffer=function(a,r){var o=document.createElement("canvas");return o.width=a,o.height=r,[o,o.getContext("2d")]},Os.bufferCanvasImage=function(a){var r=this.cy,u=r.mutableElements().boundingBox(),c=this.findContainerClientCoords(),d=a.full?Math.ceil(u.w):c[2],f=a.full?Math.ceil(u.h):c[3],p=Ve(a.maxWidth)||Ve(a.maxHeight),g=this.getPixelRatio(),v=1;if(void 0!==a.scale)d*=a.scale,f*=a.scale,v=a.scale;else if(p){var m=1/0,w=1/0;Ve(a.maxWidth)&&(m=v*a.maxWidth/d),Ve(a.maxHeight)&&(w=v*a.maxHeight/f),d*=v=Math.min(m,w),f*=v}p||(d*=g,f*=g,v*=g);var D=document.createElement("canvas");D.width=d,D.height=f,D.style.width=d+"px",D.style.height=f+"px";var C=D.getContext("2d");if(d>0&&f>0){C.clearRect(0,0,d,f),C.globalCompositeOperation="source-over";var E=this.getCachedZSortedEles();if(a.full)C.translate(-u.x1*v,-u.y1*v),C.scale(v,v),this.drawElements(C,E),C.scale(1/v,1/v),C.translate(u.x1*v,u.y1*v);else{var T=r.pan(),x={x:T.x*v,y:T.y*v};v*=r.zoom(),C.translate(x.x,x.y),C.scale(v,v),this.drawElements(C,E),C.scale(1/v,1/v),C.translate(-x.x,-x.y)}a.bg&&(C.globalCompositeOperation="destination-over",C.fillStyle=a.bg,C.rect(0,0,d,f),C.fill())}return D},Os.png=function(a){return Gc(a,this.bufferCanvasImage(a),"image/png")},Os.jpg=function(a){return Gc(a,this.bufferCanvasImage(a),"image/jpeg")};var qc=Ih,Bt=Ih.prototype;function Ih(a){var r=this;r.data={canvases:new Array(Bt.CANVAS_LAYERS),contexts:new Array(Bt.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Bt.CANVAS_LAYERS),bufferCanvases:new Array(Bt.BUFFER_COUNT),bufferContexts:new Array(Bt.CANVAS_LAYERS)};var o="-webkit-tap-highlight-color",u="rgba(0,0,0,0)";r.data.canvasContainer=document.createElement("div");var c=r.data.canvasContainer.style;r.data.canvasContainer.style[o]=u,c.position="relative",c.zIndex="0",c.overflow="hidden";var d=a.cy.container();d.appendChild(r.data.canvasContainer),d.style[o]=u;var f={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Yp()&&(f["-ms-touch-action"]="none",f["touch-action"]="none");for(var p=0;p<Bt.CANVAS_LAYERS;p++){var g=r.data.canvases[p]=document.createElement("canvas");r.data.contexts[p]=g.getContext("2d"),Object.keys(f).forEach(function(De){g.style[De]=f[De]}),g.style.position="absolute",g.setAttribute("data-id","layer"+p),g.style.zIndex=String(Bt.CANVAS_LAYERS-p),r.data.canvasContainer.appendChild(g),r.data.canvasNeedsRedraw[p]=!1}for(r.data.topCanvas=r.data.canvases[0],r.data.canvases[Bt.NODE].setAttribute("data-id","layer"+Bt.NODE+"-node"),r.data.canvases[Bt.SELECT_BOX].setAttribute("data-id","layer"+Bt.SELECT_BOX+"-selectbox"),r.data.canvases[Bt.DRAG].setAttribute("data-id","layer"+Bt.DRAG+"-drag"),p=0;p<Bt.BUFFER_COUNT;p++)r.data.bufferCanvases[p]=document.createElement("canvas"),r.data.bufferContexts[p]=r.data.bufferCanvases[p].getContext("2d"),r.data.bufferCanvases[p].style.position="absolute",r.data.bufferCanvases[p].setAttribute("data-id","buffer"+p),r.data.bufferCanvases[p].style.zIndex=String(-p-1),r.data.bufferCanvases[p].style.visibility="hidden";r.pathsEnabled=!0;var v=Tr(),w=function(te){return{x:-te.w/2,y:-te.h/2}},F=function(te){return te.boundingBox(),te[0]._private.bodyBounds},$=function(te){return te.boundingBox(),te[0]._private.labelBounds.main||v},k=function(te){return te.boundingBox(),te[0]._private.labelBounds.source||v},V=function(te){return te.boundingBox(),te[0]._private.labelBounds.target||v},N=function(te,ye){return ye},U=function(te,ye,_e){var Ie=te?te+"-":"";return{x:ye.x+_e.pstyle(Ie+"text-margin-x").pfValue,y:ye.y+_e.pstyle(Ie+"text-margin-y").pfValue}},L=function(te,ye,_e){var Ie=te[0]._private.rscratch;return{x:Ie[ye],y:Ie[_e]}},de=r.data.eleTxrCache=new Wa(r,{getKey:function(te){return te[0]._private.nodeKey},doesEleInvalidateKey:function(te){var ye=te[0]._private;return!(ye.oldBackgroundTimestamp===ye.backgroundTimestamp)},drawElement:function(te,ye,_e,Ie,ke){return r.drawElement(te,ye,_e,!1,!1,ke)},getBoundingBox:F,getRotationPoint:function(te){return function(te){return{x:(te.x1+te.x2)/2,y:(te.y1+te.y2)/2}}(F(te))},getRotationOffset:function(te){return w(F(te))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),X=r.data.lblTxrCache=new Wa(r,{getKey:function(te){return te[0]._private.labelStyleKey},drawElement:function(te,ye,_e,Ie,ke){return r.drawElementText(te,ye,_e,Ie,"main",ke)},getBoundingBox:$,getRotationPoint:function(te){return U("",L(te,"labelX","labelY"),te)},getRotationOffset:function(te){var ye=$(te),_e=w($(te));if(te.isNode()){switch(te.pstyle("text-halign").value){case"left":_e.x=-ye.w;break;case"right":_e.x=0}switch(te.pstyle("text-valign").value){case"top":_e.y=-ye.h;break;case"bottom":_e.y=0}}return _e},isVisible:N}),ue=r.data.slbTxrCache=new Wa(r,{getKey:function(te){return te[0]._private.sourceLabelStyleKey},drawElement:function(te,ye,_e,Ie,ke){return r.drawElementText(te,ye,_e,Ie,"source",ke)},getBoundingBox:k,getRotationPoint:function(te){return U("source",L(te,"sourceLabelX","sourceLabelY"),te)},getRotationOffset:function(te){return w(k(te))},isVisible:N}),oe=r.data.tlbTxrCache=new Wa(r,{getKey:function(te){return te[0]._private.targetLabelStyleKey},drawElement:function(te,ye,_e,Ie,ke){return r.drawElementText(te,ye,_e,Ie,"target",ke)},getBoundingBox:V,getRotationPoint:function(te){return U("target",L(te,"targetLabelX","targetLabelY"),te)},getRotationOffset:function(te){return w(V(te))},isVisible:N}),be=r.data.lyrTxrCache=new wh(r);r.onUpdateEleCalcs(function(te,ye){de.invalidateElements(ye),X.invalidateElements(ye),ue.invalidateElements(ye),oe.invalidateElements(ye),be.invalidateElements(ye);for(var _e=0;_e<ye.length;_e++){var Ie=ye[_e]._private;Ie.oldBackgroundTimestamp=Ie.backgroundTimestamp}});var me=function(te){for(var ye=0;ye<te.length;ye++)be.enqueueElementRefinement(te[ye].ele)};de.onDequeue(me),X.onDequeue(me),ue.onDequeue(me),oe.onDequeue(me)}Bt.CANVAS_LAYERS=3,Bt.SELECT_BOX=0,Bt.DRAG=1,Bt.NODE=2,Bt.BUFFER_COUNT=3,Bt.TEXTURE_BUFFER=0,Bt.MOTIONBLUR_BUFFER_NODE=1,Bt.MOTIONBLUR_BUFFER_DRAG=2,Bt.redrawHint=function(a,r){var o=this;switch(a){case"eles":o.data.canvasNeedsRedraw[Bt.NODE]=r;break;case"drag":o.data.canvasNeedsRedraw[Bt.DRAG]=r;break;case"select":o.data.canvasNeedsRedraw[Bt.SELECT_BOX]=r}};var Cg=typeof Path2D<"u";Bt.path2dEnabled=function(a){if(void 0===a)return this.pathsEnabled;this.pathsEnabled=!!a},Bt.usePaths=function(){return Cg&&this.pathsEnabled},Bt.setImgSmoothing=function(a,r){null!=a.imageSmoothingEnabled?a.imageSmoothingEnabled=r:(a.webkitImageSmoothingEnabled=r,a.mozImageSmoothingEnabled=r,a.msImageSmoothingEnabled=r)},Bt.getImgSmoothing=function(a){return null!=a.imageSmoothingEnabled?a.imageSmoothingEnabled:a.webkitImageSmoothingEnabled||a.mozImageSmoothingEnabled||a.msImageSmoothingEnabled},Bt.makeOffscreenCanvas=function(a,r){var o;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":qe(OffscreenCanvas))?o=new OffscreenCanvas(a,r):((o=document.createElement("canvas")).width=a,o.height=r),o},[Vc,oi,Ki,ju,ba,Ya,dr,Mi,Os,{nodeShapeImpl:function(a,r,o,u,c,d,f){switch(a){case"ellipse":return this.drawEllipsePath(r,o,u,c,d);case"polygon":return this.drawPolygonPath(r,o,u,c,d,f);case"round-polygon":return this.drawRoundPolygonPath(r,o,u,c,d,f);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(r,o,u,c,d);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(r,o,u,c,d);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(r,o,u,c,d);case"barrel":return this.drawBarrelPath(r,o,u,c,d)}}}].forEach(function(a){st(Bt,a)});var Sg=[{type:"layout",extensions:rg},{type:"renderer",extensions:[{name:"null",impl:xs},{name:"base",impl:uh},{name:"canvas",impl:qc}]}],Wu={},Mh={};function Wc(a,r,o){var u=o,c=function(V){Dt("Can not register `"+r+"` for `"+a+"` since `"+V+"` already exists in the prototype and can not be overridden")};if("core"===a){if(lr.prototype[r])return c(r);lr.prototype[r]=o}else if("collection"===a){if($n.prototype[r])return c(r);$n.prototype[r]=o}else if("layout"===a){for(var d=function(V){this.options=V,o.call(this,V),at(this._private)||(this._private={}),this._private.cy=V.cy,this._private.listeners=[],this.createEmitter()},f=d.prototype=Object.create(o.prototype),p=[],g=0;g<p.length;g++){var v=p[g];f[v]=f[v]||function(){return this}}f.start&&!f.run?f.run=function(){return this.start(),this}:!f.start&&f.run&&(f.start=function(){return this.run(),this});var m=o.prototype.stop;f.stop=function(){var k=this.options;if(k&&k.animate){var V=this.animations;if(V)for(var N=0;N<V.length;N++)V[N].stop()}return m?m.call(this):this.emit("layoutstop"),this},f.destroy||(f.destroy=function(){return this}),f.cy=function(){return this._private.cy};var w=function(V){return V._private.cy},D={addEventFields:function(V,N){N.layout=V,N.cy=w(V),N.target=V},bubble:function(){return!0},parent:function(V){return w(V)}};st(f,{createEmitter:function(){return this._private.emitter=new $a(D,this),this},emitter:function(){return this._private.emitter},on:function(V,N){return this.emitter().on(V,N),this},one:function(V,N){return this.emitter().one(V,N),this},once:function(V,N){return this.emitter().one(V,N),this},removeListener:function(V,N){return this.emitter().removeListener(V,N),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(V,N){return this.emitter().emit(V,N),this}}),Jt.eventAliasesOn(f),u=d}else if("renderer"===a&&"null"!==r&&"base"!==r){var C=Fs("renderer","base"),E=C.prototype,T=o,x=o.prototype,M=function(){C.apply(this,arguments),T.apply(this,arguments)},_=M.prototype;for(var A in E){var R=E[A];if(null!=x[A])return c(A);_[A]=R}for(var $ in x)_[$]=x[$];E.clientFunctions.forEach(function(k){_[k]=_[k]||function(){nn("Renderer does not implement `renderer."+k+"()` on its prototype")}}),u=M}else if("__proto__"===a||"constructor"===a||"prototype"===a)return nn(a+" is an illegal type to be registered, possibly lead to prototype pollutions");return Fd({map:Wu,keys:[a,r],value:u})}function Fs(a,r){return Bd({map:Wu,keys:[a,r]})}function Kc(a,r,o,u,c){return Fd({map:Mh,keys:[a,r,o,u],value:c})}function _h(a,r,o,u){return Bd({map:Mh,keys:[a,r,o,u]})}var Ku=function(){return 2===arguments.length?Fs.apply(null,arguments):3===arguments.length?Wc.apply(null,arguments):4===arguments.length?_h.apply(null,arguments):5===arguments.length?Kc.apply(null,arguments):void nn("Invalid extension access syntax")};lr.prototype.extension=Ku,Sg.forEach(function(a){a.extensions.forEach(function(r){Wc(a.type,r.name,r.impl)})});var Yc=function a(){if(!(this instanceof a))return new a;this.length=0},Da=Yc.prototype;Da.instanceString=function(){return"stylesheet"},Da.selector=function(a){return this[this.length++]={selector:a,properties:[]},this},Da.css=function(a,r){var o=this.length-1;if(Le(a))this[o].properties.push({name:a,value:r});else if(at(a))for(var u=a,c=Object.keys(u),d=0;d<c.length;d++){var f=c[d],p=u[f];if(null!=p){var g=wr.properties[f]||wr.properties[Nl(f)];null!=g&&this[o].properties.push({name:g.name,value:p})}}return this},Da.style=Da.css,Da.generateStyle=function(a){var r=new wr(a);return this.appendToStyle(r)},Da.appendToStyle=function(a){for(var r=0;r<this.length;r++){var o=this[r],c=o.properties;a.selector(o.selector);for(var d=0;d<c.length;d++){var f=c[d];a.css(f.name,f.value)}}return a};var Qa=function(r){return void 0===r&&(r={}),at(r)?new lr(r):Le(r)?Ku.apply(Ku,arguments):void 0};Qa.use=function(a){var r=Array.prototype.slice.call(arguments,1);return r.unshift(Qa),a.apply(null,r),this},Qa.warnings=function(a){return qd(a)},Qa.version="3.28.1",Qa.stylesheet=Qa.Stylesheet=Yc,ie.exports=Qa},5203:(ie,Ne,K)=>{ie.exports=K(8732)},8732:function(ie,Ne){var K,Z,ae;(function(){var he,pe,Ee,ge,Me,ve,Ae,Pe,Ge,qe,$t,_t,gt,tn,Tt;Ee=Math.floor,qe=Math.min,pe=function(Te,$e){return Te<$e?-1:Te>$e?1:0},Ge=function(Te,$e,He,Xe,Oe){var We;if(null==He&&(He=0),null==Oe&&(Oe=pe),He<0)throw new Error("lo must be non-negative");for(null==Xe&&(Xe=Te.length);He<Xe;)Oe($e,Te[We=Ee((He+Xe)/2)])<0?Xe=We:He=We+1;return[].splice.apply(Te,[He,He-He].concat($e)),$e},ve=function(Te,$e,He){return null==He&&(He=pe),Te.push($e),tn(Te,0,Te.length-1,He)},Me=function(Te,$e){var He,Xe;return null==$e&&($e=pe),He=Te.pop(),Te.length?(Xe=Te[0],Te[0]=He,Tt(Te,0,$e)):Xe=He,Xe},Pe=function(Te,$e,He){var Xe;return null==He&&(He=pe),Xe=Te[0],Te[0]=$e,Tt(Te,0,He),Xe},Ae=function(Te,$e,He){var Xe;return null==He&&(He=pe),Te.length&&He(Te[0],$e)<0&&($e=(Xe=[Te[0],$e])[0],Te[0]=Xe[1],Tt(Te,0,He)),$e},ge=function(Te,$e){var Xe,We,zt,an,jr;for(null==$e&&($e=pe),an=[],Xe=0,We=(zt=function(){jr=[];for(var kr=0,yn=Ee(Te.length/2);0<=yn?kr<yn:kr>yn;0<=yn?kr++:kr--)jr.push(kr);return jr}.apply(this).reverse()).length;Xe<We;Xe++)an.push(Tt(Te,zt[Xe],$e));return an},gt=function(Te,$e,He){var Xe;if(null==He&&(He=pe),-1!==(Xe=Te.indexOf($e)))return tn(Te,0,Xe,He),Tt(Te,Xe,He)},$t=function(Te,$e,He){var Oe,We,ze,zt;if(null==He&&(He=pe),!(Oe=Te.slice(0,$e)).length)return Oe;for(ge(Oe,He),We=0,ze=(zt=Te.slice($e)).length;We<ze;We++)Ae(Oe,zt[We],He);return Oe.sort(He).reverse()},_t=function(Te,$e,He){var Xe,We,ze,zt,an,jr,kr,yn,Le;if(null==He&&(He=pe),10*$e<=Te.length){if(!(ze=Te.slice(0,$e).sort(He)).length)return ze;for(We=ze[ze.length-1],zt=0,jr=(kr=Te.slice($e)).length;zt<jr;zt++)He(Xe=kr[zt],We)<0&&(Ge(ze,Xe,0,null,He),ze.pop(),We=ze[ze.length-1]);return ze}for(ge(Te,He),Le=[],an=0,yn=qe($e,Te.length);0<=yn?an<yn:an>yn;0<=yn?++an:--an)Le.push(Me(Te,He));return Le},tn=function(Te,$e,He,Xe){var Oe,We,ze;for(null==Xe&&(Xe=pe),Oe=Te[He];He>$e&&Xe(Oe,We=Te[ze=He-1>>1])<0;)Te[He]=We,He=ze;return Te[He]=Oe},Tt=function(Te,$e,He){var Xe,Oe,We,ze,zt;for(null==He&&(He=pe),Oe=Te.length,zt=$e,We=Te[$e],Xe=2*$e+1;Xe<Oe;)(ze=Xe+1)<Oe&&!(He(Te[Xe],Te[ze])<0)&&(Xe=ze),Te[$e]=Te[Xe],Xe=2*($e=Xe)+1;return Te[$e]=We,tn(Te,zt,$e,He)},he=function(){function Te($e){this.cmp=$e??pe,this.nodes=[]}return Te.push=ve,Te.pop=Me,Te.replace=Pe,Te.pushpop=Ae,Te.heapify=ge,Te.updateItem=gt,Te.nlargest=$t,Te.nsmallest=_t,Te.prototype.push=function($e){return ve(this.nodes,$e,this.cmp)},Te.prototype.pop=function(){return Me(this.nodes,this.cmp)},Te.prototype.peek=function(){return this.nodes[0]},Te.prototype.contains=function($e){return-1!==this.nodes.indexOf($e)},Te.prototype.replace=function($e){return Pe(this.nodes,$e,this.cmp)},Te.prototype.pushpop=function($e){return Ae(this.nodes,$e,this.cmp)},Te.prototype.heapify=function(){return ge(this.nodes,this.cmp)},Te.prototype.updateItem=function($e){return gt(this.nodes,$e,this.cmp)},Te.prototype.clear=function(){return this.nodes=[]},Te.prototype.empty=function(){return 0===this.nodes.length},Te.prototype.size=function(){return this.nodes.length},Te.prototype.clone=function(){var $e;return($e=new Te).nodes=this.nodes.slice(0),$e},Te.prototype.toArray=function(){return this.nodes.slice(0)},Te.prototype.insert=Te.prototype.push,Te.prototype.top=Te.prototype.peek,Te.prototype.front=Te.prototype.peek,Te.prototype.has=Te.prototype.contains,Te.prototype.copy=Te.prototype.clone,Te}(),Z=[],void 0===(ae="function"==typeof(K=function(){return he})?K.apply(Ne,Z):K)||(ie.exports=ae)}).call(this)},4994:(ie,Ne,K)=>{var Z=K(4312),ae=K(6421),he=K(5764),pe=K(8685),Ee=K(6676);function ge(Me){var ve=-1,Ae=null==Me?0:Me.length;for(this.clear();++ve<Ae;){var Pe=Me[ve];this.set(Pe[0],Pe[1])}}ge.prototype.clear=Z,ge.prototype.delete=ae,ge.prototype.get=he,ge.prototype.has=pe,ge.prototype.set=Ee,ie.exports=ge},9215:(ie,Ne,K)=>{var Z=K(1840),ae=K(4378),he=K(4981),pe=K(7343),Ee=K(8895);function ge(Me){var ve=-1,Ae=null==Me?0:Me.length;for(this.clear();++ve<Ae;){var Pe=Me[ve];this.set(Pe[0],Pe[1])}}ge.prototype.clear=Z,ge.prototype.delete=ae,ge.prototype.get=he,ge.prototype.has=pe,ge.prototype.set=Ee,ie.exports=ge},1501:(ie,Ne,K)=>{var he=K(3436)(K(2119),"Map");ie.exports=he},9850:(ie,Ne,K)=>{var Z=K(638),ae=K(1184),he=K(866),pe=K(3771),Ee=K(1772);function ge(Me){var ve=-1,Ae=null==Me?0:Me.length;for(this.clear();++ve<Ae;){var Pe=Me[ve];this.set(Pe[0],Pe[1])}}ge.prototype.clear=Z,ge.prototype.delete=ae,ge.prototype.get=he,ge.prototype.has=pe,ge.prototype.set=Ee,ie.exports=ge},443:(ie,Ne,K)=>{var Z=K(2119);ie.exports=Z.Symbol},4633:ie=>{ie.exports=function Ne(K,Z){for(var ae=-1,he=null==K?0:K.length,pe=Array(he);++ae<he;)pe[ae]=Z(K[ae],ae,K);return pe}},9719:(ie,Ne,K)=>{var Z=K(5683),ae=K(217),pe=Object.prototype.hasOwnProperty;ie.exports=function Ee(ge,Me,ve){var Ae=ge[Me];(!pe.call(ge,Me)||!ae(Ae,ve)||void 0===ve&&!(Me in ge))&&Z(ge,Me,ve)}},3503:(ie,Ne,K)=>{var Z=K(217);ie.exports=function ae(he,pe){for(var Ee=he.length;Ee--;)if(Z(he[Ee][0],pe))return Ee;return-1}},5683:(ie,Ne,K)=>{var Z=K(6713);ie.exports=function ae(he,pe,Ee){"__proto__"==pe&&Z?Z(he,pe,{configurable:!0,enumerable:!0,value:Ee,writable:!0}):he[pe]=Ee}},5456:(ie,Ne,K)=>{var Z=K(6884),ae=K(8533);ie.exports=function he(pe,Ee){for(var ge=0,Me=(Ee=Z(Ee,pe)).length;null!=pe&&ge<Me;)pe=pe[ae(Ee[ge++])];return ge&&ge==Me?pe:void 0}},3337:(ie,Ne,K)=>{var Z=K(443),ae=K(1318),he=K(2902),ge=Z?Z.toStringTag:void 0;ie.exports=function Me(ve){return null==ve?void 0===ve?"[object Undefined]":"[object Null]":ge&&ge in Object(ve)?ae(ve):he(ve)}},7304:(ie,Ne,K)=>{var Z=K(5946),ae=K(1943),he=K(5940),pe=K(2827),ge=/^\[object .+?Constructor\]$/,Ge=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");ie.exports=function qe($t){return!(!he($t)||ae($t))&&(Z($t)?Ge:ge).test(pe($t))}},5963:(ie,Ne,K)=>{var Z=K(9719),ae=K(6884),he=K(8442),pe=K(5940),Ee=K(8533);ie.exports=function ge(Me,ve,Ae,Pe){if(!pe(Me))return Me;for(var Ge=-1,qe=(ve=ae(ve,Me)).length,$t=qe-1,_t=Me;null!=_t&&++Ge<qe;){var gt=Ee(ve[Ge]),tn=Ae;if("__proto__"===gt||"constructor"===gt||"prototype"===gt)return Me;if(Ge!=$t){var Tt=_t[gt];void 0===(tn=Pe?Pe(Tt,gt,_t):void 0)&&(tn=pe(Tt)?Tt:he(ve[Ge+1])?[]:{})}Z(_t,gt,tn),_t=_t[gt]}return Me}},3935:(ie,Ne,K)=>{var Z=K(443),ae=K(4633),he=K(1503),pe=K(4129),ge=Z?Z.prototype:void 0,Me=ge?ge.toString:void 0;ie.exports=function ve(Ae){if("string"==typeof Ae)return Ae;if(he(Ae))return ae(Ae,ve)+"";if(pe(Ae))return Me?Me.call(Ae):"";var Pe=Ae+"";return"0"==Pe&&1/Ae==-Infinity?"-0":Pe}},3348:(ie,Ne,K)=>{var Z=K(2760),ae=/^\s+/;ie.exports=function he(pe){return pe&&pe.slice(0,Z(pe)+1).replace(ae,"")}},6884:(ie,Ne,K)=>{var Z=K(1503),ae=K(5352),he=K(2855),pe=K(3943);ie.exports=function Ee(ge,Me){return Z(ge)?ge:ae(ge,Me)?[ge]:he(pe(ge))}},9454:ie=>{ie.exports=function Ne(K,Z){var ae=-1,he=K.length;for(Z||(Z=Array(he));++ae<he;)Z[ae]=K[ae];return Z}},4610:(ie,Ne,K)=>{var Z=K(2119);ie.exports=Z["__core-js_shared__"]},6713:(ie,Ne,K)=>{var Z=K(3436),ae=function(){try{var he=Z(Object,"defineProperty");return he({},"",{}),he}catch{}}();ie.exports=ae},9122:ie=>{var Ne="object"==typeof global&&global&&global.Object===Object&&global;ie.exports=Ne},4537:(ie,Ne,K)=>{var Z=K(3819);ie.exports=function ae(he,pe){var Ee=he.__data__;return Z(pe)?Ee["string"==typeof pe?"string":"hash"]:Ee.map}},3436:(ie,Ne,K)=>{var Z=K(7304),ae=K(1990);ie.exports=function he(pe,Ee){var ge=ae(pe,Ee);return Z(ge)?ge:void 0}},1318:(ie,Ne,K)=>{var Z=K(443),ae=Object.prototype,he=ae.hasOwnProperty,pe=ae.toString,Ee=Z?Z.toStringTag:void 0;ie.exports=function ge(Me){var ve=he.call(Me,Ee),Ae=Me[Ee];try{Me[Ee]=void 0;var Pe=!0}catch{}var Ge=pe.call(Me);return Pe&&(ve?Me[Ee]=Ae:delete Me[Ee]),Ge}},1990:ie=>{ie.exports=function Ne(K,Z){return K?.[Z]}},4312:(ie,Ne,K)=>{var Z=K(862);ie.exports=function ae(){this.__data__=Z?Z(null):{},this.size=0}},6421:ie=>{ie.exports=function Ne(K){var Z=this.has(K)&&delete this.__data__[K];return this.size-=Z?1:0,Z}},5764:(ie,Ne,K)=>{var Z=K(862),pe=Object.prototype.hasOwnProperty;ie.exports=function Ee(ge){var Me=this.__data__;if(Z){var ve=Me[ge];return"__lodash_hash_undefined__"===ve?void 0:ve}return pe.call(Me,ge)?Me[ge]:void 0}},8685:(ie,Ne,K)=>{var Z=K(862),he=Object.prototype.hasOwnProperty;ie.exports=function pe(Ee){var ge=this.__data__;return Z?void 0!==ge[Ee]:he.call(ge,Ee)}},6676:(ie,Ne,K)=>{var Z=K(862);ie.exports=function he(pe,Ee){var ge=this.__data__;return this.size+=this.has(pe)?0:1,ge[pe]=Z&&void 0===Ee?"__lodash_hash_undefined__":Ee,this}},8442:ie=>{var K=/^(?:0|[1-9]\d*)$/;ie.exports=function Z(ae,he){var pe=typeof ae;return!!(he=he??9007199254740991)&&("number"==pe||"symbol"!=pe&&K.test(ae))&&ae>-1&&ae%1==0&&ae<he}},5352:(ie,Ne,K)=>{var Z=K(1503),ae=K(4129),he=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pe=/^\w*$/;ie.exports=function Ee(ge,Me){if(Z(ge))return!1;var ve=typeof ge;return!("number"!=ve&&"symbol"!=ve&&"boolean"!=ve&&null!=ge&&!ae(ge))||pe.test(ge)||!he.test(ge)||null!=Me&&ge in Object(Me)}},3819:ie=>{ie.exports=function Ne(K){var Z=typeof K;return"string"==Z||"number"==Z||"symbol"==Z||"boolean"==Z?"__proto__"!==K:null===K}},1943:(ie,Ne,K)=>{var pe,Z=K(4610),ae=(pe=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+pe:"";ie.exports=function he(pe){return!!ae&&ae in pe}},1840:ie=>{ie.exports=function Ne(){this.__data__=[],this.size=0}},4378:(ie,Ne,K)=>{var Z=K(3503),he=Array.prototype.splice;ie.exports=function pe(Ee){var ge=this.__data__,Me=Z(ge,Ee);return!(Me<0||(Me==ge.length-1?ge.pop():he.call(ge,Me,1),--this.size,0))}},4981:(ie,Ne,K)=>{var Z=K(3503);ie.exports=function ae(he){var pe=this.__data__,Ee=Z(pe,he);return Ee<0?void 0:pe[Ee][1]}},7343:(ie,Ne,K)=>{var Z=K(3503);ie.exports=function ae(he){return Z(this.__data__,he)>-1}},8895:(ie,Ne,K)=>{var Z=K(3503);ie.exports=function ae(he,pe){var Ee=this.__data__,ge=Z(Ee,he);return ge<0?(++this.size,Ee.push([he,pe])):Ee[ge][1]=pe,this}},638:(ie,Ne,K)=>{var Z=K(4994),ae=K(9215),he=K(1501);ie.exports=function pe(){this.size=0,this.__data__={hash:new Z,map:new(he||ae),string:new Z}}},1184:(ie,Ne,K)=>{var Z=K(4537);ie.exports=function ae(he){var pe=Z(this,he).delete(he);return this.size-=pe?1:0,pe}},866:(ie,Ne,K)=>{var Z=K(4537);ie.exports=function ae(he){return Z(this,he).get(he)}},3771:(ie,Ne,K)=>{var Z=K(4537);ie.exports=function ae(he){return Z(this,he).has(he)}},1772:(ie,Ne,K)=>{var Z=K(4537);ie.exports=function ae(he,pe){var Ee=Z(this,he),ge=Ee.size;return Ee.set(he,pe),this.size+=Ee.size==ge?0:1,this}},719:(ie,Ne,K)=>{var Z=K(535);ie.exports=function he(pe){var Ee=Z(pe,function(Me){return 500===ge.size&&ge.clear(),Me}),ge=Ee.cache;return Ee}},862:(ie,Ne,K)=>{var ae=K(3436)(Object,"create");ie.exports=ae},2902:ie=>{var K=Object.prototype.toString;ie.exports=function Z(ae){return K.call(ae)}},2119:(ie,Ne,K)=>{var Z=K(9122),ae="object"==typeof self&&self&&self.Object===Object&&self,he=Z||ae||Function("return this")();ie.exports=he},2855:(ie,Ne,K)=>{var Z=K(719),ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,he=/\\(\\)?/g,pe=Z(function(Ee){var ge=[];return 46===Ee.charCodeAt(0)&&ge.push(""),Ee.replace(ae,function(Me,ve,Ae,Pe){ge.push(Ae?Pe.replace(he,"$1"):ve||Me)}),ge});ie.exports=pe},8533:(ie,Ne,K)=>{var Z=K(4129);ie.exports=function he(pe){if("string"==typeof pe||Z(pe))return pe;var Ee=pe+"";return"0"==Ee&&1/pe==-Infinity?"-0":Ee}},2827:ie=>{var K=Function.prototype.toString;ie.exports=function Z(ae){if(null!=ae){try{return K.call(ae)}catch{}try{return ae+""}catch{}}return""}},2760:ie=>{var Ne=/\s/;ie.exports=function K(Z){for(var ae=Z.length;ae--&&Ne.test(Z.charAt(ae)););return ae}},406:(ie,Ne,K)=>{var Z=K(5940),ae=K(1710),he=K(1467),Ee=Math.max,ge=Math.min;ie.exports=function Me(ve,Ae,Pe){var Ge,qe,$t,_t,gt,tn,Tt=0,Te=!1,$e=!1,He=!0;if("function"!=typeof ve)throw new TypeError("Expected a function");function Xe(Le){var Zt=Ge,Kt=qe;return Ge=qe=void 0,Tt=Le,_t=ve.apply(Kt,Zt)}function ze(Le){var Zt=Le-tn;return void 0===tn||Zt>=Ae||Zt<0||$e&&Le-Tt>=$t}function zt(){var Le=ae();if(ze(Le))return an(Le);gt=setTimeout(zt,function We(Le){var at=Ae-(Le-tn);return $e?ge(at,$t-(Le-Tt)):at}(Le))}function an(Le){return gt=void 0,He&&Ge?Xe(Le):(Ge=qe=void 0,_t)}function yn(){var Le=ae(),Zt=ze(Le);if(Ge=arguments,qe=this,tn=Le,Zt){if(void 0===gt)return function Oe(Le){return Tt=Le,gt=setTimeout(zt,Ae),Te?Xe(Le):_t}(tn);if($e)return clearTimeout(gt),gt=setTimeout(zt,Ae),Xe(tn)}return void 0===gt&&(gt=setTimeout(zt,Ae)),_t}return Ae=he(Ae)||0,Z(Pe)&&(Te=!!Pe.leading,$t=($e="maxWait"in Pe)?Ee(he(Pe.maxWait)||0,Ae):$t,He="trailing"in Pe?!!Pe.trailing:He),yn.cancel=function jr(){void 0!==gt&&clearTimeout(gt),Tt=0,Ge=tn=qe=gt=void 0},yn.flush=function kr(){return void 0===gt?_t:an(ae())},yn}},217:ie=>{ie.exports=function Ne(K,Z){return K===Z||K!=K&&Z!=Z}},8817:(ie,Ne,K)=>{var Z=K(5456);ie.exports=function ae(he,pe,Ee){var ge=null==he?void 0:Z(he,pe);return void 0===ge?Ee:ge}},1503:ie=>{ie.exports=Array.isArray},5946:(ie,Ne,K)=>{var Z=K(3337),ae=K(5940);ie.exports=function Me(ve){if(!ae(ve))return!1;var Ae=Z(ve);return"[object Function]"==Ae||"[object GeneratorFunction]"==Ae||"[object AsyncFunction]"==Ae||"[object Proxy]"==Ae}},5940:ie=>{ie.exports=function Ne(K){var Z=typeof K;return null!=K&&("object"==Z||"function"==Z)}},2671:ie=>{ie.exports=function Ne(K){return null!=K&&"object"==typeof K}},4129:(ie,Ne,K)=>{var Z=K(3337),ae=K(2671);ie.exports=function pe(Ee){return"symbol"==typeof Ee||ae(Ee)&&"[object Symbol]"==Z(Ee)}},535:(ie,Ne,K)=>{var Z=K(9850),ae="Expected a function";function he(pe,Ee){if("function"!=typeof pe||null!=Ee&&"function"!=typeof Ee)throw new TypeError(ae);var ge=function(){var Me=arguments,ve=Ee?Ee.apply(this,Me):Me[0],Ae=ge.cache;if(Ae.has(ve))return Ae.get(ve);var Pe=pe.apply(this,Me);return ge.cache=Ae.set(ve,Pe)||Ae,Pe};return ge.cache=new(he.Cache||Z),ge}he.Cache=Z,ie.exports=he},1710:(ie,Ne,K)=>{var Z=K(2119);ie.exports=function(){return Z.Date.now()}},4793:(ie,Ne,K)=>{var Z=K(5963);ie.exports=function ae(he,pe,Ee){return null==he?he:Z(he,pe,Ee)}},1467:(ie,Ne,K)=>{var Z=K(3348),ae=K(5940),he=K(4129),Ee=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,Me=/^0o[0-7]+$/i,ve=parseInt;ie.exports=function Ae(Pe){if("number"==typeof Pe)return Pe;if(he(Pe))return NaN;if(ae(Pe)){var Ge="function"==typeof Pe.valueOf?Pe.valueOf():Pe;Pe=ae(Ge)?Ge+"":Ge}if("string"!=typeof Pe)return 0===Pe?Pe:+Pe;Pe=Z(Pe);var qe=ge.test(Pe);return qe||Me.test(Pe)?ve(Pe.slice(2),qe?2:8):Ee.test(Pe)?NaN:+Pe}},4152:(ie,Ne,K)=>{var Z=K(4633),ae=K(9454),he=K(1503),pe=K(4129),Ee=K(2855),ge=K(8533),Me=K(3943);ie.exports=function ve(Ae){return he(Ae)?Z(Ae,ge):pe(Ae)?[Ae]:ae(Ee(Me(Ae)))}},3943:(ie,Ne,K)=>{var Z=K(3935);ie.exports=function ae(he){return null==he?"":Z(he)}}},ie=>{ie(ie.s=8903)}]);